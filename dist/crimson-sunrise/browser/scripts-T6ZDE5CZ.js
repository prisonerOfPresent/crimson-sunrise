/*! For license information please see quill.core.js.LICENSE.txt */(function(Ie,me){typeof exports=="object"&&typeof module=="object"?module.exports=me():typeof define=="function"&&define.amd?define([],me):typeof exports=="object"?exports.Quill=me():Ie.Quill=me()})(self,(function(){return(function(){var Ie={9698:function(K,T,n){"use strict";n.d(T,{Ay:function(){return N},Ji:function(){return x},zo:function(){return c}});var h=n(6003),v=n(5232),E=n.n(v),y=n(3036),L=n(4850),o=n(5508);class N extends h.BlockBlot{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=(function(a){let b=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return a.descendants(h.LeafBlot).reduce(((k,R)=>R.length()===0?k:k.insert(R.value(),x(R,{},b))),new(E())).insert(`
`,x(a))})(this)),this.cache.delta}deleteAt(a,b){super.deleteAt(a,b),this.cache={}}formatAt(a,b,k,R){b<=0||(this.scroll.query(k,h.Scope.BLOCK)?a+b===this.length()&&this.format(k,R):super.formatAt(a,Math.min(b,this.length()-a-1),k,R),this.cache={})}insertAt(a,b,k){if(k!=null)return super.insertAt(a,b,k),void(this.cache={});if(b.length===0)return;const R=b.split(`
`),P=R.shift();P.length>0&&(a<this.length()-1||this.children.tail==null?super.insertAt(Math.min(a,this.length()-1),P):this.children.tail.insertAt(this.children.tail.length(),P),this.cache={});let Q=this;R.reduce(((et,H)=>(Q=Q.split(et,!0),Q.insertAt(0,H),H.length)),a+P.length)}insertBefore(a,b){const{head:k}=this.children;super.insertBefore(a,b),k instanceof y.A&&k.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(a,b){super.moveChildren(a,b),this.cache={}}optimize(a){super.optimize(a),this.cache={}}path(a){return super.path(a,!0)}removeChild(a){super.removeChild(a),this.cache={}}split(a){let b=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(b&&(a===0||a>=this.length()-1)){const R=this.clone();return a===0?(this.parent.insertBefore(R,this),this):(this.parent.insertBefore(R,this.next),R)}const k=super.split(a,b);return this.cache={},k}}N.blotName="block",N.tagName="P",N.defaultChild=y.A,N.allowedChildren=[y.A,L.A,h.EmbedBlot,o.A];class c extends h.EmbedBlot{attach(){super.attach(),this.attributes=new h.AttributorStore(this.domNode)}delta(){return new(E())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(a,b){const k=this.scroll.query(a,h.Scope.BLOCK_ATTRIBUTE);k!=null&&this.attributes.attribute(k,b)}formatAt(a,b,k,R){this.format(k,R)}insertAt(a,b,k){if(k!=null)return void super.insertAt(a,b,k);const R=b.split(`
`),P=R.pop(),Q=R.map((H=>{const f=this.scroll.create(N.blotName);return f.insertAt(0,H),f})),et=this.split(a);Q.forEach((H=>{this.parent.insertBefore(H,et)})),P&&this.parent.insertBefore(this.scroll.create("text",P),et)}}function x(q){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return q==null?a:("formats"in q&&typeof q.formats=="function"&&(a={...a,...q.formats()},b&&delete a["code-token"]),q.parent==null||q.parent.statics.blotName==="scroll"||q.parent.statics.scope!==q.statics.scope?a:x(q.parent,a,b))}c.scope=h.Scope.BLOCK_BLOT},3036:function(K,T,n){"use strict";var h=n(6003);class v extends h.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}v.blotName="break",v.tagName="BR",T.A=v},580:function(K,T,n){"use strict";var h=n(6003);class v extends h.ContainerBlot{}T.A=v},4541:function(K,T,n){"use strict";var h=n(6003),v=n(5508);class E extends h.EmbedBlot{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(L,o,N){super(L,o),this.selection=N,this.textNode=document.createTextNode(E.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(L,o){if(this.savedLength!==0)return void super.format(L,o);let N=this,c=0;for(;N!=null&&N.statics.scope!==h.Scope.BLOCK_BLOT;)c+=N.offset(N.parent),N=N.parent;N!=null&&(this.savedLength=E.CONTENTS.length,N.optimize(),N.formatAt(c,E.CONTENTS.length,L,o),this.savedLength=0)}index(L,o){return L===this.textNode?0:super.index(L,o)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const L=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const o=this.prev instanceof v.A?this.prev:null,N=o?o.length():0,c=this.next instanceof v.A?this.next:null,x=c?c.text:"",{textNode:q}=this,a=q.data.split(E.CONTENTS).join("");let b;if(q.data=E.CONTENTS,o)b=o,(a||c)&&(o.insertAt(o.length(),a+x),c&&c.remove());else if(c)b=c,c.insertAt(0,a);else{const k=document.createTextNode(a);b=this.scroll.create(k),this.parent.insertBefore(b,this)}if(this.remove(),L){const k=(Q,et)=>o&&Q===o.domNode?et:Q===q?N+et-1:c&&Q===c.domNode?N+a.length+et:null,R=k(L.start.node,L.start.offset),P=k(L.end.node,L.end.offset);if(R!==null&&P!==null)return{startNode:b.domNode,startOffset:R,endNode:b.domNode,endOffset:P}}return null}update(L,o){if(L.some((N=>N.type==="characterData"&&N.target===this.textNode))){const N=this.restore();N&&(o.range=N)}}optimize(L){super.optimize(L);let{parent:o}=this;for(;o;){if(o.domNode.tagName==="A"){this.savedLength=E.CONTENTS.length,o.isolate(this.offset(o),this.length()).unwrap(),this.savedLength=0;break}o=o.parent}}value(){return""}}T.A=E},746:function(K,T,n){"use strict";var h=n(6003),v=n(5508);const E="\uFEFF";class y extends h.EmbedBlot{constructor(o,N){super(o,N),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((c=>{this.contentNode.appendChild(c)})),this.leftGuard=document.createTextNode(E),this.rightGuard=document.createTextNode(E),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(o,N){return o===this.leftGuard?0:o===this.rightGuard?1:super.index(o,N)}restore(o){let N,c=null;const x=o.data.split(E).join("");if(o===this.leftGuard)if(this.prev instanceof v.A){const q=this.prev.length();this.prev.insertAt(q,x),c={startNode:this.prev.domNode,startOffset:q+x.length}}else N=document.createTextNode(x),this.parent.insertBefore(this.scroll.create(N),this),c={startNode:N,startOffset:x.length};else o===this.rightGuard&&(this.next instanceof v.A?(this.next.insertAt(0,x),c={startNode:this.next.domNode,startOffset:x.length}):(N=document.createTextNode(x),this.parent.insertBefore(this.scroll.create(N),this.next),c={startNode:N,startOffset:x.length}));return o.data=E,c}update(o,N){o.forEach((c=>{if(c.type==="characterData"&&(c.target===this.leftGuard||c.target===this.rightGuard)){const x=this.restore(c.target);x&&(N.range=x)}}))}}T.A=y},4850:function(K,T,n){"use strict";var h=n(6003),v=n(3036),E=n(5508);class y extends h.InlineBlot{static allowedChildren=[y,v.A,h.EmbedBlot,E.A];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(o,N){const c=y.order.indexOf(o),x=y.order.indexOf(N);return c>=0||x>=0?c-x:o===N?0:o<N?-1:1}formatAt(o,N,c,x){if(y.compare(this.statics.blotName,c)<0&&this.scroll.query(c,h.Scope.BLOT)){const q=this.isolate(o,N);x&&q.wrap(c,x)}else super.formatAt(o,N,c,x)}optimize(o){if(super.optimize(o),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){const N=this.parent.isolate(this.offset(),this.length());this.moveChildren(N),N.wrap(this)}}}T.A=y},5508:function(K,T,n){"use strict";n.d(T,{A:function(){return v},X:function(){return y}});var h=n(6003);class v extends h.TextBlot{}const E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function y(L){return L.replace(/[&<>"']/g,(o=>E[o]))}},5374:function(K,T,n){"use strict";n.d(T,{A:function(){return y}});var h=n(8920),v=n(7356);const E=(0,n(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((L=>{document.addEventListener(L,(function(){for(var o=arguments.length,N=new Array(o),c=0;c<o;c++)N[c]=arguments[c];Array.from(document.querySelectorAll(".ql-container")).forEach((x=>{const q=v.A.get(x);q&&q.emitter&&q.emitter.handleDOM(...N)}))}))}));var y=class extends h{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",E.error)}emit(){for(var L=arguments.length,o=new Array(L),N=0;N<L;N++)o[N]=arguments[N];return E.log.call(E,...o),super.emit(...o)}handleDOM(L){for(var o=arguments.length,N=new Array(o>1?o-1:0),c=1;c<o;c++)N[c-1]=arguments[c];(this.domListeners[L.type]||[]).forEach((x=>{let{node:q,handler:a}=x;(L.target===q||q.contains(L.target))&&a(L,...N)}))}listenDOM(L,o,N){this.domListeners[L]||(this.domListeners[L]=[]),this.domListeners[L].push({node:o,handler:N})}}},7356:function(K,T){"use strict";T.A=new WeakMap},6078:function(K,T){"use strict";const n=["error","warn","log","info"];let h="warn";function v(y){if(h&&n.indexOf(y)<=n.indexOf(h)){for(var L=arguments.length,o=new Array(L>1?L-1:0),N=1;N<L;N++)o[N-1]=arguments[N];console[y](...o)}}function E(y){return n.reduce(((L,o)=>(L[o]=v.bind(console,o,y),L)),{})}E.level=y=>{h=y},v.level=E.level,T.A=E},4266:function(K,T){"use strict";T.A=class{static DEFAULTS={};constructor(n){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=h}}},6142:function(K,T,n){"use strict";n.d(T,{Ay:function(){return e}});var h=n(8347),v=n(6003),E=n(5232),y=n.n(E),L=n(3707),o=n(5123),N=n(9698),c=n(3036),x=n(4541),q=n(5508),a=n(8298);const b=/^[ -~]*$/;function k(g,s,l){if(g.length===0){const[pt]=Q(l.pop());return s<=0?`</li></${pt}>`:`</li></${pt}>${k([],s-1,l)}`}const[{child:u,offset:A,length:w,indent:M,type:$},...V]=g,[G,rt]=Q($);if(M>s)return l.push($),M===s+1?`<${G}><li${rt}>${R(u,A,w)}${k(V,M,l)}`:`<${G}><li>${k(g,s+1,l)}`;const it=l[l.length-1];if(M===s&&$===it)return`</li><li${rt}>${R(u,A,w)}${k(V,M,l)}`;const[st]=Q(l.pop());return`</li></${st}>${k(g,s-1,l)}`}function R(g,s,l){let u=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in g&&typeof g.html=="function")return g.html(s,l);if(g instanceof q.A)return(0,q.X)(g.value().slice(s,s+l)).replaceAll(" ","&nbsp;");if(g instanceof v.ParentBlot){if(g.statics.blotName==="list-container"){const G=[];return g.children.forEachAt(s,l,((rt,it,st)=>{const pt="formats"in rt&&typeof rt.formats=="function"?rt.formats():{};G.push({child:rt,offset:it,length:st,indent:pt.indent||0,type:pt.list})})),k(G,-1,[])}const A=[];if(g.children.forEachAt(s,l,((G,rt,it)=>{A.push(R(G,rt,it))})),u||g.statics.blotName==="list")return A.join("");const{outerHTML:w,innerHTML:M}=g.domNode,[$,V]=w.split(`>${M}<`);return $==="<table"?`<table style="border: 1px solid #000;">${A.join("")}<${V}`:`${$}>${A.join("")}<${V}`}return g.domNode instanceof Element?g.domNode.outerHTML:""}function P(g,s){return Object.keys(s).reduce(((l,u)=>{if(g[u]==null)return l;const A=s[u];return A===g[u]?l[u]=A:Array.isArray(A)?A.indexOf(g[u])<0?l[u]=A.concat([g[u]]):l[u]=A:l[u]=[A,g[u]],l}),{})}function Q(g){const s=g==="ordered"?"ol":"ul";switch(g){case"checked":return[s,' data-list="checked"'];case"unchecked":return[s,' data-list="unchecked"'];default:return[s,""]}}function et(g){return g.reduce(((s,l)=>{if(typeof l.insert=="string"){const u=l.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return s.insert(u,l.attributes)}return s.push(l)}),new(y()))}function H(g,s){let{index:l,length:u}=g;return new a.Q(l+s,u)}var f=class{constructor(g){this.scroll=g,this.delta=this.getDelta()}applyDelta(g){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();const l=et(g),u=new(y());return(function(A){const w=[];return A.forEach((M=>{typeof M.insert=="string"?M.insert.split(`
`).forEach((($,V)=>{V&&w.push({insert:`
`,attributes:M.attributes}),$&&w.push({insert:$,attributes:M.attributes})})):w.push(M)})),w})(l.ops.slice()).reduce(((A,w)=>{const M=E.Op.length(w);let $=w.attributes||{},V=!1,G=!1;if(w.insert!=null){if(u.retain(M),typeof w.insert=="string"){const st=w.insert;G=!st.endsWith(`
`)&&(s<=A||!!this.scroll.descendant(N.zo,A)[0]),this.scroll.insertAt(A,st);const[pt,ut]=this.scroll.line(A);let dt=(0,h.A)({},(0,N.Ji)(pt));if(pt instanceof N.Ay){const[xt]=pt.descendant(v.LeafBlot,ut);xt&&(dt=(0,h.A)(dt,(0,N.Ji)(xt)))}$=E.AttributeMap.diff(dt,$)||{}}else if(typeof w.insert=="object"){const st=Object.keys(w.insert)[0];if(st==null)return A;const pt=this.scroll.query(st,v.Scope.INLINE)!=null;if(pt)(s<=A||this.scroll.descendant(N.zo,A)[0])&&(G=!0);else if(A>0){const[ut,dt]=this.scroll.descendant(v.LeafBlot,A-1);ut instanceof q.A?ut.value()[dt]!==`
`&&(V=!0):ut instanceof v.EmbedBlot&&ut.statics.scope===v.Scope.INLINE_BLOT&&(V=!0)}if(this.scroll.insertAt(A,st,w.insert[st]),pt){const[ut]=this.scroll.descendant(v.LeafBlot,A);if(ut){const dt=(0,h.A)({},(0,N.Ji)(ut));$=E.AttributeMap.diff(dt,$)||{}}}}s+=M}else if(u.push(w),w.retain!==null&&typeof w.retain=="object"){const st=Object.keys(w.retain)[0];if(st==null)return A;this.scroll.updateEmbedAt(A,st,w.retain[st])}Object.keys($).forEach((st=>{this.scroll.formatAt(A,M,st,$[st])}));const rt=V?1:0,it=G?1:0;return s+=rt+it,u.retain(rt),u.delete(it),A+M+rt+it}),0),u.reduce(((A,w)=>typeof w.delete=="number"?(this.scroll.deleteAt(A,w.delete),A):A+E.Op.length(w)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(l)}deleteText(g,s){return this.scroll.deleteAt(g,s),this.update(new(y())().retain(g).delete(s))}formatLine(g,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(l).forEach((A=>{this.scroll.lines(g,Math.max(s,1)).forEach((w=>{w.format(A,l[A])}))})),this.scroll.optimize();const u=new(y())().retain(g).retain(s,(0,L.A)(l));return this.update(u)}formatText(g,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(l).forEach((A=>{this.scroll.formatAt(g,s,A,l[A])}));const u=new(y())().retain(g).retain(s,(0,L.A)(l));return this.update(u)}getContents(g,s){return this.delta.slice(g,g+s)}getDelta(){return this.scroll.lines().reduce(((g,s)=>g.concat(s.delta())),new(y()))}getFormat(g){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=[],u=[];s===0?this.scroll.path(g).forEach((M=>{const[$]=M;$ instanceof N.Ay?l.push($):$ instanceof v.LeafBlot&&u.push($)})):(l=this.scroll.lines(g,s),u=this.scroll.descendants(v.LeafBlot,g,s));const[A,w]=[l,u].map((M=>{const $=M.shift();if($==null)return{};let V=(0,N.Ji)($);for(;Object.keys(V).length>0;){const G=M.shift();if(G==null)return V;V=P((0,N.Ji)(G),V)}return V}));return{...A,...w}}getHTML(g,s){const[l,u]=this.scroll.line(g);if(l){const A=l.length();return l.length()>=u+s&&(u!==0||s!==A)?R(l,u,s,!0):R(this.scroll,g,s,!0)}return""}getText(g,s){return this.getContents(g,s).filter((l=>typeof l.insert=="string")).map((l=>l.insert)).join("")}insertContents(g,s){const l=et(s),u=new(y())().retain(g).concat(l);return this.scroll.insertContents(g,l),this.update(u)}insertEmbed(g,s,l){return this.scroll.insertAt(g,s,l),this.update(new(y())().retain(g).insert({[s]:l}))}insertText(g,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=s.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(g,s),Object.keys(l).forEach((u=>{this.scroll.formatAt(g,s.length,u,l[u])})),this.update(new(y())().retain(g).insert(s,(0,L.A)(l)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const g=this.scroll.children.head;if(g?.statics.blotName!==N.Ay.blotName)return!1;const s=g;return!(s.children.length>1)&&s.children.head instanceof c.A}removeFormat(g,s){const l=this.getText(g,s),[u,A]=this.scroll.line(g+s);let w=0,M=new(y());u!=null&&(w=u.length()-A,M=u.delta().slice(A,A+w-1).insert(`
`));const $=this.getContents(g,s+w).diff(new(y())().insert(l).concat(M)),V=new(y())().retain(g).concat($);return this.applyDelta(V)}update(g){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const u=this.delta;if(s.length===1&&s[0].type==="characterData"&&s[0].target.data.match(b)&&this.scroll.find(s[0].target)){const A=this.scroll.find(s[0].target),w=(0,N.Ji)(A),M=A.offset(this.scroll),$=s[0].oldValue.replace(x.A.CONTENTS,""),V=new(y())().insert($),G=new(y())().insert(A.value()),rt=l&&{oldRange:H(l.oldRange,-M),newRange:H(l.newRange,-M)};g=new(y())().retain(M).concat(V.diff(G,rt)).reduce(((it,st)=>st.insert?it.insert(st.insert,w):it.push(st)),new(y())),this.delta=u.compose(g)}else this.delta=this.getDelta(),g&&(0,o.A)(u.compose(g),this.delta)||(g=u.diff(this.delta,l));return g}},j=n(5374),F=n(7356),B=n(6078),W=n(4266),nt=n(746),tt=class{isComposing=!1;constructor(g,s){this.scroll=g,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(g=>{this.isComposing||this.handleCompositionStart(g)})),this.scroll.domNode.addEventListener("compositionend",(g=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(g)}))}))}handleCompositionStart(g){const s=g.target instanceof Node?this.scroll.find(g.target,!0):null;!s||s instanceof nt.A||(this.emitter.emit(j.A.events.COMPOSITION_BEFORE_START,g),this.scroll.batchStart(),this.emitter.emit(j.A.events.COMPOSITION_START,g),this.isComposing=!0)}handleCompositionEnd(g){this.emitter.emit(j.A.events.COMPOSITION_BEFORE_END,g),this.scroll.batchEnd(),this.emitter.emit(j.A.events.COMPOSITION_END,g),this.isComposing=!1}},ct=n(9609);const ft=g=>{const s=g.getBoundingClientRect(),l="offsetWidth"in g&&Math.abs(s.width)/g.offsetWidth||1,u="offsetHeight"in g&&Math.abs(s.height)/g.offsetHeight||1;return{top:s.top,right:s.left+g.clientWidth*l,bottom:s.top+g.clientHeight*u,left:s.left}},X=g=>{const s=parseInt(g,10);return Number.isNaN(s)?0:s},Z=(g,s,l,u,A,w)=>g<l&&s>u?0:g<l?-(l-g+A):s>u?s-g>u-l?g+A-l:s-u+w:0,Y=["block","break","cursor","inline","scroll","text"],i=(0,B.A)("quill"),t=new v.Registry;v.ParentBlot.uiClass="ql-ui";class e{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:t,theme:"default"};static events=j.A.events;static sources=j.A.sources;static version="2.0.3";static imports={delta:y(),parchment:v,"core/module":W.A,"core/theme":ct.A};static debug(s){s===!0&&(s="log"),B.A.level(s)}static find(s){let l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return F.A.get(s)||t.find(s,l)}static import(s){return this.imports[s]==null&&i.error(`Cannot import ${s}. Are you sure it was registered?`),this.imports[s]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const s=arguments.length<=0?void 0:arguments[0],l=!!(!(arguments.length<=1)&&arguments[1]),u="attrName"in s?s.attrName:s.blotName;typeof u=="string"?this.register(`formats/${u}`,s,l):Object.keys(s).forEach((A=>{this.register(A,s[A],l)}))}else{const s=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1],u=!!(!(arguments.length<=2)&&arguments[2]);this.imports[s]==null||u||i.warn(`Overwriting ${s} with`,l),this.imports[s]=l,(s.startsWith("blots/")||s.startsWith("formats/"))&&l&&typeof l!="boolean"&&l.blotName!=="abstract"&&t.register(l),typeof l.register=="function"&&l.register(t)}}constructor(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=(function(M,$){const V=r(M);if(!V)throw new Error("Invalid Quill container");const G=!$.theme||$.theme===e.DEFAULTS.theme?ct.A:e.import(`themes/${$.theme}`);if(!G)throw new Error(`Invalid theme ${$.theme}. Did you register it?`);const{modules:rt,...it}=e.DEFAULTS,{modules:st,...pt}=G.DEFAULTS;let ut=S($.modules);ut!=null&&ut.toolbar&&ut.toolbar.constructor!==Object&&(ut={...ut,toolbar:{container:ut.toolbar}});const dt=(0,h.A)({},S(rt),S(st),ut),xt={...it,...p(pt),...p($)};let Tt=$.registry;return Tt?$.formats&&i.warn('Ignoring "formats" option because "registry" is specified'):Tt=$.formats?((_t,lt,gt)=>{const At=new v.Registry;return Y.forEach((kt=>{const Nt=lt.query(kt);Nt&&At.register(Nt)})),_t.forEach((kt=>{let Nt=lt.query(kt);Nt||gt.error(`Cannot register "${kt}" specified in "formats" config. Are you sure it was registered?`);let qt=0;for(;Nt;)if(At.register(Nt),Nt="blotName"in Nt?Nt.requiredContainer??null:null,qt+=1,qt>100){gt.error(`Cycle detected in registering blot requiredContainer: "${kt}"`);break}})),At})($.formats,xt.registry,i):xt.registry,{...xt,registry:Tt,container:V,theme:G,modules:Object.entries(dt).reduce(((_t,lt)=>{let[gt,At]=lt;if(!At)return _t;const kt=e.import(`modules/${gt}`);return kt==null?(i.error(`Cannot load ${gt} module. Are you sure you registered it?`),_t):{..._t,[gt]:(0,h.A)({},kt.DEFAULTS||{},At)}}),{}),bounds:r(xt.bounds)}})(s,l),this.container=this.options.container,this.container==null)return void i.error("Invalid Quill container",s);this.options.debug&&e.debug(this.options.debug);const u=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",F.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new j.A;const A=v.ScrollBlot.blotName,w=this.options.registry.query(A);if(!w||!("blotName"in w))throw new Error(`Cannot initialize Quill without "${A}" blot`);if(this.scroll=new w(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new f(this.scroll),this.selection=new a.A(this.scroll,this.emitter),this.composition=new tt(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(j.A.events.EDITOR_CHANGE,(M=>{M===j.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(j.A.events.SCROLL_UPDATE,((M,$)=>{const V=this.selection.lastRange,[G]=this.selection.getRange(),rt=V&&G?{oldRange:V,newRange:G}:void 0;m.call(this,(()=>this.editor.update(null,$,rt)),M)})),this.emitter.on(j.A.events.SCROLL_EMBED_UPDATE,((M,$)=>{const V=this.selection.lastRange,[G]=this.selection.getRange(),rt=V&&G?{oldRange:V,newRange:G}:void 0;m.call(this,(()=>{const it=new(y())().retain(M.offset(this)).retain({[M.statics.blotName]:$});return this.editor.update(it,[],rt)}),e.sources.USER)})),u){const M=this.clipboard.convert({html:`${u}<p><br></p>`,text:`
`});this.setContents(M)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof s=="string"){const u=s;(s=document.createElement("div")).classList.add(u)}return this.container.insertBefore(s,l),s}blur(){this.selection.setRange(null)}deleteText(s,l,u){return[s,l,,u]=O(s,l,u),m.call(this,(()=>this.editor.deleteText(s,l)),u,s,-1*l)}disable(){this.enable(!1)}editReadOnly(s){this.allowReadOnlyEdits=!0;const l=s();return this.allowReadOnlyEdits=!1,l}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(s),this.container.classList.toggle("ql-disabled",!s)}focus(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),s.preventScroll||this.scrollSelectionIntoView()}format(s,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.A.sources.API;return m.call(this,(()=>{const A=this.getSelection(!0);let w=new(y());if(A==null)return w;if(this.scroll.query(s,v.Scope.BLOCK))w=this.editor.formatLine(A.index,A.length,{[s]:l});else{if(A.length===0)return this.selection.format(s,l),w;w=this.editor.formatText(A.index,A.length,{[s]:l})}return this.setSelection(A,j.A.sources.SILENT),w}),u)}formatLine(s,l,u,A,w){let M;return[s,l,M,w]=O(s,l,u,A,w),m.call(this,(()=>this.editor.formatLine(s,l,M)),w,s,0)}formatText(s,l,u,A,w){let M;return[s,l,M,w]=O(s,l,u,A,w),m.call(this,(()=>this.editor.formatText(s,l,M)),w,s,0)}getBounds(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=null;if(u=typeof s=="number"?this.selection.getBounds(s,l):this.selection.getBounds(s.index,s.length),!u)return null;const A=this.container.getBoundingClientRect();return{bottom:u.bottom-A.top,height:u.height,left:u.left-A.left,right:u.right-A.left,top:u.top-A.top,width:u.width}}getContents(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-s;return[s,l]=O(s,l),this.editor.getContents(s,l)}getFormat(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof s=="number"?this.editor.getFormat(s,l):this.editor.getFormat(s.index,s.length)}getIndex(s){return s.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(s){return this.scroll.leaf(s)}getLine(s){return this.scroll.line(s)}getLines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof s!="number"?this.scroll.lines(s.index,s.length):this.scroll.lines(s,l)}getModule(s){return this.theme.modules[s]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(l=l??this.getLength()-s),[s,l]=O(s,l),this.editor.getHTML(s,l)}getText(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(l=l??this.getLength()-s),[s,l]=O(s,l),this.editor.getText(s,l)}hasFocus(){return this.selection.hasFocus()}insertEmbed(s,l,u){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.sources.API;return m.call(this,(()=>this.editor.insertEmbed(s,l,u)),A,s)}insertText(s,l,u,A,w){let M;return[s,,M,w]=O(s,0,u,A,w),m.call(this,(()=>this.editor.insertText(s,l,M)),w,s,l.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(s,l,u){return[s,l,,u]=O(s,l,u),m.call(this,(()=>this.editor.removeFormat(s,l)),u,s)}scrollRectIntoView(s){((l,u)=>{const A=l.ownerDocument;let w=u,M=l;for(;M;){const V=M===A.body,G=V?{top:0,right:window.visualViewport?.width??A.documentElement.clientWidth,bottom:window.visualViewport?.height??A.documentElement.clientHeight,left:0}:ft(M),rt=getComputedStyle(M),it=Z(w.left,w.right,G.left,G.right,X(rt.scrollPaddingLeft),X(rt.scrollPaddingRight)),st=Z(w.top,w.bottom,G.top,G.bottom,X(rt.scrollPaddingTop),X(rt.scrollPaddingBottom));if(it||st)if(V)A.defaultView?.scrollBy(it,st);else{const{scrollLeft:pt,scrollTop:ut}=M;st&&(M.scrollTop+=st),it&&(M.scrollLeft+=it);const dt=M.scrollLeft-pt,xt=M.scrollTop-ut;w={left:w.left-dt,top:w.top-xt,right:w.right-dt,bottom:w.bottom-xt}}M=V||rt.position==="fixed"?null:($=M).parentElement||$.getRootNode().host||null}var $})(this.root,s)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const s=this.selection.lastRange,l=s&&this.selection.getBounds(s.index,s.length);l&&this.scrollRectIntoView(l)}setContents(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return m.call(this,(()=>{s=new(y())(s);const u=this.getLength(),A=this.editor.deleteText(0,u),w=this.editor.insertContents(0,s),M=this.editor.deleteText(this.getLength()-1,1);return A.compose(w).compose(M)}),l)}setSelection(s,l,u){s==null?this.selection.setRange(null,l||e.sources.API):([s,l,,u]=O(s,l,u),this.selection.setRange(new a.Q(Math.max(0,s),l),u),u!==j.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;const u=new(y())().insert(s);return this.setContents(u,l)}update(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.A.sources.USER;const l=this.scroll.update(s);return this.selection.update(s),l}updateContents(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return m.call(this,(()=>(s=new(y())(s),this.editor.applyDelta(s))),l,!0)}}function r(g){return typeof g=="string"?document.querySelector(g):g}function S(g){return Object.entries(g??{}).reduce(((s,l)=>{let[u,A]=l;return{...s,[u]:A===!0?{}:A}}),{})}function p(g){return Object.fromEntries(Object.entries(g).filter((s=>s[1]!==void 0)))}function m(g,s,l,u){if(!this.isEnabled()&&s===j.A.sources.USER&&!this.allowReadOnlyEdits)return new(y());let A=l==null?null:this.getSelection();const w=this.editor.delta,M=g();if(A!=null&&(l===!0&&(l=A.index),u==null?A=_(A,M,s):u!==0&&(A=_(A,l,u,s)),this.setSelection(A,j.A.sources.SILENT)),M.length()>0){const $=[j.A.events.TEXT_CHANGE,M,w,s];this.emitter.emit(j.A.events.EDITOR_CHANGE,...$),s!==j.A.sources.SILENT&&this.emitter.emit(...$)}return M}function O(g,s,l,u,A){let w={};return typeof g.index=="number"&&typeof g.length=="number"?typeof s!="number"?(A=u,u=l,l=s,s=g.length,g=g.index):(s=g.length,g=g.index):typeof s!="number"&&(A=u,u=l,l=s,s=0),typeof l=="object"?(w=l,A=u):typeof l=="string"&&(u!=null?w[l]=u:A=l),[g,s,w,A=A||j.A.sources.API]}function _(g,s,l,u){const A=typeof l=="number"?l:0;if(g==null)return null;let w,M;return s&&typeof s.transformPosition=="function"?[w,M]=[g.index,g.index+g.length].map(($=>s.transformPosition($,u!==j.A.sources.USER))):[w,M]=[g.index,g.index+g.length].map(($=>$<s||$===s&&u===j.A.sources.USER?$:A>=0?$+A:Math.max(s,$+A))),new a.Q(w,M-w)}},8298:function(K,T,n){"use strict";n.d(T,{Q:function(){return o}});var h=n(6003),v=n(5123),E=n(3707),y=n(5374);const L=(0,n(6078).A)("quill:selection");class o{constructor(x){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=x,this.length=q}}function N(c,x){try{x.parentNode}catch{return!1}return c.contains(x)}T.A=class{constructor(c,x){this.emitter=x,this.scroll=c,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new o(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,y.A.sources.USER),1)})),this.emitter.on(y.A.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const q=this.getNativeRange();q!=null&&q.start.node!==this.cursor.textNode&&this.emitter.once(y.A.events.SCROLL_UPDATE,((a,b)=>{try{this.root.contains(q.start.node)&&this.root.contains(q.end.node)&&this.setNativeRange(q.start.node,q.start.offset,q.end.node,q.end.offset);const k=b.some((R=>R.type==="characterData"||R.type==="childList"||R.type==="attributes"&&R.target===this.root));this.update(k?y.A.sources.SILENT:a)}catch{}}))})),this.emitter.on(y.A.events.SCROLL_OPTIMIZE,((q,a)=>{if(a.range){const{startNode:b,startOffset:k,endNode:R,endOffset:P}=a.range;this.setNativeRange(b,k,R,P),this.update(y.A.sources.SILENT)}})),this.update(y.A.sources.SILENT)}handleComposition(){this.emitter.on(y.A.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(y.A.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const c=this.cursor.restore();if(!c)return;setTimeout((()=>{this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(y.A.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(c,x){this.scroll.update();const q=this.getNativeRange();if(q!=null&&q.native.collapsed&&!this.scroll.query(c,h.Scope.BLOCK)){if(q.start.node!==this.cursor.textNode){const a=this.scroll.find(q.start.node,!1);if(a==null)return;if(a instanceof h.LeafBlot){const b=a.split(q.start.offset);a.parent.insertBefore(this.cursor,b)}else a.insertBefore(this.cursor,q.start.node);this.cursor.attach()}this.cursor.format(c,x),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(c){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const q=this.scroll.length();let a;c=Math.min(c,q-1),x=Math.min(c+x,q-1)-c;let[b,k]=this.scroll.leaf(c);if(b==null)return null;if(x>0&&k===b.length()){const[et]=this.scroll.leaf(c+1);if(et){const[H]=this.scroll.line(c),[f]=this.scroll.line(c+1);H===f&&(b=et,k=0)}}[a,k]=b.position(k,!0);const R=document.createRange();if(x>0)return R.setStart(a,k),[b,k]=this.scroll.leaf(c+x),b==null?null:([a,k]=b.position(k,!0),R.setEnd(a,k),R.getBoundingClientRect());let P,Q="left";if(a instanceof Text){if(!a.data.length)return null;k<a.data.length?(R.setStart(a,k),R.setEnd(a,k+1)):(R.setStart(a,k-1),R.setEnd(a,k),Q="right"),P=R.getBoundingClientRect()}else{if(!(b.domNode instanceof Element))return null;P=b.domNode.getBoundingClientRect(),k>0&&(Q="right")}return{bottom:P.top+P.height,height:P.height,left:P[Q],right:P[Q],top:P.top,width:0}}getNativeRange(){const c=document.getSelection();if(c==null||c.rangeCount<=0)return null;const x=c.getRangeAt(0);if(x==null)return null;const q=this.normalizeNative(x);return L.info("getNativeRange",q),q}getRange(){const c=this.scroll.domNode;if("isConnected"in c&&!c.isConnected)return[null,null];const x=this.getNativeRange();return x==null?[null,null]:[this.normalizedToRange(x),x]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&N(this.root,document.activeElement)}normalizedToRange(c){const x=[[c.start.node,c.start.offset]];c.native.collapsed||x.push([c.end.node,c.end.offset]);const q=x.map((k=>{const[R,P]=k,Q=this.scroll.find(R,!0),et=Q.offset(this.scroll);return P===0?et:Q instanceof h.LeafBlot?et+Q.index(R,P):et+Q.length()})),a=Math.min(Math.max(...q),this.scroll.length()-1),b=Math.min(a,...q);return new o(b,a-b)}normalizeNative(c){if(!N(this.root,c.startContainer)||!c.collapsed&&!N(this.root,c.endContainer))return null;const x={start:{node:c.startContainer,offset:c.startOffset},end:{node:c.endContainer,offset:c.endOffset},native:c};return[x.start,x.end].forEach((q=>{let{node:a,offset:b}=q;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>b)a=a.childNodes[b],b=0;else{if(a.childNodes.length!==b)break;a=a.lastChild,b=a instanceof Text?a.data.length:a.childNodes.length>0?a.childNodes.length:a.childNodes.length+1}q.node=a,q.offset=b})),x}rangeToNative(c){const x=this.scroll.length(),q=(a,b)=>{a=Math.min(x-1,a);const[k,R]=this.scroll.leaf(a);return k?k.position(R,b):[null,-1]};return[...q(c.index,!1),...q(c.index+c.length,!0)]}setNativeRange(c,x){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x,b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(L.info("setNativeRange",c,x,q,a),c!=null&&(this.root.parentNode==null||c.parentNode==null||q.parentNode==null))return;const k=document.getSelection();if(k!=null)if(c!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:R}=this.getNativeRange()||{};if(R==null||b||c!==R.startContainer||x!==R.startOffset||q!==R.endContainer||a!==R.endOffset){c instanceof Element&&c.tagName==="BR"&&(x=Array.from(c.parentNode.childNodes).indexOf(c),c=c.parentNode),q instanceof Element&&q.tagName==="BR"&&(a=Array.from(q.parentNode.childNodes).indexOf(q),q=q.parentNode);const P=document.createRange();P.setStart(c,x),P.setEnd(q,a),k.removeAllRanges(),k.addRange(P)}}else k.removeAllRanges(),this.root.blur()}setRange(c){let x=arguments.length>1&&arguments[1]!==void 0&&arguments[1],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.A.sources.API;if(typeof x=="string"&&(q=x,x=!1),L.info("setRange",c),c!=null){const a=this.rangeToNative(c);this.setNativeRange(...a,x)}else this.setNativeRange(null);this.update(q)}update(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.A.sources.USER;const x=this.lastRange,[q,a]=this.getRange();if(this.lastRange=q,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,v.A)(x,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const k=this.cursor.restore();k&&this.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)}const b=[y.A.events.SELECTION_CHANGE,(0,E.A)(this.lastRange),(0,E.A)(x),c];this.emitter.emit(y.A.events.EDITOR_CHANGE,...b),c!==y.A.sources.SILENT&&this.emitter.emit(...b)}}}},9609:function(K,T){"use strict";class n{static DEFAULTS={modules:{}};static themes={default:n};modules={};constructor(v,E){this.quill=v,this.options=E}init(){Object.keys(this.options.modules).forEach((v=>{this.modules[v]==null&&this.addModule(v)}))}addModule(v){const E=this.quill.constructor.import(`modules/${v}`);return this.modules[v]=new E(this.quill,this.options.modules[v]||{}),this.modules[v]}}T.A=n},8276:function(K,T,n){"use strict";n.d(T,{Hu:function(){return y},gS:function(){return E}});var h=n(6003);const v={scope:h.Scope.BLOCK,whitelist:["right","center","justify"]},E=new h.Attributor("align","align",v),y=(new h.ClassAttributor("align","ql-align",v),new h.StyleAttributor("align","text-align",v))},9541:function(K,T,n){"use strict";n.d(T,{s:function(){return E}});var h=n(6003),v=n(8638);new h.ClassAttributor("background","ql-bg",{scope:h.Scope.INLINE});const E=new v.a2("background","background-color",{scope:h.Scope.INLINE})},9404:function(K,T,n){"use strict";n.d(T,{Ay:function(){return x}});var h=n(9698),v=n(3036),E=n(4541),y=n(4850),L=n(5508),o=n(580),N=n(6142);class c extends o.A{static create(b){const k=super.create(b);return k.setAttribute("spellcheck","false"),k}code(b,k){return this.children.map((R=>R.length()<=1?"":R.domNode.innerText)).join(`
`).slice(b,b+k)}html(b,k){return`<pre>
${(0,L.X)(this.code(b,k))}
</pre>`}}class x extends h.Ay{static TAB="  ";static register(){N.Ay.register(c)}}class q extends y.A{}q.blotName="code",q.tagName="CODE",x.blotName="code-block",x.className="ql-code-block",x.tagName="DIV",c.blotName="code-block-container",c.className="ql-code-block-container",c.tagName="DIV",c.allowedChildren=[x],x.allowedChildren=[L.A,v.A,E.A],x.requiredContainer=c},8638:function(K,T,n){"use strict";n.d(T,{JM:function(){return E},a2:function(){return v}});var h=n(6003);class v extends h.StyleAttributor{value(L){let o=super.value(L);return o.startsWith("rgb(")?(o=o.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${o.split(",").map((N=>`00${parseInt(N,10).toString(16)}`.slice(-2))).join("")}`):o}}new h.ClassAttributor("color","ql-color",{scope:h.Scope.INLINE});const E=new v("color","color",{scope:h.Scope.INLINE})},7912:function(K,T,n){"use strict";n.d(T,{Mc:function(){return E},VL:function(){return y}});var h=n(6003);const v={scope:h.Scope.BLOCK,whitelist:["rtl"]},E=new h.Attributor("direction","dir",v),y=(new h.ClassAttributor("direction","ql-direction",v),new h.StyleAttributor("direction","direction",v))},6772:function(K,T,n){"use strict";n.d(T,{z:function(){return y}});var h=n(6003);const v={scope:h.Scope.INLINE,whitelist:["serif","monospace"]};new h.ClassAttributor("font","ql-font",v);class E extends h.StyleAttributor{value(o){return super.value(o).replace(/["']/g,"")}}const y=new E("font","font-family",v)},664:function(K,T,n){"use strict";n.d(T,{r:function(){return v}});var h=n(6003);new h.ClassAttributor("size","ql-size",{scope:h.Scope.INLINE,whitelist:["small","large","huge"]});const v=new h.StyleAttributor("size","font-size",{scope:h.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(K,T,n){"use strict";n.d(T,{Ay:function(){return ft}});var h=n(6003),v=n(5232),E=n.n(v),y=n(9698),L=n(6078),o=n(4266),N=n(6142),c=n(8276),x=n(9541),q=n(9404),a=n(8638),b=n(7912),k=n(6772),R=n(664),P=n(8123);const Q=/font-weight:\s*normal/,et=["P","OL","UL"],H=p=>p&&et.includes(p.tagName),f=/\bmso-list:[^;]*ignore/i,j=/\bmso-list:[^;]*\bl(\d+)/i,F=/\bmso-list:[^;]*\blevel(\d+)/i,B=[function(p){p.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&(m=>{const O=Array.from(m.querySelectorAll("[style*=mso-list]")),_=[],g=[];O.forEach((u=>{(u.getAttribute("style")||"").match(f)?_.push(u):g.push(u)})),_.forEach((u=>u.parentNode?.removeChild(u)));const s=m.documentElement.innerHTML,l=g.map((u=>((A,w)=>{const M=A.getAttribute("style"),$=M?.match(j);if(!$)return null;const V=Number($[1]),G=M?.match(F),rt=G?Number(G[1]):1,it=new RegExp(`@list l${V}:level${rt}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),st=w.match(it);return{id:V,indent:rt,type:st&&st[1]==="bullet"?"bullet":"ordered",element:A}})(u,s))).filter((u=>u));for(;l.length;){const u=[];let A=l.shift();for(;A;)u.push(A),A=l.length&&l[0]?.element===A.element.nextElementSibling&&l[0].id===A.id?l.shift():null;const w=document.createElement("ul");u.forEach((V=>{const G=document.createElement("li");G.setAttribute("data-list",V.type),V.indent>1&&G.setAttribute("class","ql-indent-"+(V.indent-1)),G.innerHTML=V.element.innerHTML,w.appendChild(G)}));const M=u[0]?.element,{parentNode:$}=M??{};M&&$?.replaceChild(w,M),u.slice(1).forEach((V=>{let{element:G}=V;$?.removeChild(G)}))}})(p)},function(p){p.querySelector('[id^="docs-internal-guid-"]')&&((m=>{Array.from(m.querySelectorAll('b[style*="font-weight"]')).filter((O=>O.getAttribute("style")?.match(Q))).forEach((O=>{const _=m.createDocumentFragment();_.append(...O.childNodes),O.parentNode?.replaceChild(_,O)}))})(p),(m=>{Array.from(m.querySelectorAll("br")).filter((O=>H(O.previousElementSibling)&&H(O.nextElementSibling))).forEach((O=>{O.parentNode?.removeChild(O)}))})(p))}],W=(0,L.A)("quill:clipboard"),nt=[[Node.TEXT_NODE,function(p,m,O){let _=p.data;if(p.parentElement?.tagName==="O:P")return m.insert(_.trim());if(!t(p)){if(_.trim().length===0&&_.includes(`
`)&&!(function(g,s){return g.previousElementSibling&&g.nextElementSibling&&!Y(g.previousElementSibling,s)&&!Y(g.nextElementSibling,s)})(p,O))return m;_=_.replace(/[^\S\u00a0]/g," "),_=_.replace(/ {2,}/g," "),(p.previousSibling==null&&p.parentElement!=null&&Y(p.parentElement,O)||p.previousSibling instanceof Element&&Y(p.previousSibling,O))&&(_=_.replace(/^ /,"")),(p.nextSibling==null&&p.parentElement!=null&&Y(p.parentElement,O)||p.nextSibling instanceof Element&&Y(p.nextSibling,O))&&(_=_.replace(/ $/,"")),_=_.replaceAll("\xA0"," ")}return m.insert(_)}],[Node.TEXT_NODE,S],["br",function(p,m){return Z(m,`
`)||m.insert(`
`),m}],[Node.ELEMENT_NODE,S],[Node.ELEMENT_NODE,function(p,m,O){const _=O.query(p);if(_==null)return m;if(_.prototype instanceof h.EmbedBlot){const g={},s=_.value(p);if(s!=null)return g[_.blotName]=s,new(E())().insert(g,_.formats(p,O))}else if(_.prototype instanceof h.BlockBlot&&!Z(m,`
`)&&m.insert(`
`),"blotName"in _&&"formats"in _&&typeof _.formats=="function")return X(m,_.blotName,_.formats(p,O),O);return m}],[Node.ELEMENT_NODE,function(p,m,O){const _=h.Attributor.keys(p),g=h.ClassAttributor.keys(p),s=h.StyleAttributor.keys(p),l={};return _.concat(g).concat(s).forEach((u=>{let A=O.query(u,h.Scope.ATTRIBUTE);A!=null&&(l[A.attrName]=A.value(p),l[A.attrName])||(A=tt[u],A==null||A.attrName!==u&&A.keyName!==u||(l[A.attrName]=A.value(p)||void 0),A=ct[u],A==null||A.attrName!==u&&A.keyName!==u||(A=ct[u],l[A.attrName]=A.value(p)||void 0))})),Object.entries(l).reduce(((u,A)=>{let[w,M]=A;return X(u,w,M,O)}),m)}],[Node.ELEMENT_NODE,function(p,m,O){const _={},g=p.style||{};return g.fontStyle==="italic"&&(_.italic=!0),g.textDecoration==="underline"&&(_.underline=!0),g.textDecoration==="line-through"&&(_.strike=!0),(g.fontWeight?.startsWith("bold")||parseInt(g.fontWeight,10)>=700)&&(_.bold=!0),m=Object.entries(_).reduce(((s,l)=>{let[u,A]=l;return X(s,u,A,O)}),m),parseFloat(g.textIndent||0)>0?new(E())().insert("	").concat(m):m}],["li",function(p,m,O){const _=O.query(p);if(_==null||_.blotName!=="list"||!Z(m,`
`))return m;let g=-1,s=p.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(g+=1),s=s.parentNode;return g<=0?m:m.reduce(((l,u)=>u.insert?u.attributes&&typeof u.attributes.indent=="number"?l.push(u):l.insert(u.insert,{indent:g,...u.attributes||{}}):l),new(E()))}],["ol, ul",function(p,m,O){const _=p;let g=_.tagName==="OL"?"ordered":"bullet";const s=_.getAttribute("data-checked");return s&&(g=s==="true"?"checked":"unchecked"),X(m,"list",g,O)}],["pre",function(p,m,O){const _=O.query("code-block");return X(m,"code-block",!_||!("formats"in _)||typeof _.formats!="function"||_.formats(p,O),O)}],["tr",function(p,m,O){const _=p.parentElement?.tagName==="TABLE"?p.parentElement:p.parentElement?.parentElement;return _!=null?X(m,"table",Array.from(_.querySelectorAll("tr")).indexOf(p)+1,O):m}],["b",r("bold")],["i",r("italic")],["strike",r("strike")],["style",function(){return new(E())}]],tt=[c.gS,b.Mc].reduce(((p,m)=>(p[m.keyName]=m,p)),{}),ct=[c.Hu,x.s,a.JM,b.VL,k.z,R.r].reduce(((p,m)=>(p[m.keyName]=m,p)),{});class ft extends o.A{static DEFAULTS={matchers:[]};constructor(m,O){super(m,O),this.quill.root.addEventListener("copy",(_=>this.onCaptureCopy(_,!1))),this.quill.root.addEventListener("cut",(_=>this.onCaptureCopy(_,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],nt.concat(this.options.matchers??[]).forEach((_=>{let[g,s]=_;this.addMatcher(g,s)}))}addMatcher(m,O){this.matchers.push([m,O])}convert(m){let{html:O,text:_}=m,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g[q.Ay.blotName])return new(E())().insert(_||"",{[q.Ay.blotName]:g[q.Ay.blotName]});if(!O)return new(E())().insert(_||"",g);const s=this.convertHTML(O);return Z(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||g.table)?s.compose(new(E())().retain(s.length()-1).delete(1)):s}normalizeHTML(m){(O=>{O.documentElement&&B.forEach((_=>{_(O)}))})(m)}convertHTML(m){const O=new DOMParser().parseFromString(m,"text/html");this.normalizeHTML(O);const _=O.body,g=new WeakMap,[s,l]=this.prepareMatching(_,g);return e(this.quill.scroll,_,s,l,g)}dangerouslyPasteHTML(m,O){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.Ay.sources.API;if(typeof m=="string"){const g=this.convert({html:m,text:""});this.quill.setContents(g,O),this.quill.setSelection(0,N.Ay.sources.SILENT)}else{const g=this.convert({html:O,text:""});this.quill.updateContents(new(E())().retain(m).concat(g),_),this.quill.setSelection(m+g.length(),N.Ay.sources.SILENT)}}onCaptureCopy(m){let O=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(m.defaultPrevented)return;m.preventDefault();const[_]=this.quill.selection.getRange();if(_==null)return;const{html:g,text:s}=this.onCopy(_,O);m.clipboardData?.setData("text/plain",s),m.clipboardData?.setData("text/html",g),O&&(0,P.Xo)({range:_,quill:this.quill})}normalizeURIList(m){return m.split(/\r?\n/).filter((O=>O[0]!=="#")).join(`
`)}onCapturePaste(m){if(m.defaultPrevented||!this.quill.isEnabled())return;m.preventDefault();const O=this.quill.getSelection(!0);if(O==null)return;const _=m.clipboardData?.getData("text/html");let g=m.clipboardData?.getData("text/plain");if(!_&&!g){const l=m.clipboardData?.getData("text/uri-list");l&&(g=this.normalizeURIList(l))}const s=Array.from(m.clipboardData?.files||[]);if(!_&&s.length>0)this.quill.uploader.upload(O,s);else{if(_&&s.length>0){const l=new DOMParser().parseFromString(_,"text/html");if(l.body.childElementCount===1&&l.body.firstElementChild?.tagName==="IMG")return void this.quill.uploader.upload(O,s)}this.onPaste(O,{html:_,text:g})}}onCopy(m){const O=this.quill.getText(m);return{html:this.quill.getSemanticHTML(m),text:O}}onPaste(m,O){let{text:_,html:g}=O;const s=this.quill.getFormat(m.index),l=this.convert({text:_,html:g},s);W.log("onPaste",l,{text:_,html:g});const u=new(E())().retain(m.index).delete(m.length).concat(l);this.quill.updateContents(u,N.Ay.sources.USER),this.quill.setSelection(u.length()-m.length,N.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(m,O){const _=[],g=[];return this.matchers.forEach((s=>{const[l,u]=s;switch(l){case Node.TEXT_NODE:g.push(u);break;case Node.ELEMENT_NODE:_.push(u);break;default:Array.from(m.querySelectorAll(l)).forEach((A=>{O.has(A)?O.get(A)?.push(u):O.set(A,[u])}))}})),[_,g]}}function X(p,m,O,_){return _.query(m)?p.reduce(((g,s)=>{if(!s.insert)return g;if(s.attributes&&s.attributes[m])return g.push(s);const l=O?{[m]:O}:{};return g.insert(s.insert,{...l,...s.attributes})}),new(E())):p}function Z(p,m){let O="";for(let _=p.ops.length-1;_>=0&&O.length<m.length;--_){const g=p.ops[_];if(typeof g.insert!="string")break;O=g.insert+O}return O.slice(-1*m.length)===m}function Y(p,m){if(!(p instanceof Element))return!1;const O=m.query(p);return!(O&&O.prototype instanceof h.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(p.tagName.toLowerCase())}const i=new WeakMap;function t(p){return p!=null&&(i.has(p)||(p.tagName==="PRE"?i.set(p,!0):i.set(p,t(p.parentNode))),i.get(p))}function e(p,m,O,_,g){return m.nodeType===m.TEXT_NODE?_.reduce(((s,l)=>l(m,s,p)),new(E())):m.nodeType===m.ELEMENT_NODE?Array.from(m.childNodes||[]).reduce(((s,l)=>{let u=e(p,l,O,_,g);return l.nodeType===m.ELEMENT_NODE&&(u=O.reduce(((A,w)=>w(l,A,p)),u),u=(g.get(l)||[]).reduce(((A,w)=>w(l,A,p)),u)),s.concat(u)}),new(E())):new(E())}function r(p){return(m,O,_)=>X(O,p,!0,_)}function S(p,m,O){if(!Z(m,`
`)){if(Y(p,O)&&(p.childNodes.length>0||p instanceof HTMLParagraphElement))return m.insert(`
`);if(m.length()>0&&p.nextSibling){let _=p.nextSibling;for(;_!=null;){if(Y(_,O))return m.insert(`
`);const g=O.query(_);if(g&&g.prototype instanceof y.zo)return m.insert(`
`);_=_.firstChild}}}return m}},8123:function(K,T,n){"use strict";n.d(T,{Ay:function(){return a},Xo:function(){return et}});var h=n(5123),v=n(3707),E=n(5232),y=n.n(E),L=n(6003),o=n(6142),N=n(6078),c=n(4266);const x=(0,N.A)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class a extends c.A{static match(f,j){return!["altKey","ctrlKey","metaKey","shiftKey"].some((F=>!!j[F]!==f[F]&&j[F]!==null))&&(j.key===f.key||j.key===f.which)}constructor(f,j){super(f,j),this.bindings={},Object.keys(this.options.bindings).forEach((F=>{this.options.bindings[F]&&this.addBinding(this.options.bindings[F])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(f){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const B=(function(W){if(typeof W=="string"||typeof W=="number")W={key:W};else{if(typeof W!="object")return null;W=(0,v.A)(W)}return W.shortKey&&(W[q]=W.shortKey,delete W.shortKey),W})(f);B!=null?(typeof j=="function"&&(j={handler:j}),typeof F=="function"&&(F={handler:F}),(Array.isArray(B.key)?B.key:[B.key]).forEach((W=>{const nt={...B,key:W,...j,...F};this.bindings[nt.key]=this.bindings[nt.key]||[],this.bindings[nt.key].push(nt)}))):x.warn("Attempted to add invalid keyboard binding",B)}listen(){this.quill.root.addEventListener("keydown",(f=>{if(f.defaultPrevented||f.isComposing||f.keyCode===229&&(f.key==="Enter"||f.key==="Backspace"))return;const j=(this.bindings[f.key]||[]).concat(this.bindings[f.which]||[]).filter((t=>a.match(f,t)));if(j.length===0)return;const F=o.Ay.find(f.target,!0);if(F&&F.scroll!==this.quill.scroll)return;const B=this.quill.getSelection();if(B==null||!this.quill.hasFocus())return;const[W,nt]=this.quill.getLine(B.index),[tt,ct]=this.quill.getLeaf(B.index),[ft,X]=B.length===0?[tt,ct]:this.quill.getLeaf(B.index+B.length),Z=tt instanceof L.TextBlot?tt.value().slice(0,ct):"",Y=ft instanceof L.TextBlot?ft.value().slice(X):"",i={collapsed:B.length===0,empty:B.length===0&&W.length()<=1,format:this.quill.getFormat(B),line:W,offset:nt,prefix:Z,suffix:Y,event:f};j.some((t=>{if(t.collapsed!=null&&t.collapsed!==i.collapsed||t.empty!=null&&t.empty!==i.empty||t.offset!=null&&t.offset!==i.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((e=>i.format[e]==null)))return!1}else if(typeof t.format=="object"&&!Object.keys(t.format).every((e=>t.format[e]===!0?i.format[e]!=null:t.format[e]===!1?i.format[e]==null:(0,h.A)(t.format[e],i.format[e]))))return!1;return!(t.prefix!=null&&!t.prefix.test(i.prefix)||t.suffix!=null&&!t.suffix.test(i.suffix)||t.handler.call(this,B,i,t)===!0)}))&&f.preventDefault()}))}handleBackspace(f,j){const F=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;if(f.index===0||this.quill.getLength()<=1)return;let B={};const[W]=this.quill.getLine(f.index);let nt=new(y())().retain(f.index-F).delete(F);if(j.offset===0){const[tt]=this.quill.getLine(f.index-1);if(tt&&!(tt.statics.blotName==="block"&&tt.length()<=1)){const ct=W.formats(),ft=this.quill.getFormat(f.index-1,1);if(B=E.AttributeMap.diff(ct,ft)||{},Object.keys(B).length>0){const X=new(y())().retain(f.index+W.length()-2).retain(1,B);nt=nt.compose(X)}}}this.quill.updateContents(nt,o.Ay.sources.USER),this.quill.focus()}handleDelete(f,j){const F=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(f.index>=this.quill.getLength()-F)return;let B={};const[W]=this.quill.getLine(f.index);let nt=new(y())().retain(f.index).delete(F);if(j.offset>=W.length()-1){const[tt]=this.quill.getLine(f.index+1);if(tt){const ct=W.formats(),ft=this.quill.getFormat(f.index,1);B=E.AttributeMap.diff(ct,ft)||{},Object.keys(B).length>0&&(nt=nt.retain(tt.length()-1).retain(1,B))}}this.quill.updateContents(nt,o.Ay.sources.USER),this.quill.focus()}handleDeleteRange(f){et({range:f,quill:this.quill}),this.quill.focus()}handleEnter(f,j){const F=Object.keys(j.format).reduce(((W,nt)=>(this.quill.scroll.query(nt,L.Scope.BLOCK)&&!Array.isArray(j.format[nt])&&(W[nt]=j.format[nt]),W)),{}),B=new(y())().retain(f.index).delete(f.length).insert(`
`,F);this.quill.updateContents(B,o.Ay.sources.USER),this.quill.setSelection(f.index+1,o.Ay.sources.SILENT),this.quill.focus()}}const b={bindings:{bold:P("bold"),italic:P("italic"),underline:P("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(H,f){return!(!f.collapsed||f.offset===0)||(this.quill.format("indent","+1",o.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(H,f){return!(!f.collapsed||f.offset===0)||(this.quill.format("indent","-1",o.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(H,f){f.format.indent!=null?this.quill.format("indent","-1",o.Ay.sources.USER):f.format.list!=null&&this.quill.format("list",!1,o.Ay.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(H){this.quill.deleteText(H.index-1,1,o.Ay.sources.USER)}},tab:{key:"Tab",handler(H,f){if(f.format.table)return!0;this.quill.history.cutoff();const j=new(y())().retain(H.index).delete(H.length).insert("	");return this.quill.updateContents(j,o.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,o.Ay.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,o.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(H,f){const j={list:!1};f.format.indent&&(j.indent=!1),this.quill.formatLine(H.index,H.length,j,o.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(H){const[f,j]=this.quill.getLine(H.index),F={...f.formats(),list:"checked"},B=new(y())().retain(H.index).insert(`
`,F).retain(f.length()-j-1).retain(1,{list:"unchecked"});this.quill.updateContents(B,o.Ay.sources.USER),this.quill.setSelection(H.index+1,o.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(H,f){const[j,F]=this.quill.getLine(H.index),B=new(y())().retain(H.index).insert(`
`,f.format).retain(j.length()-F-1).retain(1,{header:null});this.quill.updateContents(B,o.Ay.sources.USER),this.quill.setSelection(H.index+1,o.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(H){const f=this.quill.getModule("table");if(f){const[j,F,B,W]=f.getTable(H),nt=(function(ct,ft,X,Z){return ft.prev==null&&ft.next==null?X.prev==null&&X.next==null?Z===0?-1:1:X.prev==null?-1:1:ft.prev==null?-1:ft.next==null?1:null})(0,F,B,W);if(nt==null)return;let tt=j.offset();if(nt<0){const ct=new(y())().retain(tt).insert(`
`);this.quill.updateContents(ct,o.Ay.sources.USER),this.quill.setSelection(H.index+1,H.length,o.Ay.sources.SILENT)}else if(nt>0){tt+=j.length();const ct=new(y())().retain(tt).insert(`
`);this.quill.updateContents(ct,o.Ay.sources.USER),this.quill.setSelection(tt,o.Ay.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(H,f){const{event:j,line:F}=f,B=F.offset(this.quill.scroll);j.shiftKey?this.quill.setSelection(B-1,o.Ay.sources.USER):this.quill.setSelection(B+F.length(),o.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(H,f){if(this.quill.scroll.query("list")==null)return!0;const{length:j}=f.prefix,[F,B]=this.quill.getLine(H.index);if(B>j)return!0;let W;switch(f.prefix.trim()){case"[]":case"[ ]":W="unchecked";break;case"[x]":W="checked";break;case"-":case"*":W="bullet";break;default:W="ordered"}this.quill.insertText(H.index," ",o.Ay.sources.USER),this.quill.history.cutoff();const nt=new(y())().retain(H.index-B).delete(j+1).retain(F.length()-2-B).retain(1,{list:W});return this.quill.updateContents(nt,o.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-j,o.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(H){const[f,j]=this.quill.getLine(H.index);let F=2,B=f;for(;B!=null&&B.length()<=1&&B.formats()["code-block"];)if(B=B.prev,F-=1,F<=0){const W=new(y())().retain(H.index+f.length()-j-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(W,o.Ay.sources.USER),this.quill.setSelection(H.index-1,o.Ay.sources.SILENT),!1}return!0}},"embed left":R("ArrowLeft",!1),"embed left shift":R("ArrowLeft",!0),"embed right":R("ArrowRight",!1),"embed right shift":R("ArrowRight",!0),"table down":Q(!1),"table up":Q(!0)}};function k(H){return{key:"Tab",shiftKey:!H,format:{"code-block":!0},handler(f,j){let{event:F}=j;const B=this.quill.scroll.query("code-block"),{TAB:W}=B;if(f.length===0&&!F.shiftKey)return this.quill.insertText(f.index,W,o.Ay.sources.USER),void this.quill.setSelection(f.index+W.length,o.Ay.sources.SILENT);const nt=f.length===0?this.quill.getLines(f.index,1):this.quill.getLines(f);let{index:tt,length:ct}=f;nt.forEach(((ft,X)=>{H?(ft.insertAt(0,W),X===0?tt+=W.length:ct+=W.length):ft.domNode.textContent.startsWith(W)&&(ft.deleteAt(0,W.length),X===0?tt-=W.length:ct-=W.length)})),this.quill.update(o.Ay.sources.USER),this.quill.setSelection(tt,ct,o.Ay.sources.SILENT)}}}function R(H,f){return{key:H,shiftKey:f,altKey:null,[H==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(j){let{index:F}=j;H==="ArrowRight"&&(F+=j.length+1);const[B]=this.quill.getLeaf(F);return!(B instanceof L.EmbedBlot&&(H==="ArrowLeft"?f?this.quill.setSelection(j.index-1,j.length+1,o.Ay.sources.USER):this.quill.setSelection(j.index-1,o.Ay.sources.USER):f?this.quill.setSelection(j.index,j.length+1,o.Ay.sources.USER):this.quill.setSelection(j.index+j.length+1,o.Ay.sources.USER),1))}}}function P(H){return{key:H[0],shortKey:!0,handler(f,j){this.quill.format(H,!j.format[H],o.Ay.sources.USER)}}}function Q(H){return{key:H?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(f,j){const F=H?"prev":"next",B=j.line,W=B.parent[F];if(W!=null){if(W.statics.blotName==="table-row"){let nt=W.children.head,tt=B;for(;tt.prev!=null;)tt=tt.prev,nt=nt.next;const ct=nt.offset(this.quill.scroll)+Math.min(j.offset,nt.length()-1);this.quill.setSelection(ct,0,o.Ay.sources.USER)}}else{const nt=B.table()[F];nt!=null&&(H?this.quill.setSelection(nt.offset(this.quill.scroll)+nt.length()-1,0,o.Ay.sources.USER):this.quill.setSelection(nt.offset(this.quill.scroll),0,o.Ay.sources.USER))}return!1}}}function et(H){let{quill:f,range:j}=H;const F=f.getLines(j);let B={};if(F.length>1){const W=F[0].formats(),nt=F[F.length-1].formats();B=E.AttributeMap.diff(nt,W)||{}}f.deleteText(j,o.Ay.sources.USER),Object.keys(B).length>0&&f.formatLine(j.index,1,B,o.Ay.sources.USER),f.setSelection(j.index,o.Ay.sources.SILENT)}a.DEFAULTS=b},8920:function(K){"use strict";var T=Object.prototype.hasOwnProperty,n="~";function h(){}function v(o,N,c){this.fn=o,this.context=N,this.once=c||!1}function E(o,N,c,x,q){if(typeof c!="function")throw new TypeError("The listener must be a function");var a=new v(c,x||o,q),b=n?n+N:N;return o._events[b]?o._events[b].fn?o._events[b]=[o._events[b],a]:o._events[b].push(a):(o._events[b]=a,o._eventsCount++),o}function y(o,N){--o._eventsCount==0?o._events=new h:delete o._events[N]}function L(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(n=!1)),L.prototype.eventNames=function(){var o,N,c=[];if(this._eventsCount===0)return c;for(N in o=this._events)T.call(o,N)&&c.push(n?N.slice(1):N);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(o)):c},L.prototype.listeners=function(o){var N=n?n+o:o,c=this._events[N];if(!c)return[];if(c.fn)return[c.fn];for(var x=0,q=c.length,a=new Array(q);x<q;x++)a[x]=c[x].fn;return a},L.prototype.listenerCount=function(o){var N=n?n+o:o,c=this._events[N];return c?c.fn?1:c.length:0},L.prototype.emit=function(o,N,c,x,q,a){var b=n?n+o:o;if(!this._events[b])return!1;var k,R,P=this._events[b],Q=arguments.length;if(P.fn){switch(P.once&&this.removeListener(o,P.fn,void 0,!0),Q){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,N),!0;case 3:return P.fn.call(P.context,N,c),!0;case 4:return P.fn.call(P.context,N,c,x),!0;case 5:return P.fn.call(P.context,N,c,x,q),!0;case 6:return P.fn.call(P.context,N,c,x,q,a),!0}for(R=1,k=new Array(Q-1);R<Q;R++)k[R-1]=arguments[R];P.fn.apply(P.context,k)}else{var et,H=P.length;for(R=0;R<H;R++)switch(P[R].once&&this.removeListener(o,P[R].fn,void 0,!0),Q){case 1:P[R].fn.call(P[R].context);break;case 2:P[R].fn.call(P[R].context,N);break;case 3:P[R].fn.call(P[R].context,N,c);break;case 4:P[R].fn.call(P[R].context,N,c,x);break;default:if(!k)for(et=1,k=new Array(Q-1);et<Q;et++)k[et-1]=arguments[et];P[R].fn.apply(P[R].context,k)}}return!0},L.prototype.on=function(o,N,c){return E(this,o,N,c,!1)},L.prototype.once=function(o,N,c){return E(this,o,N,c,!0)},L.prototype.removeListener=function(o,N,c,x){var q=n?n+o:o;if(!this._events[q])return this;if(!N)return y(this,q),this;var a=this._events[q];if(a.fn)a.fn!==N||x&&!a.once||c&&a.context!==c||y(this,q);else{for(var b=0,k=[],R=a.length;b<R;b++)(a[b].fn!==N||x&&!a[b].once||c&&a[b].context!==c)&&k.push(a[b]);k.length?this._events[q]=k.length===1?k[0]:k:y(this,q)}return this},L.prototype.removeAllListeners=function(o){var N;return o?(N=n?n+o:o,this._events[N]&&y(this,N)):(this._events=new h,this._eventsCount=0),this},L.prototype.off=L.prototype.removeListener,L.prototype.addListener=L.prototype.on,L.prefixed=n,L.EventEmitter=L,K.exports=L},5090:function(K){var T=-1,n=1,h=0;function v(f,j,F,B,W){if(f===j)return f?[[h,f]]:[];if(F!=null){var nt=(function(Z,Y,i){var t=typeof i=="number"?{index:i,length:0}:i.oldRange,e=typeof i=="number"?null:i.newRange,r=Z.length,S=Y.length;if(t.length===0&&(e===null||e.length===0)){var p=t.index,m=Z.slice(0,p),O=Z.slice(p),_=e?e.index:null,g=p+S-r;if((_===null||_===g)&&!(g<0||g>S)){var s=Y.slice(0,g);if((A=Y.slice(g))===O){var l=Math.min(p,g);if((M=m.slice(0,l))===(V=s.slice(0,l)))return et(M,m.slice(l),s.slice(l),O)}}if(_===null||_===p){var u=p,A=(s=Y.slice(0,u),Y.slice(u));if(s===m){var w=Math.min(r-u,S-u);if(($=O.slice(O.length-w))===(G=A.slice(A.length-w)))return et(m,O.slice(0,O.length-w),A.slice(0,A.length-w),$)}}}if(t.length>0&&e&&e.length===0){var M=Z.slice(0,t.index),$=Z.slice(t.index+t.length);if(!(S<(l=M.length)+(w=$.length))){var V=Y.slice(0,l),G=Y.slice(S-w);if(M===V&&$===G)return et(M,Z.slice(l,r-w),Y.slice(l,S-w),$)}}return null})(f,j,F);if(nt)return nt}var tt=y(f,j),ct=f.substring(0,tt);tt=o(f=f.substring(tt),j=j.substring(tt));var ft=f.substring(f.length-tt),X=(function(Z,Y){var i;if(!Z)return[[n,Y]];if(!Y)return[[T,Z]];var t=Z.length>Y.length?Z:Y,e=Z.length>Y.length?Y:Z,r=t.indexOf(e);if(r!==-1)return i=[[n,t.substring(0,r)],[h,e],[n,t.substring(r+e.length)]],Z.length>Y.length&&(i[0][0]=i[2][0]=T),i;if(e.length===1)return[[T,Z],[n,Y]];var S=(function(u,A){var w=u.length>A.length?u:A,M=u.length>A.length?A:u;if(w.length<4||2*M.length<w.length)return null;function $(dt,xt,Tt){for(var _t,lt,gt,At,kt=dt.substring(Tt,Tt+Math.floor(dt.length/4)),Nt=-1,qt="";(Nt=xt.indexOf(kt,Nt+1))!==-1;){var Ut=y(dt.substring(Tt),xt.substring(Nt)),Pt=o(dt.substring(0,Tt),xt.substring(0,Nt));qt.length<Pt+Ut&&(qt=xt.substring(Nt-Pt,Nt)+xt.substring(Nt,Nt+Ut),_t=dt.substring(0,Tt-Pt),lt=dt.substring(Tt+Ut),gt=xt.substring(0,Nt-Pt),At=xt.substring(Nt+Ut))}return 2*qt.length>=dt.length?[_t,lt,gt,At,qt]:null}var V,G,rt,it,st,pt=$(w,M,Math.ceil(w.length/4)),ut=$(w,M,Math.ceil(w.length/2));return pt||ut?(V=ut?pt&&pt[4].length>ut[4].length?pt:ut:pt,u.length>A.length?(G=V[0],rt=V[1],it=V[2],st=V[3]):(it=V[0],st=V[1],G=V[2],rt=V[3]),[G,rt,it,st,V[4]]):null})(Z,Y);if(S){var p=S[0],m=S[1],O=S[2],_=S[3],g=S[4],s=v(p,O),l=v(m,_);return s.concat([[h,g]],l)}return(function(u,A){for(var w=u.length,M=A.length,$=Math.ceil((w+M)/2),V=$,G=2*$,rt=new Array(G),it=new Array(G),st=0;st<G;st++)rt[st]=-1,it[st]=-1;rt[V+1]=0,it[V+1]=0;for(var pt=w-M,ut=pt%2!=0,dt=0,xt=0,Tt=0,_t=0,lt=0;lt<$;lt++){for(var gt=-lt+dt;gt<=lt-xt;gt+=2){for(var At=V+gt,kt=(Ct=gt===-lt||gt!==lt&&rt[At-1]<rt[At+1]?rt[At+1]:rt[At-1]+1)-gt;Ct<w&&kt<M&&u.charAt(Ct)===A.charAt(kt);)Ct++,kt++;if(rt[At]=Ct,Ct>w)xt+=2;else if(kt>M)dt+=2;else if(ut&&(Ut=V+pt-gt)>=0&&Ut<G&&it[Ut]!==-1&&Ct>=(qt=w-it[Ut]))return E(u,A,Ct,kt)}for(var Nt=-lt+Tt;Nt<=lt-_t;Nt+=2){for(var qt,Ut=V+Nt,Pt=(qt=Nt===-lt||Nt!==lt&&it[Ut-1]<it[Ut+1]?it[Ut+1]:it[Ut-1]+1)-Nt;qt<w&&Pt<M&&u.charAt(w-qt-1)===A.charAt(M-Pt-1);)qt++,Pt++;if(it[Ut]=qt,qt>w)_t+=2;else if(Pt>M)Tt+=2;else if(!ut){var Ct;if((At=V+pt-Nt)>=0&&At<G&&rt[At]!==-1&&(kt=V+(Ct=rt[At])-At,Ct>=(qt=w-qt)))return E(u,A,Ct,kt)}}}return[[T,u],[n,A]]})(Z,Y)})(f=f.substring(0,f.length-tt),j=j.substring(0,j.length-tt));return ct&&X.unshift([h,ct]),ft&&X.push([h,ft]),b(X,W),B&&(function(Z){for(var Y=!1,i=[],t=0,e=null,r=0,S=0,p=0,m=0,O=0;r<Z.length;)Z[r][0]==h?(i[t++]=r,S=m,p=O,m=0,O=0,e=Z[r][1]):(Z[r][0]==n?m+=Z[r][1].length:O+=Z[r][1].length,e&&e.length<=Math.max(S,p)&&e.length<=Math.max(m,O)&&(Z.splice(i[t-1],0,[T,e]),Z[i[t-1]+1][0]=n,t--,r=--t>0?i[t-1]:-1,S=0,p=0,m=0,O=0,e=null,Y=!0)),r++;for(Y&&b(Z),(function(u){function A(xt,Tt){if(!xt||!Tt)return 6;var _t=xt.charAt(xt.length-1),lt=Tt.charAt(0),gt=_t.match(N),At=lt.match(N),kt=gt&&_t.match(c),Nt=At&&lt.match(c),qt=kt&&_t.match(x),Ut=Nt&&lt.match(x),Pt=qt&&xt.match(q),Ct=Ut&&Tt.match(a);return Pt||Ct?5:qt||Ut?4:gt&&!kt&&Nt?3:kt||Nt?2:gt||At?1:0}for(var w=1;w<u.length-1;){if(u[w-1][0]==h&&u[w+1][0]==h){var M=u[w-1][1],$=u[w][1],V=u[w+1][1],G=o(M,$);if(G){var rt=$.substring($.length-G);M=M.substring(0,M.length-G),$=rt+$.substring(0,$.length-G),V=rt+V}for(var it=M,st=$,pt=V,ut=A(M,$)+A($,V);$.charAt(0)===V.charAt(0);){M+=$.charAt(0),$=$.substring(1)+V.charAt(0),V=V.substring(1);var dt=A(M,$)+A($,V);dt>=ut&&(ut=dt,it=M,st=$,pt=V)}u[w-1][1]!=it&&(it?u[w-1][1]=it:(u.splice(w-1,1),w--),u[w][1]=st,pt?u[w+1][1]=pt:(u.splice(w+1,1),w--))}w++}})(Z),r=1;r<Z.length;){if(Z[r-1][0]==T&&Z[r][0]==n){var _=Z[r-1][1],g=Z[r][1],s=L(_,g),l=L(g,_);s>=l?(s>=_.length/2||s>=g.length/2)&&(Z.splice(r,0,[h,g.substring(0,s)]),Z[r-1][1]=_.substring(0,_.length-s),Z[r+1][1]=g.substring(s),r++):(l>=_.length/2||l>=g.length/2)&&(Z.splice(r,0,[h,_.substring(0,l)]),Z[r-1][0]=n,Z[r-1][1]=g.substring(0,g.length-l),Z[r+1][0]=T,Z[r+1][1]=_.substring(l),r++),r++}r++}})(X),X}function E(f,j,F,B){var W=f.substring(0,F),nt=j.substring(0,B),tt=f.substring(F),ct=j.substring(B),ft=v(W,nt),X=v(tt,ct);return ft.concat(X)}function y(f,j){if(!f||!j||f.charAt(0)!==j.charAt(0))return 0;for(var F=0,B=Math.min(f.length,j.length),W=B,nt=0;F<W;)f.substring(nt,W)==j.substring(nt,W)?nt=F=W:B=W,W=Math.floor((B-F)/2+F);return k(f.charCodeAt(W-1))&&W--,W}function L(f,j){var F=f.length,B=j.length;if(F==0||B==0)return 0;F>B?f=f.substring(F-B):F<B&&(j=j.substring(0,F));var W=Math.min(F,B);if(f==j)return W;for(var nt=0,tt=1;;){var ct=f.substring(W-tt),ft=j.indexOf(ct);if(ft==-1)return nt;tt+=ft,ft!=0&&f.substring(W-tt)!=j.substring(0,tt)||(nt=tt,tt++)}}function o(f,j){if(!f||!j||f.slice(-1)!==j.slice(-1))return 0;for(var F=0,B=Math.min(f.length,j.length),W=B,nt=0;F<W;)f.substring(f.length-W,f.length-nt)==j.substring(j.length-W,j.length-nt)?nt=F=W:B=W,W=Math.floor((B-F)/2+F);return R(f.charCodeAt(f.length-W))&&W--,W}var N=/[^a-zA-Z0-9]/,c=/\s/,x=/[\r\n]/,q=/\n\r?\n$/,a=/^\r?\n\r?\n/;function b(f,j){f.push([h,""]);for(var F,B=0,W=0,nt=0,tt="",ct="";B<f.length;)if(B<f.length-1&&!f[B][1])f.splice(B,1);else switch(f[B][0]){case n:nt++,ct+=f[B][1],B++;break;case T:W++,tt+=f[B][1],B++;break;case h:var ft=B-nt-W-1;if(j){if(ft>=0&&Q(f[ft][1])){var X=f[ft][1].slice(-1);if(f[ft][1]=f[ft][1].slice(0,-1),tt=X+tt,ct=X+ct,!f[ft][1]){f.splice(ft,1),B--;var Z=ft-1;f[Z]&&f[Z][0]===n&&(nt++,ct=f[Z][1]+ct,Z--),f[Z]&&f[Z][0]===T&&(W++,tt=f[Z][1]+tt,Z--),ft=Z}}P(f[B][1])&&(X=f[B][1].charAt(0),f[B][1]=f[B][1].slice(1),tt+=X,ct+=X)}if(B<f.length-1&&!f[B][1]){f.splice(B,1);break}if(tt.length>0||ct.length>0){tt.length>0&&ct.length>0&&((F=y(ct,tt))!==0&&(ft>=0?f[ft][1]+=ct.substring(0,F):(f.splice(0,0,[h,ct.substring(0,F)]),B++),ct=ct.substring(F),tt=tt.substring(F)),(F=o(ct,tt))!==0&&(f[B][1]=ct.substring(ct.length-F)+f[B][1],ct=ct.substring(0,ct.length-F),tt=tt.substring(0,tt.length-F)));var Y=nt+W;tt.length===0&&ct.length===0?(f.splice(B-Y,Y),B-=Y):tt.length===0?(f.splice(B-Y,Y,[n,ct]),B=B-Y+1):ct.length===0?(f.splice(B-Y,Y,[T,tt]),B=B-Y+1):(f.splice(B-Y,Y,[T,tt],[n,ct]),B=B-Y+2)}B!==0&&f[B-1][0]===h?(f[B-1][1]+=f[B][1],f.splice(B,1)):B++,nt=0,W=0,tt="",ct=""}f[f.length-1][1]===""&&f.pop();var i=!1;for(B=1;B<f.length-1;)f[B-1][0]===h&&f[B+1][0]===h&&(f[B][1].substring(f[B][1].length-f[B-1][1].length)===f[B-1][1]?(f[B][1]=f[B-1][1]+f[B][1].substring(0,f[B][1].length-f[B-1][1].length),f[B+1][1]=f[B-1][1]+f[B+1][1],f.splice(B-1,1),i=!0):f[B][1].substring(0,f[B+1][1].length)==f[B+1][1]&&(f[B-1][1]+=f[B+1][1],f[B][1]=f[B][1].substring(f[B+1][1].length)+f[B+1][1],f.splice(B+1,1),i=!0)),B++;i&&b(f,j)}function k(f){return f>=55296&&f<=56319}function R(f){return f>=56320&&f<=57343}function P(f){return R(f.charCodeAt(0))}function Q(f){return k(f.charCodeAt(f.length-1))}function et(f,j,F,B){return Q(f)||P(B)?null:(function(W){for(var nt=[],tt=0;tt<W.length;tt++)W[tt][1].length>0&&nt.push(W[tt]);return nt})([[h,f],[T,j],[n,F],[h,B]])}function H(f,j,F,B){return v(f,j,F,B,!0)}H.INSERT=n,H.DELETE=T,H.EQUAL=h,K.exports=H},9629:function(K,T,n){K=n.nmd(K);var h="__lodash_hash_undefined__",v=9007199254740991,E="[object Arguments]",y="[object Boolean]",L="[object Date]",o="[object Function]",N="[object GeneratorFunction]",c="[object Map]",x="[object Number]",q="[object Object]",a="[object Promise]",b="[object RegExp]",k="[object Set]",R="[object String]",P="[object Symbol]",Q="[object WeakMap]",et="[object ArrayBuffer]",H="[object DataView]",f="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",W="[object Int32Array]",nt="[object Uint8Array]",tt="[object Uint8ClampedArray]",ct="[object Uint16Array]",ft="[object Uint32Array]",X=/\w*$/,Z=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,i={};i[E]=i["[object Array]"]=i[et]=i[H]=i[y]=i[L]=i[f]=i[j]=i[F]=i[B]=i[W]=i[c]=i[x]=i[q]=i[b]=i[k]=i[R]=i[P]=i[nt]=i[tt]=i[ct]=i[ft]=!0,i["[object Error]"]=i[o]=i[Q]=!1;var t=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g,e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")(),S=T&&!T.nodeType&&T,p=S&&K&&!K.nodeType&&K,m=p&&p.exports===S;function O(D,d){return D.set(d[0],d[1]),D}function _(D,d){return D.add(d),D}function g(D,d,C,z){var ot=-1,wt=D?D.length:0;for(z&&wt&&(C=D[++ot]);++ot<wt;)C=d(C,D[ot],ot,D);return C}function s(D){var d=!1;if(D!=null&&typeof D.toString!="function")try{d=!!(D+"")}catch{}return d}function l(D){var d=-1,C=Array(D.size);return D.forEach((function(z,ot){C[++d]=[ot,z]})),C}function u(D,d){return function(C){return D(d(C))}}function A(D){var d=-1,C=Array(D.size);return D.forEach((function(z){C[++d]=z})),C}var w,M=Array.prototype,$=Function.prototype,V=Object.prototype,G=r["__core-js_shared__"],rt=(w=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",it=$.toString,st=V.hasOwnProperty,pt=V.toString,ut=RegExp("^"+it.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=m?r.Buffer:void 0,xt=r.Symbol,Tt=r.Uint8Array,_t=u(Object.getPrototypeOf,Object),lt=Object.create,gt=V.propertyIsEnumerable,At=M.splice,kt=Object.getOwnPropertySymbols,Nt=dt?dt.isBuffer:void 0,qt=u(Object.keys,Object),Ut=U(r,"DataView"),Pt=U(r,"Map"),Ct=U(r,"Promise"),Ae=U(r,"Set"),Ne=U(r,"WeakMap"),he=U(Object,"create"),ke=It(Ut),Oe=It(Pt),we=It(Ct),de=It(Ae),se=It(Ne),Gt=xt?xt.prototype:void 0,ee=Gt?Gt.valueOf:void 0;function Zt(D){var d=-1,C=D?D.length:0;for(this.clear();++d<C;){var z=D[d];this.set(z[0],z[1])}}function Ht(D){var d=-1,C=D?D.length:0;for(this.clear();++d<C;){var z=D[d];this.set(z[0],z[1])}}function Yt(D){var d=-1,C=D?D.length:0;for(this.clear();++d<C;){var z=D[d];this.set(z[0],z[1])}}function Xt(D){this.__data__=new Ht(D)}function xe(D,d,C){var z=D[d];st.call(D,d)&&Wt(z,C)&&(C!==void 0||d in D)||(D[d]=C)}function ce(D,d){for(var C=D.length;C--;)if(Wt(D[C][0],d))return C;return-1}function be(D,d,C,z,ot,wt,mt){var vt;if(z&&(vt=wt?z(D,ot,wt,mt):z(D)),vt!==void 0)return vt;if(!ne(D))return D;var Mt=Jt(D);if(Mt){if(vt=(function(bt){var Et=bt.length,Lt=bt.constructor(Et);return Et&&typeof bt[0]=="string"&&st.call(bt,"index")&&(Lt.index=bt.index,Lt.input=bt.input),Lt})(D),!d)return(function(bt,Et){var Lt=-1,$t=bt.length;for(Et||(Et=Array($t));++Lt<$t;)Et[Lt]=bt[Lt];return Et})(D,vt)}else{var Rt=ht(D),Vt=Rt==o||Rt==N;if(ue(D))return(function(bt,Et){if(Et)return bt.slice();var Lt=new bt.constructor(bt.length);return bt.copy(Lt),Lt})(D,d);if(Rt==q||Rt==E||Vt&&!wt){if(s(D))return wt?D:{};if(vt=(function(bt){return typeof bt.constructor!="function"||Ot(bt)?{}:ne(Et=_t(bt))?lt(Et):{};var Et})(Vt?{}:D),!d)return(function(bt,Et){return at(bt,J(bt),Et)})(D,(function(bt,Et){return bt&&at(Et,fe(Et),bt)})(vt,D))}else{if(!i[Rt])return wt?D:{};vt=(function(bt,Et,Lt,$t){var oe,Qt=bt.constructor;switch(Et){case et:return ye(bt);case y:case L:return new Qt(+bt);case H:return(function(St,Kt){var re=Kt?ye(St.buffer):St.buffer;return new St.constructor(re,St.byteOffset,St.byteLength)})(bt,$t);case f:case j:case F:case B:case W:case nt:case tt:case ct:case ft:return(function(St,Kt){var re=Kt?ye(St.buffer):St.buffer;return new St.constructor(re,St.byteOffset,St.length)})(bt,$t);case c:return(function(St,Kt,re){return g(Kt?re(l(St),!0):l(St),O,new St.constructor)})(bt,$t,Lt);case x:case R:return new Qt(bt);case b:return(function(St){var Kt=new St.constructor(St.source,X.exec(St));return Kt.lastIndex=St.lastIndex,Kt})(bt);case k:return(function(St,Kt,re){return g(Kt?re(A(St),!0):A(St),_,new St.constructor)})(bt,$t,Lt);case P:return oe=bt,ee?Object(ee.call(oe)):{}}})(D,Rt,be,d)}}mt||(mt=new Xt);var zt=mt.get(D);if(zt)return zt;if(mt.set(D,vt),!Mt)var Ft=C?(function(bt){return(function(Et,Lt,$t){var oe=Lt(Et);return Jt(Et)?oe:(function(Qt,St){for(var Kt=-1,re=St.length,Me=Qt.length;++Kt<re;)Qt[Me+Kt]=St[Kt];return Qt})(oe,$t(Et))})(bt,fe,J)})(D):fe(D);return(function(bt,Et){for(var Lt=-1,$t=bt?bt.length:0;++Lt<$t&&Et(bt[Lt],Lt)!==!1;);})(Ft||D,(function(bt,Et){Ft&&(bt=D[Et=bt]),xe(vt,Et,be(bt,d,C,z,Et,D,mt))})),vt}function ye(D){var d=new D.constructor(D.byteLength);return new Tt(d).set(new Tt(D)),d}function at(D,d,C,z){C||(C={});for(var ot=-1,wt=d.length;++ot<wt;){var mt=d[ot],vt=z?z(C[mt],D[mt],mt,C,D):void 0;xe(C,mt,vt===void 0?D[mt]:vt)}return C}function I(D,d){var C,z,ot=D.__data__;return((z=typeof(C=d))=="string"||z=="number"||z=="symbol"||z=="boolean"?C!=="__proto__":C===null)?ot[typeof d=="string"?"string":"hash"]:ot.map}function U(D,d){var C=(function(z,ot){return z?.[ot]})(D,d);return(function(z){return!(!ne(z)||(ot=z,rt&&rt in ot))&&(Ee(z)||s(z)?ut:Z).test(It(z));var ot})(C)?C:void 0}Zt.prototype.clear=function(){this.__data__=he?he(null):{}},Zt.prototype.delete=function(D){return this.has(D)&&delete this.__data__[D]},Zt.prototype.get=function(D){var d=this.__data__;if(he){var C=d[D];return C===h?void 0:C}return st.call(d,D)?d[D]:void 0},Zt.prototype.has=function(D){var d=this.__data__;return he?d[D]!==void 0:st.call(d,D)},Zt.prototype.set=function(D,d){return this.__data__[D]=he&&d===void 0?h:d,this},Ht.prototype.clear=function(){this.__data__=[]},Ht.prototype.delete=function(D){var d=this.__data__,C=ce(d,D);return!(C<0||(C==d.length-1?d.pop():At.call(d,C,1),0))},Ht.prototype.get=function(D){var d=this.__data__,C=ce(d,D);return C<0?void 0:d[C][1]},Ht.prototype.has=function(D){return ce(this.__data__,D)>-1},Ht.prototype.set=function(D,d){var C=this.__data__,z=ce(C,D);return z<0?C.push([D,d]):C[z][1]=d,this},Yt.prototype.clear=function(){this.__data__={hash:new Zt,map:new(Pt||Ht),string:new Zt}},Yt.prototype.delete=function(D){return I(this,D).delete(D)},Yt.prototype.get=function(D){return I(this,D).get(D)},Yt.prototype.has=function(D){return I(this,D).has(D)},Yt.prototype.set=function(D,d){return I(this,D).set(D,d),this},Xt.prototype.clear=function(){this.__data__=new Ht},Xt.prototype.delete=function(D){return this.__data__.delete(D)},Xt.prototype.get=function(D){return this.__data__.get(D)},Xt.prototype.has=function(D){return this.__data__.has(D)},Xt.prototype.set=function(D,d){var C=this.__data__;if(C instanceof Ht){var z=C.__data__;if(!Pt||z.length<199)return z.push([D,d]),this;C=this.__data__=new Yt(z)}return C.set(D,d),this};var J=kt?u(kt,Object):function(){return[]},ht=function(D){return pt.call(D)};function yt(D,d){return!!(d=d??v)&&(typeof D=="number"||Y.test(D))&&D>-1&&D%1==0&&D<d}function Ot(D){var d=D&&D.constructor;return D===(typeof d=="function"&&d.prototype||V)}function It(D){if(D!=null){try{return it.call(D)}catch{}try{return D+""}catch{}}return""}function Wt(D,d){return D===d||D!=D&&d!=d}(Ut&&ht(new Ut(new ArrayBuffer(1)))!=H||Pt&&ht(new Pt)!=c||Ct&&ht(Ct.resolve())!=a||Ae&&ht(new Ae)!=k||Ne&&ht(new Ne)!=Q)&&(ht=function(D){var d=pt.call(D),C=d==q?D.constructor:void 0,z=C?It(C):void 0;if(z)switch(z){case ke:return H;case Oe:return c;case we:return a;case de:return k;case se:return Q}return d});var Jt=Array.isArray;function ie(D){return D!=null&&(function(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=v})(D.length)&&!Ee(D)}var ue=Nt||function(){return!1};function Ee(D){var d=ne(D)?pt.call(D):"";return d==o||d==N}function ne(D){var d=typeof D;return!!D&&(d=="object"||d=="function")}function fe(D){return ie(D)?(function(d,C){var z=Jt(d)||(function(vt){return(function(Mt){return(function(Rt){return!!Rt&&typeof Rt=="object"})(Mt)&&ie(Mt)})(vt)&&st.call(vt,"callee")&&(!gt.call(vt,"callee")||pt.call(vt)==E)})(d)?(function(vt,Mt){for(var Rt=-1,Vt=Array(vt);++Rt<vt;)Vt[Rt]=Mt(Rt);return Vt})(d.length,String):[],ot=z.length,wt=!!ot;for(var mt in d)!C&&!st.call(d,mt)||wt&&(mt=="length"||yt(mt,ot))||z.push(mt);return z})(D):(function(d){if(!Ot(d))return qt(d);var C=[];for(var z in Object(d))st.call(d,z)&&z!="constructor"&&C.push(z);return C})(D)}K.exports=function(D){return be(D,!0,!0)}},4162:function(K,T,n){K=n.nmd(K);var h="__lodash_hash_undefined__",v=1,E=2,y=9007199254740991,L="[object Arguments]",o="[object Array]",N="[object AsyncFunction]",c="[object Boolean]",x="[object Date]",q="[object Error]",a="[object Function]",b="[object GeneratorFunction]",k="[object Map]",R="[object Number]",P="[object Null]",Q="[object Object]",et="[object Promise]",H="[object Proxy]",f="[object RegExp]",j="[object Set]",F="[object String]",B="[object Undefined]",W="[object WeakMap]",nt="[object ArrayBuffer]",tt="[object DataView]",ct=/^\[object .+?Constructor\]$/,ft=/^(?:0|[1-9]\d*)$/,X={};X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X[L]=X[o]=X[nt]=X[c]=X[tt]=X[x]=X[q]=X[a]=X[k]=X[R]=X[Q]=X[f]=X[j]=X[F]=X[W]=!1;var Z=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g,Y=typeof self=="object"&&self&&self.Object===Object&&self,i=Z||Y||Function("return this")(),t=T&&!T.nodeType&&T,e=t&&K&&!K.nodeType&&K,r=e&&e.exports===t,S=r&&Z.process,p=(function(){try{return S&&S.binding&&S.binding("util")}catch{}})(),m=p&&p.isTypedArray;function O(d,C){for(var z=-1,ot=d==null?0:d.length;++z<ot;)if(C(d[z],z,d))return!0;return!1}function _(d){var C=-1,z=Array(d.size);return d.forEach((function(ot,wt){z[++C]=[wt,ot]})),z}function g(d){var C=-1,z=Array(d.size);return d.forEach((function(ot){z[++C]=ot})),z}var s,l,u,A=Array.prototype,w=Function.prototype,M=Object.prototype,$=i["__core-js_shared__"],V=w.toString,G=M.hasOwnProperty,rt=(s=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",it=M.toString,st=RegExp("^"+V.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pt=r?i.Buffer:void 0,ut=i.Symbol,dt=i.Uint8Array,xt=M.propertyIsEnumerable,Tt=A.splice,_t=ut?ut.toStringTag:void 0,lt=Object.getOwnPropertySymbols,gt=pt?pt.isBuffer:void 0,At=(l=Object.keys,u=Object,function(d){return l(u(d))}),kt=I(i,"DataView"),Nt=I(i,"Map"),qt=I(i,"Promise"),Ut=I(i,"Set"),Pt=I(i,"WeakMap"),Ct=I(Object,"create"),Ae=yt(kt),Ne=yt(Nt),he=yt(qt),ke=yt(Ut),Oe=yt(Pt),we=ut?ut.prototype:void 0,de=we?we.valueOf:void 0;function se(d){var C=-1,z=d==null?0:d.length;for(this.clear();++C<z;){var ot=d[C];this.set(ot[0],ot[1])}}function Gt(d){var C=-1,z=d==null?0:d.length;for(this.clear();++C<z;){var ot=d[C];this.set(ot[0],ot[1])}}function ee(d){var C=-1,z=d==null?0:d.length;for(this.clear();++C<z;){var ot=d[C];this.set(ot[0],ot[1])}}function Zt(d){var C=-1,z=d==null?0:d.length;for(this.__data__=new ee;++C<z;)this.add(d[C])}function Ht(d){var C=this.__data__=new Gt(d);this.size=C.size}function Yt(d,C){for(var z=d.length;z--;)if(Ot(d[z][0],C))return z;return-1}function Xt(d){return d==null?d===void 0?B:P:_t&&_t in Object(d)?(function(C){var z=G.call(C,_t),ot=C[_t];try{C[_t]=void 0;var wt=!0}catch{}var mt=it.call(C);return wt&&(z?C[_t]=ot:delete C[_t]),mt})(d):(function(C){return it.call(C)})(d)}function xe(d){return ne(d)&&Xt(d)==L}function ce(d,C,z,ot,wt){return d===C||(d==null||C==null||!ne(d)&&!ne(C)?d!=d&&C!=C:(function(mt,vt,Mt,Rt,Vt,zt){var Ft=Wt(mt),bt=Wt(vt),Et=Ft?o:J(mt),Lt=bt?o:J(vt),$t=(Et=Et==L?Q:Et)==Q,oe=(Lt=Lt==L?Q:Lt)==Q,Qt=Et==Lt;if(Qt&&Jt(mt)){if(!Jt(vt))return!1;Ft=!0,$t=!1}if(Qt&&!$t)return zt||(zt=new Ht),Ft||fe(mt)?be(mt,vt,Mt,Rt,Vt,zt):(function(Dt,Bt,Le,pe,De,te,le){switch(Le){case tt:if(Dt.byteLength!=Bt.byteLength||Dt.byteOffset!=Bt.byteOffset)return!1;Dt=Dt.buffer,Bt=Bt.buffer;case nt:return!(Dt.byteLength!=Bt.byteLength||!te(new dt(Dt),new dt(Bt)));case c:case x:case R:return Ot(+Dt,+Bt);case q:return Dt.name==Bt.name&&Dt.message==Bt.message;case f:case F:return Dt==Bt+"";case k:var ge=_;case j:var _e=pe&v;if(ge||(ge=g),Dt.size!=Bt.size&&!_e)return!1;var ve=le.get(Dt);if(ve)return ve==Bt;pe|=E,le.set(Dt,Bt);var ae=be(ge(Dt),ge(Bt),pe,De,te,le);return le.delete(Dt),ae;case"[object Symbol]":if(de)return de.call(Dt)==de.call(Bt)}return!1})(mt,vt,Et,Mt,Rt,Vt,zt);if(!(Mt&v)){var St=$t&&G.call(mt,"__wrapped__"),Kt=oe&&G.call(vt,"__wrapped__");if(St||Kt){var re=St?mt.value():mt,Me=Kt?vt.value():vt;return zt||(zt=new Ht),Vt(re,Me,Mt,Rt,zt)}}return!!Qt&&(zt||(zt=new Ht),(function(Dt,Bt,Le,pe,De,te){var le=Le&v,ge=ye(Dt),_e=ge.length;if(_e!=ye(Bt).length&&!le)return!1;for(var ve=_e;ve--;){var ae=ge[ve];if(!(le?ae in Bt:G.call(Bt,ae)))return!1}var $e=te.get(Dt);if($e&&te.get(Bt))return $e==Bt;var Se=!0;te.set(Dt,Bt),te.set(Bt,Dt);for(var Ue=le;++ve<_e;){var Te=Dt[ae=ge[ve]],qe=Bt[ae];if(pe)var He=le?pe(qe,Te,ae,Bt,Dt,te):pe(Te,qe,ae,Dt,Bt,te);if(!(He===void 0?Te===qe||De(Te,qe,Le,pe,te):He)){Se=!1;break}Ue||(Ue=ae=="constructor")}if(Se&&!Ue){var je=Dt.constructor,Ce=Bt.constructor;je==Ce||!("constructor"in Dt)||!("constructor"in Bt)||typeof je=="function"&&je instanceof je&&typeof Ce=="function"&&Ce instanceof Ce||(Se=!1)}return te.delete(Dt),te.delete(Bt),Se})(mt,vt,Mt,Rt,Vt,zt))})(d,C,z,ot,ce,wt))}function be(d,C,z,ot,wt,mt){var vt=z&v,Mt=d.length,Rt=C.length;if(Mt!=Rt&&!(vt&&Rt>Mt))return!1;var Vt=mt.get(d);if(Vt&&mt.get(C))return Vt==C;var zt=-1,Ft=!0,bt=z&E?new Zt:void 0;for(mt.set(d,C),mt.set(C,d);++zt<Mt;){var Et=d[zt],Lt=C[zt];if(ot)var $t=vt?ot(Lt,Et,zt,C,d,mt):ot(Et,Lt,zt,d,C,mt);if($t!==void 0){if($t)continue;Ft=!1;break}if(bt){if(!O(C,(function(oe,Qt){if(St=Qt,!bt.has(St)&&(Et===oe||wt(Et,oe,z,ot,mt)))return bt.push(Qt);var St}))){Ft=!1;break}}else if(Et!==Lt&&!wt(Et,Lt,z,ot,mt)){Ft=!1;break}}return mt.delete(d),mt.delete(C),Ft}function ye(d){return(function(C,z,ot){var wt=z(C);return Wt(C)?wt:(function(mt,vt){for(var Mt=-1,Rt=vt.length,Vt=mt.length;++Mt<Rt;)mt[Vt+Mt]=vt[Mt];return mt})(wt,ot(C))})(d,D,U)}function at(d,C){var z,ot,wt=d.__data__;return((ot=typeof(z=C))=="string"||ot=="number"||ot=="symbol"||ot=="boolean"?z!=="__proto__":z===null)?wt[typeof C=="string"?"string":"hash"]:wt.map}function I(d,C){var z=(function(ot,wt){return ot?.[wt]})(d,C);return(function(ot){return!(!Ee(ot)||(function(wt){return!!rt&&rt in wt})(ot))&&(ie(ot)?st:ct).test(yt(ot))})(z)?z:void 0}se.prototype.clear=function(){this.__data__=Ct?Ct(null):{},this.size=0},se.prototype.delete=function(d){var C=this.has(d)&&delete this.__data__[d];return this.size-=C?1:0,C},se.prototype.get=function(d){var C=this.__data__;if(Ct){var z=C[d];return z===h?void 0:z}return G.call(C,d)?C[d]:void 0},se.prototype.has=function(d){var C=this.__data__;return Ct?C[d]!==void 0:G.call(C,d)},se.prototype.set=function(d,C){var z=this.__data__;return this.size+=this.has(d)?0:1,z[d]=Ct&&C===void 0?h:C,this},Gt.prototype.clear=function(){this.__data__=[],this.size=0},Gt.prototype.delete=function(d){var C=this.__data__,z=Yt(C,d);return!(z<0||(z==C.length-1?C.pop():Tt.call(C,z,1),--this.size,0))},Gt.prototype.get=function(d){var C=this.__data__,z=Yt(C,d);return z<0?void 0:C[z][1]},Gt.prototype.has=function(d){return Yt(this.__data__,d)>-1},Gt.prototype.set=function(d,C){var z=this.__data__,ot=Yt(z,d);return ot<0?(++this.size,z.push([d,C])):z[ot][1]=C,this},ee.prototype.clear=function(){this.size=0,this.__data__={hash:new se,map:new(Nt||Gt),string:new se}},ee.prototype.delete=function(d){var C=at(this,d).delete(d);return this.size-=C?1:0,C},ee.prototype.get=function(d){return at(this,d).get(d)},ee.prototype.has=function(d){return at(this,d).has(d)},ee.prototype.set=function(d,C){var z=at(this,d),ot=z.size;return z.set(d,C),this.size+=z.size==ot?0:1,this},Zt.prototype.add=Zt.prototype.push=function(d){return this.__data__.set(d,h),this},Zt.prototype.has=function(d){return this.__data__.has(d)},Ht.prototype.clear=function(){this.__data__=new Gt,this.size=0},Ht.prototype.delete=function(d){var C=this.__data__,z=C.delete(d);return this.size=C.size,z},Ht.prototype.get=function(d){return this.__data__.get(d)},Ht.prototype.has=function(d){return this.__data__.has(d)},Ht.prototype.set=function(d,C){var z=this.__data__;if(z instanceof Gt){var ot=z.__data__;if(!Nt||ot.length<199)return ot.push([d,C]),this.size=++z.size,this;z=this.__data__=new ee(ot)}return z.set(d,C),this.size=z.size,this};var U=lt?function(d){return d==null?[]:(d=Object(d),(function(C,z){for(var ot=-1,wt=C==null?0:C.length,mt=0,vt=[];++ot<wt;){var Mt=C[ot];Rt=Mt,xt.call(d,Rt)&&(vt[mt++]=Mt)}var Rt;return vt})(lt(d)))}:function(){return[]},J=Xt;function ht(d,C){return!!(C=C??y)&&(typeof d=="number"||ft.test(d))&&d>-1&&d%1==0&&d<C}function yt(d){if(d!=null){try{return V.call(d)}catch{}try{return d+""}catch{}}return""}function Ot(d,C){return d===C||d!=d&&C!=C}(kt&&J(new kt(new ArrayBuffer(1)))!=tt||Nt&&J(new Nt)!=k||qt&&J(qt.resolve())!=et||Ut&&J(new Ut)!=j||Pt&&J(new Pt)!=W)&&(J=function(d){var C=Xt(d),z=C==Q?d.constructor:void 0,ot=z?yt(z):"";if(ot)switch(ot){case Ae:return tt;case Ne:return k;case he:return et;case ke:return j;case Oe:return W}return C});var It=xe((function(){return arguments})())?xe:function(d){return ne(d)&&G.call(d,"callee")&&!xt.call(d,"callee")},Wt=Array.isArray,Jt=gt||function(){return!1};function ie(d){if(!Ee(d))return!1;var C=Xt(d);return C==a||C==b||C==N||C==H}function ue(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=y}function Ee(d){var C=typeof d;return d!=null&&(C=="object"||C=="function")}function ne(d){return d!=null&&typeof d=="object"}var fe=m?(function(d){return function(C){return d(C)}})(m):function(d){return ne(d)&&ue(d.length)&&!!X[Xt(d)]};function D(d){return(C=d)!=null&&ue(C.length)&&!ie(C)?(function(z,ot){var wt=Wt(z),mt=!wt&&It(z),vt=!wt&&!mt&&Jt(z),Mt=!wt&&!mt&&!vt&&fe(z),Rt=wt||mt||vt||Mt,Vt=Rt?(function(bt,Et){for(var Lt=-1,$t=Array(bt);++Lt<bt;)$t[Lt]=Et(Lt);return $t})(z.length,String):[],zt=Vt.length;for(var Ft in z)!ot&&!G.call(z,Ft)||Rt&&(Ft=="length"||vt&&(Ft=="offset"||Ft=="parent")||Mt&&(Ft=="buffer"||Ft=="byteLength"||Ft=="byteOffset")||ht(Ft,zt))||Vt.push(Ft);return Vt})(d):(function(z){if(wt=(ot=z)&&ot.constructor,ot!==(typeof wt=="function"&&wt.prototype||M))return At(z);var ot,wt,mt=[];for(var vt in Object(z))G.call(z,vt)&&vt!="constructor"&&mt.push(vt);return mt})(d);var C}K.exports=function(d,C){return ce(d,C)}},1270:function(K,T,n){"use strict";Object.defineProperty(T,"__esModule",{value:!0});const h=n(9629),v=n(4162);var E;(function(y){y.compose=function(L={},o={},N=!1){typeof L!="object"&&(L={}),typeof o!="object"&&(o={});let c=h(o);N||(c=Object.keys(c).reduce(((x,q)=>(c[q]!=null&&(x[q]=c[q]),x)),{}));for(const x in L)L[x]!==void 0&&o[x]===void 0&&(c[x]=L[x]);return Object.keys(c).length>0?c:void 0},y.diff=function(L={},o={}){typeof L!="object"&&(L={}),typeof o!="object"&&(o={});const N=Object.keys(L).concat(Object.keys(o)).reduce(((c,x)=>(v(L[x],o[x])||(c[x]=o[x]===void 0?null:o[x]),c)),{});return Object.keys(N).length>0?N:void 0},y.invert=function(L={},o={}){L=L||{};const N=Object.keys(o).reduce(((c,x)=>(o[x]!==L[x]&&L[x]!==void 0&&(c[x]=o[x]),c)),{});return Object.keys(L).reduce(((c,x)=>(L[x]!==o[x]&&o[x]===void 0&&(c[x]=null),c)),N)},y.transform=function(L,o,N=!1){if(typeof L!="object")return o;if(typeof o!="object")return;if(!N)return o;const c=Object.keys(o).reduce(((x,q)=>(L[q]===void 0&&(x[q]=o[q]),x)),{});return Object.keys(c).length>0?c:void 0}})(E||(E={})),T.default=E},5232:function(K,T,n){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.AttributeMap=T.OpIterator=T.Op=void 0;const h=n(5090),v=n(9629),E=n(4162),y=n(1270);T.AttributeMap=y.default;const L=n(4123);T.Op=L.default;const o=n(7033);T.OpIterator=o.default;const N="\0",c=(q,a)=>{if(typeof q!="object"||q===null)throw new Error("cannot retain a "+typeof q);if(typeof a!="object"||a===null)throw new Error("cannot retain a "+typeof a);const b=Object.keys(q)[0];if(!b||b!==Object.keys(a)[0])throw new Error(`embed types not matched: ${b} != ${Object.keys(a)[0]}`);return[b,q[b],a[b]]};class x{constructor(a){Array.isArray(a)?this.ops=a:a!=null&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]}static registerEmbed(a,b){this.handlers[a]=b}static unregisterEmbed(a){delete this.handlers[a]}static getHandler(a){const b=this.handlers[a];if(!b)throw new Error(`no handlers for embed type "${a}"`);return b}insert(a,b){const k={};return typeof a=="string"&&a.length===0?this:(k.insert=a,b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(k.attributes=b),this.push(k))}delete(a){return a<=0?this:this.push({delete:a})}retain(a,b){if(typeof a=="number"&&a<=0)return this;const k={retain:a};return b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(k.attributes=b),this.push(k)}push(a){let b=this.ops.length,k=this.ops[b-1];if(a=v(a),typeof k=="object"){if(typeof a.delete=="number"&&typeof k.delete=="number")return this.ops[b-1]={delete:k.delete+a.delete},this;if(typeof k.delete=="number"&&a.insert!=null&&(b-=1,k=this.ops[b-1],typeof k!="object"))return this.ops.unshift(a),this;if(E(a.attributes,k.attributes)){if(typeof a.insert=="string"&&typeof k.insert=="string")return this.ops[b-1]={insert:k.insert+a.insert},typeof a.attributes=="object"&&(this.ops[b-1].attributes=a.attributes),this;if(typeof a.retain=="number"&&typeof k.retain=="number")return this.ops[b-1]={retain:k.retain+a.retain},typeof a.attributes=="object"&&(this.ops[b-1].attributes=a.attributes),this}}return b===this.ops.length?this.ops.push(a):this.ops.splice(b,0,a),this}chop(){const a=this.ops[this.ops.length-1];return a&&typeof a.retain=="number"&&!a.attributes&&this.ops.pop(),this}filter(a){return this.ops.filter(a)}forEach(a){this.ops.forEach(a)}map(a){return this.ops.map(a)}partition(a){const b=[],k=[];return this.forEach((R=>{(a(R)?b:k).push(R)})),[b,k]}reduce(a,b){return this.ops.reduce(a,b)}changeLength(){return this.reduce(((a,b)=>b.insert?a+L.default.length(b):b.delete?a-b.delete:a),0)}length(){return this.reduce(((a,b)=>a+L.default.length(b)),0)}slice(a=0,b=1/0){const k=[],R=new o.default(this.ops);let P=0;for(;P<b&&R.hasNext();){let Q;P<a?Q=R.next(a-P):(Q=R.next(b-P),k.push(Q)),P+=L.default.length(Q)}return new x(k)}compose(a){const b=new o.default(this.ops),k=new o.default(a.ops),R=[],P=k.peek();if(P!=null&&typeof P.retain=="number"&&P.attributes==null){let et=P.retain;for(;b.peekType()==="insert"&&b.peekLength()<=et;)et-=b.peekLength(),R.push(b.next());P.retain-et>0&&k.next(P.retain-et)}const Q=new x(R);for(;b.hasNext()||k.hasNext();)if(k.peekType()==="insert")Q.push(k.next());else if(b.peekType()==="delete")Q.push(b.next());else{const et=Math.min(b.peekLength(),k.peekLength()),H=b.next(et),f=k.next(et);if(f.retain){const j={};if(typeof H.retain=="number")j.retain=typeof f.retain=="number"?et:f.retain;else if(typeof f.retain=="number")H.retain==null?j.insert=H.insert:j.retain=H.retain;else{const B=H.retain==null?"insert":"retain",[W,nt,tt]=c(H[B],f.retain),ct=x.getHandler(W);j[B]={[W]:ct.compose(nt,tt,B==="retain")}}const F=y.default.compose(H.attributes,f.attributes,typeof H.retain=="number");if(F&&(j.attributes=F),Q.push(j),!k.hasNext()&&E(Q.ops[Q.ops.length-1],j)){const B=new x(b.rest());return Q.concat(B).chop()}}else typeof f.delete=="number"&&(typeof H.retain=="number"||typeof H.retain=="object"&&H.retain!==null)&&Q.push(f)}return Q.chop()}concat(a){const b=new x(this.ops.slice());return a.ops.length>0&&(b.push(a.ops[0]),b.ops=b.ops.concat(a.ops.slice(1))),b}diff(a,b){if(this.ops===a.ops)return new x;const k=[this,a].map((H=>H.map((f=>{if(f.insert!=null)return typeof f.insert=="string"?f.insert:N;throw new Error("diff() called "+(H===a?"on":"with")+" non-document")})).join(""))),R=new x,P=h(k[0],k[1],b,!0),Q=new o.default(this.ops),et=new o.default(a.ops);return P.forEach((H=>{let f=H[1].length;for(;f>0;){let j=0;switch(H[0]){case h.INSERT:j=Math.min(et.peekLength(),f),R.push(et.next(j));break;case h.DELETE:j=Math.min(f,Q.peekLength()),Q.next(j),R.delete(j);break;case h.EQUAL:j=Math.min(Q.peekLength(),et.peekLength(),f);const F=Q.next(j),B=et.next(j);E(F.insert,B.insert)?R.retain(j,y.default.diff(F.attributes,B.attributes)):R.push(B).delete(j)}f-=j}})),R.chop()}eachLine(a,b=`
`){const k=new o.default(this.ops);let R=new x,P=0;for(;k.hasNext();){if(k.peekType()!=="insert")return;const Q=k.peek(),et=L.default.length(Q)-k.peekLength(),H=typeof Q.insert=="string"?Q.insert.indexOf(b,et)-et:-1;if(H<0)R.push(k.next());else if(H>0)R.push(k.next(H));else{if(a(R,k.next(1).attributes||{},P)===!1)return;P+=1,R=new x}}R.length()>0&&a(R,{},P)}invert(a){const b=new x;return this.reduce(((k,R)=>{if(R.insert)b.delete(L.default.length(R));else{if(typeof R.retain=="number"&&R.attributes==null)return b.retain(R.retain),k+R.retain;if(R.delete||typeof R.retain=="number"){const P=R.delete||R.retain;return a.slice(k,k+P).forEach((Q=>{R.delete?b.push(Q):R.retain&&R.attributes&&b.retain(L.default.length(Q),y.default.invert(R.attributes,Q.attributes))})),k+P}if(typeof R.retain=="object"&&R.retain!==null){const P=a.slice(k,k+1),Q=new o.default(P.ops).next(),[et,H,f]=c(R.retain,Q.insert),j=x.getHandler(et);return b.retain({[et]:j.invert(H,f)},y.default.invert(R.attributes,Q.attributes)),k+1}}return k}),0),b.chop()}transform(a,b=!1){if(b=!!b,typeof a=="number")return this.transformPosition(a,b);const k=a,R=new o.default(this.ops),P=new o.default(k.ops),Q=new x;for(;R.hasNext()||P.hasNext();)if(R.peekType()!=="insert"||!b&&P.peekType()==="insert")if(P.peekType()==="insert")Q.push(P.next());else{const et=Math.min(R.peekLength(),P.peekLength()),H=R.next(et),f=P.next(et);if(H.delete)continue;if(f.delete)Q.push(f);else{const j=H.retain,F=f.retain;let B=typeof F=="object"&&F!==null?F:et;if(typeof j=="object"&&j!==null&&typeof F=="object"&&F!==null){const W=Object.keys(j)[0];if(W===Object.keys(F)[0]){const nt=x.getHandler(W);nt&&(B={[W]:nt.transform(j[W],F[W],b)})}}Q.retain(B,y.default.transform(H.attributes,f.attributes,b))}}else Q.retain(L.default.length(R.next()));return Q.chop()}transformPosition(a,b=!1){b=!!b;const k=new o.default(this.ops);let R=0;for(;k.hasNext()&&R<=a;){const P=k.peekLength(),Q=k.peekType();k.next(),Q!=="delete"?(Q==="insert"&&(R<a||!b)&&(a+=P),R+=P):a-=Math.min(P,a-R)}return a}}x.Op=L.default,x.OpIterator=o.default,x.AttributeMap=y.default,x.handlers={},T.default=x,K.exports=x,K.exports.default=x},4123:function(K,T){"use strict";var n;Object.defineProperty(T,"__esModule",{value:!0}),(function(h){h.length=function(v){return typeof v.delete=="number"?v.delete:typeof v.retain=="number"?v.retain:typeof v.retain=="object"&&v.retain!==null?1:typeof v.insert=="string"?v.insert.length:1}})(n||(n={})),T.default=n},7033:function(K,T,n){"use strict";Object.defineProperty(T,"__esModule",{value:!0});const h=n(4123);T.default=class{constructor(v){this.ops=v,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(v){v||(v=1/0);const E=this.ops[this.index];if(E){const y=this.offset,L=h.default.length(E);if(v>=L-y?(v=L-y,this.index+=1,this.offset=0):this.offset+=v,typeof E.delete=="number")return{delete:v};{const o={};return E.attributes&&(o.attributes=E.attributes),typeof E.retain=="number"?o.retain=v:typeof E.retain=="object"&&E.retain!==null?o.retain=E.retain:typeof E.insert=="string"?o.insert=E.insert.substr(y,v):o.insert=E.insert,o}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?h.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const v=this.ops[this.index];return v?typeof v.delete=="number"?"delete":typeof v.retain=="number"||typeof v.retain=="object"&&v.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const v=this.offset,E=this.index,y=this.next(),L=this.ops.slice(this.index);return this.offset=v,this.index=E,[y].concat(L)}}return[]}}},8820:function(K,T,n){"use strict";n.d(T,{A:function(){return L}});var h=n(8138),v=function(o,N){for(var c=o.length;c--;)if((0,h.A)(o[c][0],N))return c;return-1},E=Array.prototype.splice;function y(o){var N=-1,c=o==null?0:o.length;for(this.clear();++N<c;){var x=o[N];this.set(x[0],x[1])}}y.prototype.clear=function(){this.__data__=[],this.size=0},y.prototype.delete=function(o){var N=this.__data__,c=v(N,o);return!(c<0||(c==N.length-1?N.pop():E.call(N,c,1),--this.size,0))},y.prototype.get=function(o){var N=this.__data__,c=v(N,o);return c<0?void 0:N[c][1]},y.prototype.has=function(o){return v(this.__data__,o)>-1},y.prototype.set=function(o,N){var c=this.__data__,x=v(c,o);return x<0?(++this.size,c.push([o,N])):c[x][1]=N,this};var L=y},2461:function(K,T,n){"use strict";var h=n(2281),v=n(5507),E=(0,h.A)(v.A,"Map");T.A=E},3558:function(K,T,n){"use strict";n.d(T,{A:function(){return q}});var h=(0,n(2281).A)(Object,"create"),v=Object.prototype.hasOwnProperty,E=Object.prototype.hasOwnProperty;function y(a){var b=-1,k=a==null?0:a.length;for(this.clear();++b<k;){var R=a[b];this.set(R[0],R[1])}}y.prototype.clear=function(){this.__data__=h?h(null):{},this.size=0},y.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},y.prototype.get=function(a){var b=this.__data__;if(h){var k=b[a];return k==="__lodash_hash_undefined__"?void 0:k}return v.call(b,a)?b[a]:void 0},y.prototype.has=function(a){var b=this.__data__;return h?b[a]!==void 0:E.call(b,a)},y.prototype.set=function(a,b){var k=this.__data__;return this.size+=this.has(a)?0:1,k[a]=h&&b===void 0?"__lodash_hash_undefined__":b,this};var L=y,o=n(8820),N=n(2461),c=function(a,b){var k,R,P=a.__data__;return((R=typeof(k=b))=="string"||R=="number"||R=="symbol"||R=="boolean"?k!=="__proto__":k===null)?P[typeof b=="string"?"string":"hash"]:P.map};function x(a){var b=-1,k=a==null?0:a.length;for(this.clear();++b<k;){var R=a[b];this.set(R[0],R[1])}}x.prototype.clear=function(){this.size=0,this.__data__={hash:new L,map:new(N.A||o.A),string:new L}},x.prototype.delete=function(a){var b=c(this,a).delete(a);return this.size-=b?1:0,b},x.prototype.get=function(a){return c(this,a).get(a)},x.prototype.has=function(a){return c(this,a).has(a)},x.prototype.set=function(a,b){var k=c(this,a),R=k.size;return k.set(a,b),this.size+=k.size==R?0:1,this};var q=x},2673:function(K,T,n){"use strict";n.d(T,{A:function(){return L}});var h=n(8820),v=n(2461),E=n(3558);function y(o){var N=this.__data__=new h.A(o);this.size=N.size}y.prototype.clear=function(){this.__data__=new h.A,this.size=0},y.prototype.delete=function(o){var N=this.__data__,c=N.delete(o);return this.size=N.size,c},y.prototype.get=function(o){return this.__data__.get(o)},y.prototype.has=function(o){return this.__data__.has(o)},y.prototype.set=function(o,N){var c=this.__data__;if(c instanceof h.A){var x=c.__data__;if(!v.A||x.length<199)return x.push([o,N]),this.size=++c.size,this;c=this.__data__=new E.A(x)}return c.set(o,N),this.size=c.size,this};var L=y},439:function(K,T,n){"use strict";var h=n(5507).A.Symbol;T.A=h},7218:function(K,T,n){"use strict";var h=n(5507).A.Uint8Array;T.A=h},6753:function(K,T,n){"use strict";n.d(T,{A:function(){return N}});var h=n(8412),v=n(723),E=n(776),y=n(3767),L=n(5755),o=Object.prototype.hasOwnProperty,N=function(c,x){var q=(0,v.A)(c),a=!q&&(0,h.A)(c),b=!q&&!a&&(0,E.A)(c),k=!q&&!a&&!b&&(0,L.A)(c),R=q||a||b||k,P=R?(function(H,f){for(var j=-1,F=Array(H);++j<H;)F[j]=f(j);return F})(c.length,String):[],Q=P.length;for(var et in c)!x&&!o.call(c,et)||R&&(et=="length"||b&&(et=="offset"||et=="parent")||k&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||(0,y.A)(et,Q))||P.push(et);return P}},802:function(K,T){"use strict";T.A=function(n,h){for(var v=-1,E=h.length,y=n.length;++v<E;)n[y+v]=h[v];return n}},6437:function(K,T,n){"use strict";var h=n(6770),v=n(8138),E=Object.prototype.hasOwnProperty;T.A=function(y,L,o){var N=y[L];E.call(y,L)&&(0,v.A)(N,o)&&(o!==void 0||L in y)||(0,h.A)(y,L,o)}},6770:function(K,T,n){"use strict";var h=n(7889);T.A=function(v,E,y){E=="__proto__"&&h.A?(0,h.A)(v,E,{configurable:!0,enumerable:!0,value:y,writable:!0}):v[E]=y}},1381:function(K,T,n){"use strict";var h=n(802),v=n(723);T.A=function(E,y,L){var o=y(E);return(0,v.A)(E)?o:(0,h.A)(o,L(E))}},2159:function(K,T,n){"use strict";n.d(T,{A:function(){return c}});var h=n(439),v=Object.prototype,E=v.hasOwnProperty,y=v.toString,L=h.A?h.A.toStringTag:void 0,o=Object.prototype.toString,N=h.A?h.A.toStringTag:void 0,c=function(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":N&&N in Object(x)?(function(q){var a=E.call(q,L),b=q[L];try{q[L]=void 0;var k=!0}catch{}var R=y.call(q);return k&&(a?q[L]=b:delete q[L]),R})(x):(function(q){return o.call(q)})(x)}},5771:function(K,T){"use strict";T.A=function(n){return function(h){return n(h)}}},2899:function(K,T,n){"use strict";var h=n(7218);T.A=function(v){var E=new v.constructor(v.byteLength);return new h.A(E).set(new h.A(v)),E}},3812:function(K,T,n){"use strict";var h=n(5507),v=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E=v&&typeof module=="object"&&module&&!module.nodeType&&module,y=E&&E.exports===v?h.A.Buffer:void 0,L=y?y.allocUnsafe:void 0;T.A=function(o,N){if(N)return o.slice();var c=o.length,x=L?L(c):new o.constructor(c);return o.copy(x),x}},1827:function(K,T,n){"use strict";var h=n(2899);T.A=function(v,E){var y=E?(0,h.A)(v.buffer):v.buffer;return new v.constructor(y,v.byteOffset,v.length)}},4405:function(K,T){"use strict";T.A=function(n,h){var v=-1,E=n.length;for(h||(h=Array(E));++v<E;)h[v]=n[v];return h}},9601:function(K,T,n){"use strict";var h=n(6437),v=n(6770);T.A=function(E,y,L,o){var N=!L;L||(L={});for(var c=-1,x=y.length;++c<x;){var q=y[c],a=o?o(L[q],E[q],q,L,E):void 0;a===void 0&&(a=E[q]),N?(0,v.A)(L,q,a):(0,h.A)(L,q,a)}return L}},7889:function(K,T,n){"use strict";var h=n(2281),v=(function(){try{var E=(0,h.A)(Object,"defineProperty");return E({},"",{}),E}catch{}})();T.A=v},9646:function(K,T){"use strict";var n=typeof global=="object"&&global&&global.Object===Object&&global;T.A=n},2816:function(K,T,n){"use strict";var h=n(1381),v=n(9844),E=n(3169);T.A=function(y){return(0,h.A)(y,E.A,v.A)}},2281:function(K,T,n){"use strict";n.d(T,{A:function(){return R}});var h,v=n(7572),E=n(5507).A["__core-js_shared__"],y=(h=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",L=n(659),o=n(1543),N=/^\[object .+?Constructor\]$/,c=Function.prototype,x=Object.prototype,q=c.toString,a=x.hasOwnProperty,b=RegExp("^"+q.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=function(P){return!(!(0,L.A)(P)||(Q=P,y&&y in Q))&&((0,v.A)(P)?b:N).test((0,o.A)(P));var Q},R=function(P,Q){var et=(function(H,f){return H?.[f]})(P,Q);return k(et)?et:void 0}},8769:function(K,T,n){"use strict";var h=(0,n(2217).A)(Object.getPrototypeOf,Object);T.A=h},9844:function(K,T,n){"use strict";n.d(T,{A:function(){return y}});var h=n(6935),v=Object.prototype.propertyIsEnumerable,E=Object.getOwnPropertySymbols,y=E?function(L){return L==null?[]:(L=Object(L),(function(o,N){for(var c=-1,x=o==null?0:o.length,q=0,a=[];++c<x;){var b=o[c];N(b,c,o)&&(a[q++]=b)}return a})(E(L),(function(o){return v.call(L,o)})))}:h.A},7995:function(K,T,n){"use strict";n.d(T,{A:function(){return F}});var h=n(2281),v=n(5507),E=(0,h.A)(v.A,"DataView"),y=n(2461),L=(0,h.A)(v.A,"Promise"),o=(0,h.A)(v.A,"Set"),N=(0,h.A)(v.A,"WeakMap"),c=n(2159),x=n(1543),q="[object Map]",a="[object Promise]",b="[object Set]",k="[object WeakMap]",R="[object DataView]",P=(0,x.A)(E),Q=(0,x.A)(y.A),et=(0,x.A)(L),H=(0,x.A)(o),f=(0,x.A)(N),j=c.A;(E&&j(new E(new ArrayBuffer(1)))!=R||y.A&&j(new y.A)!=q||L&&j(L.resolve())!=a||o&&j(new o)!=b||N&&j(new N)!=k)&&(j=function(B){var W=(0,c.A)(B),nt=W=="[object Object]"?B.constructor:void 0,tt=nt?(0,x.A)(nt):"";if(tt)switch(tt){case P:return R;case Q:return q;case et:return a;case H:return b;case f:return k}return W});var F=j},1683:function(K,T,n){"use strict";n.d(T,{A:function(){return o}});var h=n(659),v=Object.create,E=(function(){function N(){}return function(c){if(!(0,h.A)(c))return{};if(v)return v(c);N.prototype=c;var x=new N;return N.prototype=void 0,x}})(),y=n(8769),L=n(501),o=function(N){return typeof N.constructor!="function"||(0,L.A)(N)?{}:E((0,y.A)(N))}},3767:function(K,T){"use strict";var n=/^(?:0|[1-9]\d*)$/;T.A=function(h,v){var E=typeof h;return!!(v=v??9007199254740991)&&(E=="number"||E!="symbol"&&n.test(h))&&h>-1&&h%1==0&&h<v}},501:function(K,T){"use strict";var n=Object.prototype;T.A=function(h){var v=h&&h.constructor;return h===(typeof v=="function"&&v.prototype||n)}},8795:function(K,T,n){"use strict";var h=n(9646),v=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E=v&&typeof module=="object"&&module&&!module.nodeType&&module,y=E&&E.exports===v&&h.A.process,L=(function(){try{return E&&E.require&&E.require("util").types||y&&y.binding&&y.binding("util")}catch{}})();T.A=L},2217:function(K,T){"use strict";T.A=function(n,h){return function(v){return n(h(v))}}},5507:function(K,T,n){"use strict";var h=n(9646),v=typeof self=="object"&&self&&self.Object===Object&&self,E=h.A||v||Function("return this")();T.A=E},1543:function(K,T){"use strict";var n=Function.prototype.toString;T.A=function(h){if(h!=null){try{return n.call(h)}catch{}try{return h+""}catch{}}return""}},3707:function(K,T,n){"use strict";n.d(T,{A:function(){return s}});var h=n(2673),v=n(6437),E=n(9601),y=n(3169),L=n(2624),o=n(3812),N=n(4405),c=n(9844),x=n(802),q=n(8769),a=n(6935),b=Object.getOwnPropertySymbols?function(l){for(var u=[];l;)(0,x.A)(u,(0,c.A)(l)),l=(0,q.A)(l);return u}:a.A,k=n(2816),R=n(1381),P=function(l){return(0,R.A)(l,L.A,b)},Q=n(7995),et=Object.prototype.hasOwnProperty,H=n(2899),f=/\w*$/,j=n(439),F=j.A?j.A.prototype:void 0,B=F?F.valueOf:void 0,W=n(1827),nt=function(l,u,A){var w,M,$,V=l.constructor;switch(u){case"[object ArrayBuffer]":return(0,H.A)(l);case"[object Boolean]":case"[object Date]":return new V(+l);case"[object DataView]":return(function(G,rt){var it=rt?(0,H.A)(G.buffer):G.buffer;return new G.constructor(it,G.byteOffset,G.byteLength)})(l,A);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,W.A)(l,A);case"[object Map]":case"[object Set]":return new V;case"[object Number]":case"[object String]":return new V(l);case"[object RegExp]":return($=new(M=l).constructor(M.source,f.exec(M))).lastIndex=M.lastIndex,$;case"[object Symbol]":return w=l,B?Object(B.call(w)):{}}},tt=n(1683),ct=n(723),ft=n(776),X=n(7948),Z=n(5771),Y=n(8795),i=Y.A&&Y.A.isMap,t=i?(0,Z.A)(i):function(l){return(0,X.A)(l)&&(0,Q.A)(l)=="[object Map]"},e=n(659),r=Y.A&&Y.A.isSet,S=r?(0,Z.A)(r):function(l){return(0,X.A)(l)&&(0,Q.A)(l)=="[object Set]"},p="[object Arguments]",m="[object Function]",O="[object Object]",_={};_[p]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_[O]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_[m]=_["[object WeakMap]"]=!1;var g=function l(u,A,w,M,$,V){var G,rt=1&A,it=2&A,st=4&A;if(w&&(G=$?w(u,M,$,V):w(u)),G!==void 0)return G;if(!(0,e.A)(u))return u;var pt=(0,ct.A)(u);if(pt){if(G=(function(lt){var gt=lt.length,At=new lt.constructor(gt);return gt&&typeof lt[0]=="string"&&et.call(lt,"index")&&(At.index=lt.index,At.input=lt.input),At})(u),!rt)return(0,N.A)(u,G)}else{var ut=(0,Q.A)(u),dt=ut==m||ut=="[object GeneratorFunction]";if((0,ft.A)(u))return(0,o.A)(u,rt);if(ut==O||ut==p||dt&&!$){if(G=it||dt?{}:(0,tt.A)(u),!rt)return it?(function(lt,gt){return(0,E.A)(lt,b(lt),gt)})(u,(function(lt,gt){return lt&&(0,E.A)(gt,(0,L.A)(gt),lt)})(G,u)):(function(lt,gt){return(0,E.A)(lt,(0,c.A)(lt),gt)})(u,(function(lt,gt){return lt&&(0,E.A)(gt,(0,y.A)(gt),lt)})(G,u))}else{if(!_[ut])return $?u:{};G=nt(u,ut,rt)}}V||(V=new h.A);var xt=V.get(u);if(xt)return xt;V.set(u,G),S(u)?u.forEach((function(lt){G.add(l(lt,A,w,lt,u,V))})):t(u)&&u.forEach((function(lt,gt){G.set(gt,l(lt,A,w,gt,u,V))}));var Tt=st?it?P:k.A:it?L.A:y.A,_t=pt?void 0:Tt(u);return(function(lt,gt){for(var At=-1,kt=lt==null?0:lt.length;++At<kt&&gt(lt[At],At,lt)!==!1;);})(_t||u,(function(lt,gt){_t&&(lt=u[gt=lt]),(0,v.A)(G,gt,l(lt,A,w,gt,u,V))})),G},s=function(l){return g(l,5)}},8138:function(K,T){"use strict";T.A=function(n,h){return n===h||n!=n&&h!=h}},8412:function(K,T,n){"use strict";n.d(T,{A:function(){return c}});var h=n(2159),v=n(7948),E=function(x){return(0,v.A)(x)&&(0,h.A)(x)=="[object Arguments]"},y=Object.prototype,L=y.hasOwnProperty,o=y.propertyIsEnumerable,N=E((function(){return arguments})())?E:function(x){return(0,v.A)(x)&&L.call(x,"callee")&&!o.call(x,"callee")},c=N},723:function(K,T){"use strict";var n=Array.isArray;T.A=n},3628:function(K,T,n){"use strict";var h=n(7572),v=n(1628);T.A=function(E){return E!=null&&(0,v.A)(E.length)&&!(0,h.A)(E)}},776:function(K,T,n){"use strict";n.d(T,{A:function(){return L}});var h=n(5507),v=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E=v&&typeof module=="object"&&module&&!module.nodeType&&module,y=E&&E.exports===v?h.A.Buffer:void 0,L=(y?y.isBuffer:void 0)||function(){return!1}},5123:function(K,T,n){"use strict";n.d(T,{A:function(){return ft}});var h=n(2673),v=n(3558);function E(X){var Z=-1,Y=X==null?0:X.length;for(this.__data__=new v.A;++Z<Y;)this.add(X[Z])}E.prototype.add=E.prototype.push=function(X){return this.__data__.set(X,"__lodash_hash_undefined__"),this},E.prototype.has=function(X){return this.__data__.has(X)};var y=E,L=function(X,Z){for(var Y=-1,i=X==null?0:X.length;++Y<i;)if(Z(X[Y],Y,X))return!0;return!1},o=function(X,Z,Y,i,t,e){var r=1&Y,S=X.length,p=Z.length;if(S!=p&&!(r&&p>S))return!1;var m=e.get(X),O=e.get(Z);if(m&&O)return m==Z&&O==X;var _=-1,g=!0,s=2&Y?new y:void 0;for(e.set(X,Z),e.set(Z,X);++_<S;){var l=X[_],u=Z[_];if(i)var A=r?i(u,l,_,Z,X,e):i(l,u,_,X,Z,e);if(A!==void 0){if(A)continue;g=!1;break}if(s){if(!L(Z,(function(w,M){if($=M,!s.has($)&&(l===w||t(l,w,Y,i,e)))return s.push(M);var $}))){g=!1;break}}else if(l!==u&&!t(l,u,Y,i,e)){g=!1;break}}return e.delete(X),e.delete(Z),g},N=n(439),c=n(7218),x=n(8138),q=function(X){var Z=-1,Y=Array(X.size);return X.forEach((function(i,t){Y[++Z]=[t,i]})),Y},a=function(X){var Z=-1,Y=Array(X.size);return X.forEach((function(i){Y[++Z]=i})),Y},b=N.A?N.A.prototype:void 0,k=b?b.valueOf:void 0,R=n(2816),P=Object.prototype.hasOwnProperty,Q=n(7995),et=n(723),H=n(776),f=n(5755),j="[object Arguments]",F="[object Array]",B="[object Object]",W=Object.prototype.hasOwnProperty,nt=function(X,Z,Y,i,t,e){var r=(0,et.A)(X),S=(0,et.A)(Z),p=r?F:(0,Q.A)(X),m=S?F:(0,Q.A)(Z),O=(p=p==j?B:p)==B,_=(m=m==j?B:m)==B,g=p==m;if(g&&(0,H.A)(X)){if(!(0,H.A)(Z))return!1;r=!0,O=!1}if(g&&!O)return e||(e=new h.A),r||(0,f.A)(X)?o(X,Z,Y,i,t,e):(function(w,M,$,V,G,rt,it){switch($){case"[object DataView]":if(w.byteLength!=M.byteLength||w.byteOffset!=M.byteOffset)return!1;w=w.buffer,M=M.buffer;case"[object ArrayBuffer]":return!(w.byteLength!=M.byteLength||!rt(new c.A(w),new c.A(M)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,x.A)(+w,+M);case"[object Error]":return w.name==M.name&&w.message==M.message;case"[object RegExp]":case"[object String]":return w==M+"";case"[object Map]":var st=q;case"[object Set]":var pt=1&V;if(st||(st=a),w.size!=M.size&&!pt)return!1;var ut=it.get(w);if(ut)return ut==M;V|=2,it.set(w,M);var dt=o(st(w),st(M),V,G,rt,it);return it.delete(w),dt;case"[object Symbol]":if(k)return k.call(w)==k.call(M)}return!1})(X,Z,p,Y,i,t,e);if(!(1&Y)){var s=O&&W.call(X,"__wrapped__"),l=_&&W.call(Z,"__wrapped__");if(s||l){var u=s?X.value():X,A=l?Z.value():Z;return e||(e=new h.A),t(u,A,Y,i,e)}}return!!g&&(e||(e=new h.A),(function(w,M,$,V,G,rt){var it=1&$,st=(0,R.A)(w),pt=st.length;if(pt!=(0,R.A)(M).length&&!it)return!1;for(var ut=pt;ut--;){var dt=st[ut];if(!(it?dt in M:P.call(M,dt)))return!1}var xt=rt.get(w),Tt=rt.get(M);if(xt&&Tt)return xt==M&&Tt==w;var _t=!0;rt.set(w,M),rt.set(M,w);for(var lt=it;++ut<pt;){var gt=w[dt=st[ut]],At=M[dt];if(V)var kt=it?V(At,gt,dt,M,w,rt):V(gt,At,dt,w,M,rt);if(!(kt===void 0?gt===At||G(gt,At,$,V,rt):kt)){_t=!1;break}lt||(lt=dt=="constructor")}if(_t&&!lt){var Nt=w.constructor,qt=M.constructor;Nt==qt||!("constructor"in w)||!("constructor"in M)||typeof Nt=="function"&&Nt instanceof Nt&&typeof qt=="function"&&qt instanceof qt||(_t=!1)}return rt.delete(w),rt.delete(M),_t})(X,Z,Y,i,t,e))},tt=n(7948),ct=function X(Z,Y,i,t,e){return Z===Y||(Z==null||Y==null||!(0,tt.A)(Z)&&!(0,tt.A)(Y)?Z!=Z&&Y!=Y:nt(Z,Y,i,t,X,e))},ft=function(X,Z){return ct(X,Z)}},7572:function(K,T,n){"use strict";var h=n(2159),v=n(659);T.A=function(E){if(!(0,v.A)(E))return!1;var y=(0,h.A)(E);return y=="[object Function]"||y=="[object GeneratorFunction]"||y=="[object AsyncFunction]"||y=="[object Proxy]"}},1628:function(K,T){"use strict";T.A=function(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=9007199254740991}},659:function(K,T){"use strict";T.A=function(n){var h=typeof n;return n!=null&&(h=="object"||h=="function")}},7948:function(K,T){"use strict";T.A=function(n){return n!=null&&typeof n=="object"}},5755:function(K,T,n){"use strict";n.d(T,{A:function(){return c}});var h=n(2159),v=n(1628),E=n(7948),y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;var L=n(5771),o=n(8795),N=o.A&&o.A.isTypedArray,c=N?(0,L.A)(N):function(x){return(0,E.A)(x)&&(0,v.A)(x.length)&&!!y[(0,h.A)(x)]}},3169:function(K,T,n){"use strict";n.d(T,{A:function(){return o}});var h=n(6753),v=n(501),E=(0,n(2217).A)(Object.keys,Object),y=Object.prototype.hasOwnProperty,L=n(3628),o=function(N){return(0,L.A)(N)?(0,h.A)(N):(function(c){if(!(0,v.A)(c))return E(c);var x=[];for(var q in Object(c))y.call(c,q)&&q!="constructor"&&x.push(q);return x})(N)}},2624:function(K,T,n){"use strict";n.d(T,{A:function(){return N}});var h=n(6753),v=n(659),E=n(501),y=Object.prototype.hasOwnProperty,L=function(c){if(!(0,v.A)(c))return(function(b){var k=[];if(b!=null)for(var R in Object(b))k.push(R);return k})(c);var x=(0,E.A)(c),q=[];for(var a in c)(a!="constructor"||!x&&y.call(c,a))&&q.push(a);return q},o=n(3628),N=function(c){return(0,o.A)(c)?(0,h.A)(c,!0):L(c)}},8347:function(K,T,n){"use strict";n.d(T,{A:function(){return l}});var h,v,E,y,L=n(2673),o=n(6770),N=n(8138),c=function(u,A,w){(w!==void 0&&!(0,N.A)(u[A],w)||w===void 0&&!(A in u))&&(0,o.A)(u,A,w)},x=function(u,A,w){for(var M=-1,$=Object(u),V=w(u),G=V.length;G--;){var rt=V[++M];if(A($[rt],rt,$)===!1)break}return u},q=n(3812),a=n(1827),b=n(4405),k=n(1683),R=n(8412),P=n(723),Q=n(3628),et=n(7948),H=n(776),f=n(7572),j=n(659),F=n(2159),B=n(8769),W=Function.prototype,nt=Object.prototype,tt=W.toString,ct=nt.hasOwnProperty,ft=tt.call(Object),X=n(5755),Z=function(u,A){if((A!=="constructor"||typeof u[A]!="function")&&A!="__proto__")return u[A]},Y=n(9601),i=n(2624),t=function(u,A,w,M,$,V,G){var rt,it=Z(u,w),st=Z(A,w),pt=G.get(st);if(pt)c(u,w,pt);else{var ut=V?V(it,st,w+"",u,A,G):void 0,dt=ut===void 0;if(dt){var xt=(0,P.A)(st),Tt=!xt&&(0,H.A)(st),_t=!xt&&!Tt&&(0,X.A)(st);ut=st,xt||Tt||_t?(0,P.A)(it)?ut=it:(rt=it,(0,et.A)(rt)&&(0,Q.A)(rt)?ut=(0,b.A)(it):Tt?(dt=!1,ut=(0,q.A)(st,!0)):_t?(dt=!1,ut=(0,a.A)(st,!0)):ut=[]):(function(lt){if(!(0,et.A)(lt)||(0,F.A)(lt)!="[object Object]")return!1;var gt=(0,B.A)(lt);if(gt===null)return!0;var At=ct.call(gt,"constructor")&&gt.constructor;return typeof At=="function"&&At instanceof At&&tt.call(At)==ft})(st)||(0,R.A)(st)?(ut=it,(0,R.A)(it)?ut=(function(lt){return(0,Y.A)(lt,(0,i.A)(lt))})(it):(0,j.A)(it)&&!(0,f.A)(it)||(ut=(0,k.A)(st))):dt=!1}dt&&(G.set(st,ut),$(ut,st,M,V,G),G.delete(st)),c(u,w,ut)}},e=function u(A,w,M,$,V){A!==w&&x(w,(function(G,rt){if(V||(V=new L.A),(0,j.A)(G))t(A,w,rt,M,u,$,V);else{var it=$?$(Z(A,rt),G,rt+"",A,w,V):void 0;it===void 0&&(it=G),c(A,rt,it)}}),i.A)},r=function(u){return u},S=Math.max,p=n(7889),m=p.A?function(u,A){return(0,p.A)(u,"toString",{configurable:!0,enumerable:!1,value:(w=A,function(){return w}),writable:!0});var w}:r,O=Date.now,_=(h=m,v=0,E=0,function(){var u=O(),A=16-(u-E);if(E=u,A>0){if(++v>=800)return arguments[0]}else v=0;return h.apply(void 0,arguments)}),g=function(u,A){return _((function(w,M,$){return M=S(M===void 0?w.length-1:M,0),function(){for(var V=arguments,G=-1,rt=S(V.length-M,0),it=Array(rt);++G<rt;)it[G]=V[M+G];G=-1;for(var st=Array(M+1);++G<M;)st[G]=V[G];return st[M]=$(it),(function(pt,ut,dt){switch(dt.length){case 0:return pt.call(ut);case 1:return pt.call(ut,dt[0]);case 2:return pt.call(ut,dt[0],dt[1]);case 3:return pt.call(ut,dt[0],dt[1],dt[2])}return pt.apply(ut,dt)})(w,this,st)}})(u,A,r),u+"")},s=n(3767),l=(y=function(u,A,w){e(u,A,w)},g((function(u,A){var w=-1,M=A.length,$=M>1?A[M-1]:void 0,V=M>2?A[2]:void 0;for($=y.length>3&&typeof $=="function"?(M--,$):void 0,V&&(function(rt,it,st){if(!(0,j.A)(st))return!1;var pt=typeof it;return!!(pt=="number"?(0,Q.A)(st)&&(0,s.A)(it,st.length):pt=="string"&&it in st)&&(0,N.A)(st[it],rt)})(A[0],A[1],V)&&($=M<3?void 0:$,M=1),u=Object(u);++w<M;){var G=A[w];G&&y(u,G,w)}return u})))},6935:function(K,T){"use strict";T.A=function(){return[]}},6003:function(K,T,n){"use strict";n.r(T),n.d(T,{Attributor:function(){return v},AttributorStore:function(){return q},BlockBlot:function(){return B},ClassAttributor:function(){return N},ContainerBlot:function(){return nt},EmbedBlot:function(){return tt},InlineBlot:function(){return j},LeafBlot:function(){return R},ParentBlot:function(){return H},Registry:function(){return L},Scope:function(){return h},ScrollBlot:function(){return X},StyleAttributor:function(){return x},TextBlot:function(){return Y}});var h=(i=>(i[i.TYPE=3]="TYPE",i[i.LEVEL=12]="LEVEL",i[i.ATTRIBUTE=13]="ATTRIBUTE",i[i.BLOT=14]="BLOT",i[i.INLINE=7]="INLINE",i[i.BLOCK=11]="BLOCK",i[i.BLOCK_BLOT=10]="BLOCK_BLOT",i[i.INLINE_BLOT=6]="INLINE_BLOT",i[i.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",i[i.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",i[i.ANY=15]="ANY",i))(h||{});class v{constructor(t,e,r={}){this.attrName=t,this.keyName=e;const S=h.TYPE&h.ATTRIBUTE;this.scope=r.scope!=null?r.scope&h.LEVEL|S:h.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map((e=>e.name))}add(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}canAdd(t,e){return this.whitelist==null||(typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class E extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}const y=class Ve{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,e)}return null}create(t,e,r){const S=this.query(e);if(S==null)throw new E(`Unable to create ${e} blot`);const p=S,m=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:p.create(r),O=new p(t,m,r);return Ve.blots.set(O.domNode,O),O}find(t,e=!1){return Ve.find(t,e)}query(t,e=h.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&h.LEVEL&h.BLOCK?r=this.types.block:t&h.LEVEL&h.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((S=>(r=this.classes[S],!!r))),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&e&h.LEVEL&r.scope&&e&h.TYPE&r.scope?r:null}register(...t){return t.map((e=>{const r="blotName"in e,S="attrName"in e;if(!r&&!S)throw new E("Invalid definition");if(r&&e.blotName==="abstract")throw new E("Cannot register abstract class");const p=r?e.blotName:S?e.attrName:void 0;return this.types[p]=e,S?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):r&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map((m=>m.toUpperCase())):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach((m=>{(this.tags[m]==null||e.className==null)&&(this.tags[m]=e)})))),e}))}};y.blots=new WeakMap;let L=y;function o(i,t){return(i.getAttribute("class")||"").split(/\s+/).filter((e=>e.indexOf(`${t}-`)===0))}const N=class extends v{static keys(i){return(i.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(i,t){return!!this.canAdd(i,t)&&(this.remove(i),i.classList.add(`${this.keyName}-${t}`),!0)}remove(i){o(i,this.keyName).forEach((t=>{i.classList.remove(t)})),i.classList.length===0&&i.removeAttribute("class")}value(i){const t=(o(i,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(i,t)?t:""}};function c(i){const t=i.split("-"),e=t.slice(1).map((r=>r[0].toUpperCase()+r.slice(1))).join("");return t[0]+e}const x=class extends v{static keys(i){return(i.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(i,t){return!!this.canAdd(i,t)&&(i.style[c(this.keyName)]=t,!0)}remove(i){i.style[c(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")}value(i){const t=i.style[c(this.keyName)];return this.canAdd(i,t)?t:""}},q=class{constructor(i){this.attributes={},this.domNode=i,this.build()}attribute(i,t){t?i.add(this.domNode,t)&&(i.value(this.domNode)!=null?this.attributes[i.attrName]=i:delete this.attributes[i.attrName]):(i.remove(this.domNode),delete this.attributes[i.attrName])}build(){this.attributes={};const i=L.find(this.domNode);if(i==null)return;const t=v.keys(this.domNode),e=N.keys(this.domNode),r=x.keys(this.domNode);t.concat(e).concat(r).forEach((S=>{const p=i.scroll.query(S,h.ATTRIBUTE);p instanceof v&&(this.attributes[p.attrName]=p)}))}copy(i){Object.keys(this.attributes).forEach((t=>{const e=this.attributes[t].value(this.domNode);i.format(t,e)}))}move(i){this.copy(i),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((i,t)=>(i[t]=this.attributes[t].value(this.domNode),i)),{})}},a=class{constructor(i,t){this.scroll=i,this.domNode=t,L.blots.set(t,this),this.prev=null,this.next=null}static create(i){if(this.tagName==null)throw new E("Blot definition missing tagName");let t,e;return Array.isArray(this.tagName)?(typeof i=="string"?(e=i.toUpperCase(),parseInt(e,10).toString()===e&&(e=parseInt(e,10))):typeof i=="number"&&(e=i),t=typeof e=="number"?document.createElement(this.tagName[e-1]):e&&this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const i=this.domNode.cloneNode(!1);return this.scroll.create(i)}detach(){this.parent!=null&&this.parent.removeChild(this),L.blots.delete(this.domNode)}deleteAt(i,t){this.isolate(i,t).remove()}formatAt(i,t,e,r){const S=this.isolate(i,t);if(this.scroll.query(e,h.BLOT)!=null&&r)S.wrap(e,r);else if(this.scroll.query(e,h.ATTRIBUTE)!=null){const p=this.scroll.create(this.statics.scope);S.wrap(p),p.format(e,r)}}insertAt(i,t,e){const r=e==null?this.scroll.create("text",t):this.scroll.create(t,e),S=this.split(i);this.parent.insertBefore(r,S||void 0)}isolate(i,t){const e=this.split(i);if(e==null)throw new Error("Attempt to isolate at end");return e.split(t),e}length(){return 1}offset(i=this.parent){return this.parent==null||this===i?0:this.parent.children.offset(this)+this.parent.offset(i)}optimize(i){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(i,t){const e=typeof i=="string"?this.scroll.create(i,t):i;return this.parent!=null&&(this.parent.insertBefore(e,this.next||void 0),this.remove()),e}split(i,t){return i===0?this:this.next}update(i,t){}wrap(i,t){const e=typeof i=="string"?this.scroll.create(i,t):i;if(this.parent!=null&&this.parent.insertBefore(e,this.next||void 0),typeof e.appendChild!="function")throw new E(`Cannot wrap ${i}`);return e.appendChild(this),e}};a.blotName="abstract";let b=a;const k=class extends b{static value(i){return!0}index(i,t){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(i,t){let e=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return i>0&&(e+=1),[this.parent.domNode,e]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};k.scope=h.INLINE_BLOT;const R=k;class P{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){const e=this.iterator();let r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){const e=this.iterator();let r=e(),S=0;for(;r;){if(r===t)return S;S+=1,r=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;r!=null;){if(r===t)return e;e+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const r=this.iterator();let S=r();for(;S;){const p=S.length();if(t<p||e&&t===p&&(S.next==null||S.next.length()!==0))return[S,t];t-=p,S=r()}return[null,0]}forEach(t){const e=this.iterator();let r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;const[S,p]=this.find(t);let m=t-p;const O=this.iterator(S);let _=O();for(;_&&m<t+e;){const g=_.length();t>m?r(_,t-m,Math.min(e,m+g-t)):r(_,0,Math.min(g,t+e-m)),m+=g,_=O()}}map(t){return this.reduce(((e,r)=>(e.push(t(r)),e)),[])}reduce(t,e){const r=this.iterator();let S=r();for(;S;)e=t(e,S),S=r();return e}}function Q(i,t){const e=t.find(i);if(e)return e;try{return t.create(i)}catch{const r=t.create(h.INLINE);return Array.from(i.childNodes).forEach((S=>{r.domNode.appendChild(S)})),i.parentNode&&i.parentNode.replaceChild(r.domNode,i),r.attach(),r}}const et=class Re extends b{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Re.uiClass&&this.uiNode.classList.add(Re.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new P,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const e=Q(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof E)return;throw e}}))}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,((r,S,p)=>{r.deleteAt(S,p)}))}descendant(t,e=0){const[r,S]=this.children.find(e);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,S]:r instanceof Re?r.descendant(t,S):[null,-1]}descendants(t,e=0,r=Number.MAX_VALUE){let S=[],p=r;return this.children.forEachAt(e,r,((m,O,_)=>{(t.blotName==null&&t(m)||t.blotName!=null&&m instanceof t)&&S.push(m),m instanceof Re&&(S=S.concat(m.descendants(t,O,p))),p-=_})),S}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach((e=>{t||this.statics.allowedChildren.some((r=>e instanceof r))||(e.statics.scope===h.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Re?e.unwrap():e.remove())}))}formatAt(t,e,r,S){this.children.forEachAt(t,e,((p,m,O)=>{p.formatAt(m,O,r,S)}))}insertAt(t,e,r){const[S,p]=this.children.find(t);if(S)S.insertAt(p,e,r);else{const m=r==null?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(m)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce(((t,e)=>t+e.length()),0)}moveChildren(t,e){this.children.forEach((r=>{t.insertBefore(r,e)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[r,S]=this.children.find(t,e),p=[[this,t]];return r instanceof Re?p.concat(r.path(S,e)):(r!=null&&p.push([r,S]),p)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return r instanceof Re&&this.moveChildren(r),super.replaceWith(r)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),((S,p,m)=>{const O=S.split(p,e);O!=null&&r.appendChild(O)})),r}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const r=[],S=[];t.forEach((p=>{p.target===this.domNode&&p.type==="childList"&&(r.push(...p.addedNodes),S.push(...p.removedNodes))})),S.forEach((p=>{if(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const m=this.scroll.find(p);m!=null&&(m.domNode.parentNode==null||m.domNode.parentNode===this.domNode)&&m.detach()})),r.filter((p=>p.parentNode===this.domNode&&p!==this.uiNode)).sort(((p,m)=>p===m?0:p.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((p=>{let m=null;p.nextSibling!=null&&(m=this.scroll.find(p.nextSibling));const O=Q(p,this.scroll);(O.next!==m||O.next==null)&&(O.parent!=null&&O.parent.removeChild(this),this.insertBefore(O,m||void 0))})),this.enforceAllowedChildren()}};et.uiClass="";const H=et,f=class Pe extends H{static create(t){return super.create(t)}static formats(t,e){const r=e.query(Pe.blotName);if(r==null||t.tagName!==r.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new q(this.domNode)}format(t,e){if(t!==this.statics.blotName||e){const r=this.scroll.query(t,h.INLINE);if(r==null)return;r instanceof v?this.attributes.attribute(r,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}else this.children.forEach((r=>{r instanceof Pe||(r=r.wrap(Pe.blotName,!0)),this.attributes.copy(r)})),this.unwrap()}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,S){this.formats()[r]!=null||this.scroll.query(r,h.ATTRIBUTE)?this.isolate(t,e).format(r,S):super.formatAt(t,e,r,S)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const r=this.next;r instanceof Pe&&r.prev===this&&(function(S,p){if(Object.keys(S).length!==Object.keys(p).length)return!1;for(const m in S)if(S[m]!==p[m])return!1;return!0})(e,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some((r=>r.target===this.domNode&&r.type==="attributes"))&&this.attributes.build()}wrap(t,e){const r=super.wrap(t,e);return r instanceof Pe&&this.attributes.move(r),r}};f.allowedChildren=[f,R],f.blotName="inline",f.scope=h.INLINE_BLOT,f.tagName="SPAN";const j=f,F=class Ke extends H{static create(t){return super.create(t)}static formats(t,e){const r=e.query(Ke.blotName);if(r==null||t.tagName!==r.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new q(this.domNode)}format(t,e){const r=this.scroll.query(t,h.BLOCK);r!=null&&(r instanceof v?this.attributes.attribute(r,e):t!==this.statics.blotName||e?e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e):this.replaceWith(Ke.blotName))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,S){this.scroll.query(r,h.BLOCK)!=null?this.format(r,S):super.formatAt(t,e,r,S)}insertAt(t,e,r){if(r==null||this.scroll.query(e,h.INLINE)!=null)super.insertAt(t,e,r);else{const S=this.split(t);if(S==null)throw new Error("Attempt to insertAt after block boundaries");{const p=this.scroll.create(e,r);S.parent.insertBefore(p,S)}}}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some((r=>r.target===this.domNode&&r.type==="attributes"))&&this.attributes.build()}};F.blotName="block",F.scope=h.BLOCK_BLOT,F.tagName="P",F.allowedChildren=[j,F,R];const B=F,W=class extends H{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(i,t){super.deleteAt(i,t),this.enforceAllowedChildren()}formatAt(i,t,e,r){super.formatAt(i,t,e,r),this.enforceAllowedChildren()}insertAt(i,t,e){super.insertAt(i,t,e),this.enforceAllowedChildren()}optimize(i){super.optimize(i),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};W.blotName="container",W.scope=h.BLOCK_BLOT;const nt=W,tt=class extends R{static formats(i,t){}format(i,t){super.formatAt(0,this.length(),i,t)}formatAt(i,t,e,r){i===0&&t===this.length()?this.format(e,r):super.formatAt(i,t,e,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}},ct={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ft=class extends H{constructor(i,t){super(null,t),this.registry=i,this.scroll=this,this.build(),this.observer=new MutationObserver((e=>{this.update(e)})),this.observer.observe(this.domNode,ct),this.attach()}create(i,t){return this.registry.create(this,i,t)}find(i,t=!1){const e=this.registry.find(i,t);return e?e.scroll===this?e:t?this.find(e.scroll.domNode.parentNode,!0):null:null}query(i,t=h.ANY){return this.registry.query(i,t)}register(...i){return this.registry.register(...i)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(i,t){this.update(),i===0&&t===this.length()?this.children.forEach((e=>{e.remove()})):super.deleteAt(i,t)}formatAt(i,t,e,r){this.update(),super.formatAt(i,t,e,r)}insertAt(i,t,e){this.update(),super.insertAt(i,t,e)}optimize(i=[],t={}){super.optimize(t);const e=t.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)i.push(r.pop());const S=(O,_=!0)=>{O==null||O===this||O.domNode.parentNode!=null&&(e.has(O.domNode)||e.set(O.domNode,[]),_&&S(O.parent))},p=O=>{e.has(O.domNode)&&(O instanceof H&&O.children.forEach(p),e.delete(O.domNode),O.optimize(t))};let m=i;for(let O=0;m.length>0;O+=1){if(O>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(m.forEach((_=>{const g=this.find(_.target,!0);g!=null&&(g.domNode===_.target&&(_.type==="childList"?(S(this.find(_.previousSibling,!1)),Array.from(_.addedNodes).forEach((s=>{const l=this.find(s,!1);S(l,!1),l instanceof H&&l.children.forEach((u=>{S(u,!1)}))}))):_.type==="attributes"&&S(g.prev)),S(g))})),this.children.forEach(p),m=Array.from(this.observer.takeRecords()),r=m.slice();r.length>0;)i.push(r.pop())}}update(i,t={}){i=i||this.observer.takeRecords();const e=new WeakMap;i.map((r=>{const S=this.find(r.target,!0);return S==null?null:e.has(S.domNode)?(e.get(S.domNode).push(r),null):(e.set(S.domNode,[r]),S)})).forEach((r=>{r!=null&&r!==this&&e.has(r.domNode)&&r.update(e.get(r.domNode)||[],t)})),t.mutationsMap=e,e.has(this.domNode)&&super.update(e.get(this.domNode),t),this.optimize(i,t)}};ft.blotName="scroll",ft.defaultChild=B,ft.allowedChildren=[B,nt],ft.scope=h.BLOCK_BLOT,ft.tagName="DIV";const X=ft,Z=class Ze extends R{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){r==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Ze&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some((r=>r.type==="characterData"&&r.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Z.blotName="text",Z.scope=h.INLINE_BLOT;const Y=Z}},me={};function jt(K){var T=me[K];if(T!==void 0)return T.exports;var n=me[K]={id:K,loaded:!1,exports:{}};return Ie[K](n,n.exports,jt),n.loaded=!0,n.exports}jt.n=function(K){var T=K&&K.__esModule?function(){return K.default}:function(){return K};return jt.d(T,{a:T}),T},jt.d=function(K,T){for(var n in T)jt.o(T,n)&&!jt.o(K,n)&&Object.defineProperty(K,n,{enumerable:!0,get:T[n]})},jt.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),jt.o=function(K,T){return Object.prototype.hasOwnProperty.call(K,T)},jt.r=function(K){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})},jt.nmd=function(K){return K.paths=[],K.children||(K.children=[]),K};var Fe={};return(function(){"use strict";jt.d(Fe,{default:function(){return Z}});var K=jt(6142),T=jt(9698),n=jt(3036),h=jt(580),v=jt(4541),E=jt(746),y=jt(4850),L=jt(6003),o=jt(5232),N=jt.n(o),c=jt(5374);function x(Y){return Y instanceof T.Ay||Y instanceof T.zo}function q(Y){return typeof Y.updateContent=="function"}class a extends L.ScrollBlot{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=T.Ay;static allowedChildren=[T.Ay,T.zo,h.A];constructor(i,t,e){let{emitter:r}=e;super(i,t),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(S=>this.handleDragStart(S)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const i=this.batch;this.batch=!1,this.update(i)}emitMount(i){this.emitter.emit(c.A.events.SCROLL_BLOT_MOUNT,i)}emitUnmount(i){this.emitter.emit(c.A.events.SCROLL_BLOT_UNMOUNT,i)}emitEmbedUpdate(i,t){this.emitter.emit(c.A.events.SCROLL_EMBED_UPDATE,i,t)}deleteAt(i,t){const[e,r]=this.line(i),[S]=this.line(i+t);if(super.deleteAt(i,t),S!=null&&e!==S&&r>0){if(e instanceof T.zo||S instanceof T.zo)return void this.optimize();const p=S.children.head instanceof n.A?null:S.children.head;e.moveChildren(S,p),e.remove()}this.optimize()}enable(){let i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",i?"true":"false")}formatAt(i,t,e,r){super.formatAt(i,t,e,r),this.optimize()}insertAt(i,t,e){if(i>=this.length())if(e==null||this.scroll.query(t,L.Scope.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),e==null&&t.endsWith(`
`)?r.insertAt(0,t.slice(0,-1),e):r.insertAt(0,t,e)}else{const r=this.scroll.create(t,e);this.appendChild(r)}else super.insertAt(i,t,e);this.optimize()}insertBefore(i,t){if(i.statics.scope===L.Scope.INLINE_BLOT){const e=this.scroll.create(this.statics.defaultChild.blotName);e.appendChild(i),super.insertBefore(e,t)}else super.insertBefore(i,t)}insertContents(i,t){const e=this.deltaToRenderBlocks(t.concat(new(N())().insert(`
`))),r=e.pop();if(r==null)return;this.batchStart();const S=e.shift();if(S){const O=S.type==="block"&&(S.delta.length()===0||!this.descendant(T.zo,i)[0]&&i<this.length()),_=S.type==="block"?S.delta:new(N())().insert({[S.key]:S.value});b(this,i,_);const g=S.type==="block"?1:0,s=i+_.length()+g;O&&this.insertAt(s-1,`
`);const l=(0,T.Ji)(this.line(i)[0]),u=o.AttributeMap.diff(l,S.attributes)||{};Object.keys(u).forEach((A=>{this.formatAt(s-1,1,A,u[A])})),i=s}let[p,m]=this.children.find(i);e.length&&(p&&(p=p.split(m),m=0),e.forEach((O=>{if(O.type==="block")b(this.createBlock(O.attributes,p||void 0),0,O.delta);else{const _=this.create(O.key,O.value);this.insertBefore(_,p||void 0),Object.keys(O.attributes).forEach((g=>{_.format(g,O.attributes[g])}))}}))),r.type==="block"&&r.delta.length()&&b(this,p?p.offset(p.scroll)+m:this.length(),r.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(i){const t=this.path(i).pop();if(!t)return[null,-1];const[e,r]=t;return e instanceof L.LeafBlot?[e,r]:[null,-1]}line(i){return i===this.length()?this.line(i-1):this.descendant(x,i)}lines(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const e=(r,S,p)=>{let m=[],O=p;return r.children.forEachAt(S,p,((_,g,s)=>{x(_)?m.push(_):_ instanceof L.ContainerBlot&&(m=m.concat(e(_,g,O))),O-=s})),m};return e(this,i,t)}optimize(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(i,t),i.length>0&&this.emitter.emit(c.A.events.SCROLL_OPTIMIZE,i,t))}path(i){return super.path(i).slice(1)}remove(){}update(i){if(this.batch)return void(Array.isArray(i)&&(this.batch=this.batch.concat(i)));let t=c.A.sources.USER;typeof i=="string"&&(t=i),Array.isArray(i)||(i=this.observer.takeRecords()),(i=i.filter((e=>{let{target:r}=e;const S=this.find(r,!0);return S&&!q(S)}))).length>0&&this.emitter.emit(c.A.events.SCROLL_BEFORE_UPDATE,t,i),super.update(i.concat([])),i.length>0&&this.emitter.emit(c.A.events.SCROLL_UPDATE,t,i)}updateEmbedAt(i,t,e){const[r]=this.descendant((S=>S instanceof T.zo),i);r&&r.statics.blotName===t&&q(r)&&r.updateContent(e)}handleDragStart(i){i.preventDefault()}deltaToRenderBlocks(i){const t=[];let e=new(N());return i.forEach((r=>{const S=r?.insert;if(S)if(typeof S=="string"){const p=S.split(`
`);p.slice(0,-1).forEach((O=>{e.insert(O,r.attributes),t.push({type:"block",delta:e,attributes:r.attributes??{}}),e=new(N())}));const m=p[p.length-1];m&&e.insert(m,r.attributes)}else{const p=Object.keys(S)[0];if(!p)return;this.query(p,L.Scope.INLINE)?e.push(r):(e.length()&&t.push({type:"block",delta:e,attributes:{}}),e=new(N()),t.push({type:"blockEmbed",key:p,value:S[p],attributes:r.attributes??{}}))}})),e.length()&&t.push({type:"block",delta:e,attributes:{}}),t}createBlock(i,t){let e;const r={};Object.entries(i).forEach((m=>{let[O,_]=m;this.query(O,L.Scope.BLOCK&L.Scope.BLOT)!=null?e=O:r[O]=_}));const S=this.create(e||this.statics.defaultChild.blotName,e?i[e]:void 0);this.insertBefore(S,t||void 0);const p=S.length();return Object.entries(r).forEach((m=>{let[O,_]=m;S.formatAt(0,p,O,_)})),S}}function b(Y,i,t){t.reduce(((e,r)=>{const S=o.Op.length(r);let p=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const m=r.insert;Y.insertAt(e,m);const[O]=Y.descendant(L.LeafBlot,e),_=(0,T.Ji)(O);p=o.AttributeMap.diff(_,p)||{}}else if(typeof r.insert=="object"){const m=Object.keys(r.insert)[0];if(m==null)return e;if(Y.insertAt(e,m,r.insert[m]),Y.scroll.query(m,L.Scope.INLINE)!=null){const[O]=Y.descendant(L.LeafBlot,e),_=(0,T.Ji)(O);p=o.AttributeMap.diff(_,p)||{}}}}return Object.keys(p).forEach((m=>{Y.formatAt(e,S,m,p[m])})),e+S}),i)}var k=a,R=jt(5508),P=jt(584),Q=jt(4266);class et extends Q.A{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(i,t){super(i,t),this.quill.on(K.Ay.events.EDITOR_CHANGE,((e,r,S,p)=>{e===K.Ay.events.SELECTION_CHANGE?r&&p!==K.Ay.sources.SILENT&&(this.currentRange=r):e===K.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&p!==K.Ay.sources.USER?this.transform(r):this.record(r,S)),this.currentRange=f(this.currentRange,r))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(e=>{e.inputType==="historyUndo"?(this.undo(),e.preventDefault()):e.inputType==="historyRedo"&&(this.redo(),e.preventDefault())}))}change(i,t){if(this.stack[i].length===0)return;const e=this.stack[i].pop();if(!e)return;const r=this.quill.getContents(),S=e.delta.invert(r);this.stack[t].push({delta:S,range:f(e.range,S)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(e.delta,K.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(e)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(i,t){if(i.ops.length===0)return;this.stack.redo=[];let e=i.invert(t),r=this.currentRange;const S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){const p=this.stack.undo.pop();p&&(e=e.compose(p.delta),r=p.range)}else this.lastRecorded=S;e.length()!==0&&(this.stack.undo.push({delta:e,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(i){H(this.stack.undo,i),H(this.stack.redo,i)}undo(){this.change("undo","redo")}restoreSelection(i){if(i.range)this.quill.setSelection(i.range,K.Ay.sources.USER);else{const t=(function(e,r){const S=r.reduce(((m,O)=>m+(O.delete||0)),0);let p=r.length()-S;return(function(m,O){const _=O.ops[O.ops.length-1];return _!=null&&(_.insert!=null?typeof _.insert=="string"&&_.insert.endsWith(`
`):_.attributes!=null&&Object.keys(_.attributes).some((g=>m.query(g,L.Scope.BLOCK)!=null)))})(e,r)&&(p-=1),p})(this.quill.scroll,i.delta);this.quill.setSelection(t,K.Ay.sources.USER)}}}function H(Y,i){let t=i;for(let e=Y.length-1;e>=0;e-=1){const r=Y[e];Y[e]={delta:t.transform(r.delta,!0),range:r.range&&f(r.range,t)},t=r.delta.transform(t),Y[e].delta.length()===0&&Y.splice(e,1)}}function f(Y,i){if(!Y)return Y;const t=i.transformPosition(Y.index);return{index:t,length:i.transformPosition(Y.index+Y.length)-t}}var j=jt(8123);class F extends Q.A{constructor(i,t){super(i,t),i.root.addEventListener("drop",(e=>{e.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(e.clientX,e.clientY);else if(document.caretPositionFromPoint){const p=document.caretPositionFromPoint(e.clientX,e.clientY);r=document.createRange(),r.setStart(p.offsetNode,p.offset),r.setEnd(p.offsetNode,p.offset)}const S=r&&i.selection.normalizeNative(r);if(S){const p=i.selection.normalizedToRange(S);e.dataTransfer?.files&&this.upload(p,e.dataTransfer.files)}}))}upload(i,t){const e=[];Array.from(t).forEach((r=>{r&&this.options.mimetypes?.includes(r.type)&&e.push(r)})),e.length>0&&this.options.handler.call(this,i,e)}}F.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(Y,i){if(!this.quill.scroll.query("image"))return;const t=i.map((e=>new Promise((r=>{const S=new FileReader;S.onload=()=>{r(S.result)},S.readAsDataURL(e)}))));Promise.all(t).then((e=>{const r=e.reduce(((S,p)=>S.insert({image:p})),new(N())().retain(Y.index).delete(Y.length));this.quill.updateContents(r,c.A.sources.USER),this.quill.setSelection(Y.index+e.length,c.A.sources.SILENT)}))}};var B=F;const W=["insertText","insertReplacementText"];class nt extends Q.A{constructor(i,t){super(i,t),i.root.addEventListener("beforeinput",(e=>{this.handleBeforeInput(e)})),/Android/i.test(navigator.userAgent)||i.on(K.Ay.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(i){(0,j.Xo)({range:i,quill:this.quill})}replaceText(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(i.length===0)return!1;if(t){const e=this.quill.getFormat(i.index,1);this.deleteRange(i),this.quill.updateContents(new(N())().retain(i.index).insert(t,e),K.Ay.sources.USER)}else this.deleteRange(i);return this.quill.setSelection(i.index+t.length,0,K.Ay.sources.SILENT),!0}handleBeforeInput(i){if(this.quill.composition.isComposing||i.defaultPrevented||!W.includes(i.inputType))return;const t=i.getTargetRanges?i.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const e=(function(p){return typeof p.data=="string"?p.data:p.dataTransfer?.types.includes("text/plain")?p.dataTransfer.getData("text/plain"):null})(i);if(e==null)return;const r=this.quill.selection.normalizeNative(t),S=r?this.quill.selection.normalizedToRange(r):null;S&&this.replaceText(S,e)&&i.preventDefault()}handleCompositionStart(){const i=this.quill.getSelection();i&&this.replaceText(i)}}var tt=nt;const ct=/Mac/i.test(navigator.platform);class ft extends Q.A{isListening=!1;selectionChangeDeadline=0;constructor(i,t){super(i,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(i,t){let{line:e,event:r}=t;if(!(e instanceof L.ParentBlot&&e.uiNode))return!0;const S=getComputedStyle(e.domNode).direction==="rtl";return!!(S&&r.key!=="ArrowRight"||!S&&r.key!=="ArrowLeft")||(this.quill.setSelection(i.index-1,i.length+(r.shiftKey?1:0),K.Ay.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(i=>{!i.defaultPrevented&&(t=>t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||!(!ct||t.key!=="a"||t.ctrlKey!==!0))(i)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0}))}handleSelectionChange(){const i=document.getSelection();if(!i)return;const t=i.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const e=this.quill.scroll.find(t.startContainer);if(!(e instanceof L.ParentBlot&&e.uiNode))return;const r=document.createRange();r.setStartAfter(e.uiNode),r.setEndAfter(e.uiNode),i.removeAllRanges(),i.addRange(r)}}var X=ft;K.Ay.register({"blots/block":T.Ay,"blots/block/embed":T.zo,"blots/break":n.A,"blots/container":h.A,"blots/cursor":v.A,"blots/embed":E.A,"blots/inline":y.A,"blots/scroll":k,"blots/text":R.A,"modules/clipboard":P.Ay,"modules/history":et,"modules/keyboard":j.Ay,"modules/uploader":B,"modules/input":tt,"modules/uiNode":X});var Z=K.Ay})(),Fe.default})()}));/*! For license information please see quill.js.LICENSE.txt */(function(Ie,me){typeof exports=="object"&&typeof module=="object"?module.exports=me():typeof define=="function"&&define.amd?define([],me):typeof exports=="object"?exports.Quill=me():Ie.Quill=me()})(self,(function(){return(function(){var Ie={9698:function(K,T,n){"use strict";n.d(T,{Ay:function(){return N},Ji:function(){return q},mG:function(){return x},zo:function(){return c}});var h=n(6003),v=n(5232),E=n.n(v),y=n(3036),L=n(4850),o=n(5508);class N extends h.BlockBlot{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=x(this)),this.cache.delta}deleteAt(b,k){super.deleteAt(b,k),this.cache={}}formatAt(b,k,R,P){k<=0||(this.scroll.query(R,h.Scope.BLOCK)?b+k===this.length()&&this.format(R,P):super.formatAt(b,Math.min(k,this.length()-b-1),R,P),this.cache={})}insertAt(b,k,R){if(R!=null)return super.insertAt(b,k,R),void(this.cache={});if(k.length===0)return;const P=k.split(`
`),Q=P.shift();Q.length>0&&(b<this.length()-1||this.children.tail==null?super.insertAt(Math.min(b,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});let et=this;P.reduce(((H,f)=>(et=et.split(H,!0),et.insertAt(0,f),f.length)),b+Q.length)}insertBefore(b,k){const{head:R}=this.children;super.insertBefore(b,k),R instanceof y.A&&R.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(b,k){super.moveChildren(b,k),this.cache={}}optimize(b){super.optimize(b),this.cache={}}path(b){return super.path(b,!0)}removeChild(b){super.removeChild(b),this.cache={}}split(b){let k=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(k&&(b===0||b>=this.length()-1)){const P=this.clone();return b===0?(this.parent.insertBefore(P,this),this):(this.parent.insertBefore(P,this.next),P)}const R=super.split(b,k);return this.cache={},R}}N.blotName="block",N.tagName="P",N.defaultChild=y.A,N.allowedChildren=[y.A,L.A,h.EmbedBlot,o.A];class c extends h.EmbedBlot{attach(){super.attach(),this.attributes=new h.AttributorStore(this.domNode)}delta(){return new(E())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(b,k){const R=this.scroll.query(b,h.Scope.BLOCK_ATTRIBUTE);R!=null&&this.attributes.attribute(R,k)}formatAt(b,k,R,P){this.format(R,P)}insertAt(b,k,R){if(R!=null)return void super.insertAt(b,k,R);const P=k.split(`
`),Q=P.pop(),et=P.map((f=>{const j=this.scroll.create(N.blotName);return j.insertAt(0,f),j})),H=this.split(b);et.forEach((f=>{this.parent.insertBefore(f,H)})),Q&&this.parent.insertBefore(this.scroll.create("text",Q),H)}}function x(a){let b=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return a.descendants(h.LeafBlot).reduce(((k,R)=>R.length()===0?k:k.insert(R.value(),q(R,{},b))),new(E())).insert(`
`,q(a))}function q(a){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return a==null?b:("formats"in a&&typeof a.formats=="function"&&(b={...b,...a.formats()},k&&delete b["code-token"]),a.parent==null||a.parent.statics.blotName==="scroll"||a.parent.statics.scope!==a.statics.scope?b:q(a.parent,b,k))}c.scope=h.Scope.BLOCK_BLOT},3036:function(K,T,n){"use strict";var h=n(6003);class v extends h.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}v.blotName="break",v.tagName="BR",T.A=v},580:function(K,T,n){"use strict";var h=n(6003);class v extends h.ContainerBlot{}T.A=v},4541:function(K,T,n){"use strict";var h=n(6003),v=n(5508);class E extends h.EmbedBlot{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(L,o,N){super(L,o),this.selection=N,this.textNode=document.createTextNode(E.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(L,o){if(this.savedLength!==0)return void super.format(L,o);let N=this,c=0;for(;N!=null&&N.statics.scope!==h.Scope.BLOCK_BLOT;)c+=N.offset(N.parent),N=N.parent;N!=null&&(this.savedLength=E.CONTENTS.length,N.optimize(),N.formatAt(c,E.CONTENTS.length,L,o),this.savedLength=0)}index(L,o){return L===this.textNode?0:super.index(L,o)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const L=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const o=this.prev instanceof v.A?this.prev:null,N=o?o.length():0,c=this.next instanceof v.A?this.next:null,x=c?c.text:"",{textNode:q}=this,a=q.data.split(E.CONTENTS).join("");let b;if(q.data=E.CONTENTS,o)b=o,(a||c)&&(o.insertAt(o.length(),a+x),c&&c.remove());else if(c)b=c,c.insertAt(0,a);else{const k=document.createTextNode(a);b=this.scroll.create(k),this.parent.insertBefore(b,this)}if(this.remove(),L){const k=(Q,et)=>o&&Q===o.domNode?et:Q===q?N+et-1:c&&Q===c.domNode?N+a.length+et:null,R=k(L.start.node,L.start.offset),P=k(L.end.node,L.end.offset);if(R!==null&&P!==null)return{startNode:b.domNode,startOffset:R,endNode:b.domNode,endOffset:P}}return null}update(L,o){if(L.some((N=>N.type==="characterData"&&N.target===this.textNode))){const N=this.restore();N&&(o.range=N)}}optimize(L){super.optimize(L);let{parent:o}=this;for(;o;){if(o.domNode.tagName==="A"){this.savedLength=E.CONTENTS.length,o.isolate(this.offset(o),this.length()).unwrap(),this.savedLength=0;break}o=o.parent}}value(){return""}}T.A=E},746:function(K,T,n){"use strict";var h=n(6003),v=n(5508);const E="\uFEFF";class y extends h.EmbedBlot{constructor(o,N){super(o,N),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((c=>{this.contentNode.appendChild(c)})),this.leftGuard=document.createTextNode(E),this.rightGuard=document.createTextNode(E),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(o,N){return o===this.leftGuard?0:o===this.rightGuard?1:super.index(o,N)}restore(o){let N,c=null;const x=o.data.split(E).join("");if(o===this.leftGuard)if(this.prev instanceof v.A){const q=this.prev.length();this.prev.insertAt(q,x),c={startNode:this.prev.domNode,startOffset:q+x.length}}else N=document.createTextNode(x),this.parent.insertBefore(this.scroll.create(N),this),c={startNode:N,startOffset:x.length};else o===this.rightGuard&&(this.next instanceof v.A?(this.next.insertAt(0,x),c={startNode:this.next.domNode,startOffset:x.length}):(N=document.createTextNode(x),this.parent.insertBefore(this.scroll.create(N),this.next),c={startNode:N,startOffset:x.length}));return o.data=E,c}update(o,N){o.forEach((c=>{if(c.type==="characterData"&&(c.target===this.leftGuard||c.target===this.rightGuard)){const x=this.restore(c.target);x&&(N.range=x)}}))}}T.A=y},4850:function(K,T,n){"use strict";var h=n(6003),v=n(3036),E=n(5508);class y extends h.InlineBlot{static allowedChildren=[y,v.A,h.EmbedBlot,E.A];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(o,N){const c=y.order.indexOf(o),x=y.order.indexOf(N);return c>=0||x>=0?c-x:o===N?0:o<N?-1:1}formatAt(o,N,c,x){if(y.compare(this.statics.blotName,c)<0&&this.scroll.query(c,h.Scope.BLOT)){const q=this.isolate(o,N);x&&q.wrap(c,x)}else super.formatAt(o,N,c,x)}optimize(o){if(super.optimize(o),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){const N=this.parent.isolate(this.offset(),this.length());this.moveChildren(N),N.wrap(this)}}}T.A=y},5508:function(K,T,n){"use strict";n.d(T,{A:function(){return v},X:function(){return y}});var h=n(6003);class v extends h.TextBlot{}const E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function y(L){return L.replace(/[&<>"']/g,(o=>E[o]))}},3729:function(K,T,n){"use strict";n.d(T,{default:function(){return t}});var h=n(6142),v=n(9698),E=n(3036),y=n(580),L=n(4541),o=n(746),N=n(4850),c=n(6003),x=n(5232),q=n.n(x),a=n(5374);function b(e){return e instanceof v.Ay||e instanceof v.zo}function k(e){return typeof e.updateContent=="function"}class R extends c.ScrollBlot{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=v.Ay;static allowedChildren=[v.Ay,v.zo,y.A];constructor(r,S,p){let{emitter:m}=p;super(r,S),this.emitter=m,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(O=>this.handleDragStart(O)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const r=this.batch;this.batch=!1,this.update(r)}emitMount(r){this.emitter.emit(a.A.events.SCROLL_BLOT_MOUNT,r)}emitUnmount(r){this.emitter.emit(a.A.events.SCROLL_BLOT_UNMOUNT,r)}emitEmbedUpdate(r,S){this.emitter.emit(a.A.events.SCROLL_EMBED_UPDATE,r,S)}deleteAt(r,S){const[p,m]=this.line(r),[O]=this.line(r+S);if(super.deleteAt(r,S),O!=null&&p!==O&&m>0){if(p instanceof v.zo||O instanceof v.zo)return void this.optimize();const _=O.children.head instanceof E.A?null:O.children.head;p.moveChildren(O,_),p.remove()}this.optimize()}enable(){let r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",r?"true":"false")}formatAt(r,S,p,m){super.formatAt(r,S,p,m),this.optimize()}insertAt(r,S,p){if(r>=this.length())if(p==null||this.scroll.query(S,c.Scope.BLOCK)==null){const m=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(m),p==null&&S.endsWith(`
`)?m.insertAt(0,S.slice(0,-1),p):m.insertAt(0,S,p)}else{const m=this.scroll.create(S,p);this.appendChild(m)}else super.insertAt(r,S,p);this.optimize()}insertBefore(r,S){if(r.statics.scope===c.Scope.INLINE_BLOT){const p=this.scroll.create(this.statics.defaultChild.blotName);p.appendChild(r),super.insertBefore(p,S)}else super.insertBefore(r,S)}insertContents(r,S){const p=this.deltaToRenderBlocks(S.concat(new(q())().insert(`
`))),m=p.pop();if(m==null)return;this.batchStart();const O=p.shift();if(O){const s=O.type==="block"&&(O.delta.length()===0||!this.descendant(v.zo,r)[0]&&r<this.length()),l=O.type==="block"?O.delta:new(q())().insert({[O.key]:O.value});P(this,r,l);const u=O.type==="block"?1:0,A=r+l.length()+u;s&&this.insertAt(A-1,`
`);const w=(0,v.Ji)(this.line(r)[0]),M=x.AttributeMap.diff(w,O.attributes)||{};Object.keys(M).forEach(($=>{this.formatAt(A-1,1,$,M[$])})),r=A}let[_,g]=this.children.find(r);p.length&&(_&&(_=_.split(g),g=0),p.forEach((s=>{if(s.type==="block")P(this.createBlock(s.attributes,_||void 0),0,s.delta);else{const l=this.create(s.key,s.value);this.insertBefore(l,_||void 0),Object.keys(s.attributes).forEach((u=>{l.format(u,s.attributes[u])}))}}))),m.type==="block"&&m.delta.length()&&P(this,_?_.offset(_.scroll)+g:this.length(),m.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(r){const S=this.path(r).pop();if(!S)return[null,-1];const[p,m]=S;return p instanceof c.LeafBlot?[p,m]:[null,-1]}line(r){return r===this.length()?this.line(r-1):this.descendant(b,r)}lines(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const p=(m,O,_)=>{let g=[],s=_;return m.children.forEachAt(O,_,((l,u,A)=>{b(l)?g.push(l):l instanceof c.ContainerBlot&&(g=g.concat(p(l,u,s))),s-=A})),g};return p(this,r,S)}optimize(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(r,S),r.length>0&&this.emitter.emit(a.A.events.SCROLL_OPTIMIZE,r,S))}path(r){return super.path(r).slice(1)}remove(){}update(r){if(this.batch)return void(Array.isArray(r)&&(this.batch=this.batch.concat(r)));let S=a.A.sources.USER;typeof r=="string"&&(S=r),Array.isArray(r)||(r=this.observer.takeRecords()),(r=r.filter((p=>{let{target:m}=p;const O=this.find(m,!0);return O&&!k(O)}))).length>0&&this.emitter.emit(a.A.events.SCROLL_BEFORE_UPDATE,S,r),super.update(r.concat([])),r.length>0&&this.emitter.emit(a.A.events.SCROLL_UPDATE,S,r)}updateEmbedAt(r,S,p){const[m]=this.descendant((O=>O instanceof v.zo),r);m&&m.statics.blotName===S&&k(m)&&m.updateContent(p)}handleDragStart(r){r.preventDefault()}deltaToRenderBlocks(r){const S=[];let p=new(q());return r.forEach((m=>{const O=m?.insert;if(O)if(typeof O=="string"){const _=O.split(`
`);_.slice(0,-1).forEach((s=>{p.insert(s,m.attributes),S.push({type:"block",delta:p,attributes:m.attributes??{}}),p=new(q())}));const g=_[_.length-1];g&&p.insert(g,m.attributes)}else{const _=Object.keys(O)[0];if(!_)return;this.query(_,c.Scope.INLINE)?p.push(m):(p.length()&&S.push({type:"block",delta:p,attributes:{}}),p=new(q()),S.push({type:"blockEmbed",key:_,value:O[_],attributes:m.attributes??{}}))}})),p.length()&&S.push({type:"block",delta:p,attributes:{}}),S}createBlock(r,S){let p;const m={};Object.entries(r).forEach((g=>{let[s,l]=g;this.query(s,c.Scope.BLOCK&c.Scope.BLOT)!=null?p=s:m[s]=l}));const O=this.create(p||this.statics.defaultChild.blotName,p?r[p]:void 0);this.insertBefore(O,S||void 0);const _=O.length();return Object.entries(m).forEach((g=>{let[s,l]=g;O.formatAt(0,_,s,l)})),O}}function P(e,r,S){S.reduce(((p,m)=>{const O=x.Op.length(m);let _=m.attributes||{};if(m.insert!=null){if(typeof m.insert=="string"){const g=m.insert;e.insertAt(p,g);const[s]=e.descendant(c.LeafBlot,p),l=(0,v.Ji)(s);_=x.AttributeMap.diff(l,_)||{}}else if(typeof m.insert=="object"){const g=Object.keys(m.insert)[0];if(g==null)return p;if(e.insertAt(p,g,m.insert[g]),e.scroll.query(g,c.Scope.INLINE)!=null){const[s]=e.descendant(c.LeafBlot,p),l=(0,v.Ji)(s);_=x.AttributeMap.diff(l,_)||{}}}}return Object.keys(_).forEach((g=>{e.formatAt(p,O,g,_[g])})),p+O}),r)}var Q=R,et=n(5508),H=n(584),f=n(4266);class j extends f.A{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(r,S){super(r,S),this.quill.on(h.Ay.events.EDITOR_CHANGE,((p,m,O,_)=>{p===h.Ay.events.SELECTION_CHANGE?m&&_!==h.Ay.sources.SILENT&&(this.currentRange=m):p===h.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&_!==h.Ay.sources.USER?this.transform(m):this.record(m,O)),this.currentRange=B(this.currentRange,m))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(p=>{p.inputType==="historyUndo"?(this.undo(),p.preventDefault()):p.inputType==="historyRedo"&&(this.redo(),p.preventDefault())}))}change(r,S){if(this.stack[r].length===0)return;const p=this.stack[r].pop();if(!p)return;const m=this.quill.getContents(),O=p.delta.invert(m);this.stack[S].push({delta:O,range:B(p.range,O)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(p.delta,h.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(p)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,S){if(r.ops.length===0)return;this.stack.redo=[];let p=r.invert(S),m=this.currentRange;const O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){const _=this.stack.undo.pop();_&&(p=p.compose(_.delta),m=_.range)}else this.lastRecorded=O;p.length()!==0&&(this.stack.undo.push({delta:p,range:m}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){F(this.stack.undo,r),F(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,h.Ay.sources.USER);else{const S=(function(p,m){const O=m.reduce(((g,s)=>g+(s.delete||0)),0);let _=m.length()-O;return(function(g,s){const l=s.ops[s.ops.length-1];return l!=null&&(l.insert!=null?typeof l.insert=="string"&&l.insert.endsWith(`
`):l.attributes!=null&&Object.keys(l.attributes).some((u=>g.query(u,c.Scope.BLOCK)!=null)))})(p,m)&&(_-=1),_})(this.quill.scroll,r.delta);this.quill.setSelection(S,h.Ay.sources.USER)}}}function F(e,r){let S=r;for(let p=e.length-1;p>=0;p-=1){const m=e[p];e[p]={delta:S.transform(m.delta,!0),range:m.range&&B(m.range,S)},S=m.delta.transform(S),e[p].delta.length()===0&&e.splice(p,1)}}function B(e,r){if(!e)return e;const S=r.transformPosition(e.index);return{index:S,length:r.transformPosition(e.index+e.length)-S}}var W=n(8123);class nt extends f.A{constructor(r,S){super(r,S),r.root.addEventListener("drop",(p=>{p.preventDefault();let m=null;if(document.caretRangeFromPoint)m=document.caretRangeFromPoint(p.clientX,p.clientY);else if(document.caretPositionFromPoint){const _=document.caretPositionFromPoint(p.clientX,p.clientY);m=document.createRange(),m.setStart(_.offsetNode,_.offset),m.setEnd(_.offsetNode,_.offset)}const O=m&&r.selection.normalizeNative(m);if(O){const _=r.selection.normalizedToRange(O);p.dataTransfer?.files&&this.upload(_,p.dataTransfer.files)}}))}upload(r,S){const p=[];Array.from(S).forEach((m=>{m&&this.options.mimetypes?.includes(m.type)&&p.push(m)})),p.length>0&&this.options.handler.call(this,r,p)}}nt.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,r){if(!this.quill.scroll.query("image"))return;const S=r.map((p=>new Promise((m=>{const O=new FileReader;O.onload=()=>{m(O.result)},O.readAsDataURL(p)}))));Promise.all(S).then((p=>{const m=p.reduce(((O,_)=>O.insert({image:_})),new(q())().retain(e.index).delete(e.length));this.quill.updateContents(m,a.A.sources.USER),this.quill.setSelection(e.index+p.length,a.A.sources.SILENT)}))}};var tt=nt;const ct=["insertText","insertReplacementText"];class ft extends f.A{constructor(r,S){super(r,S),r.root.addEventListener("beforeinput",(p=>{this.handleBeforeInput(p)})),/Android/i.test(navigator.userAgent)||r.on(h.Ay.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(r){(0,W.Xo)({range:r,quill:this.quill})}replaceText(r){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(r.length===0)return!1;if(S){const p=this.quill.getFormat(r.index,1);this.deleteRange(r),this.quill.updateContents(new(q())().retain(r.index).insert(S,p),h.Ay.sources.USER)}else this.deleteRange(r);return this.quill.setSelection(r.index+S.length,0,h.Ay.sources.SILENT),!0}handleBeforeInput(r){if(this.quill.composition.isComposing||r.defaultPrevented||!ct.includes(r.inputType))return;const S=r.getTargetRanges?r.getTargetRanges()[0]:null;if(!S||S.collapsed===!0)return;const p=(function(_){return typeof _.data=="string"?_.data:_.dataTransfer?.types.includes("text/plain")?_.dataTransfer.getData("text/plain"):null})(r);if(p==null)return;const m=this.quill.selection.normalizeNative(S),O=m?this.quill.selection.normalizedToRange(m):null;O&&this.replaceText(O,p)&&r.preventDefault()}handleCompositionStart(){const r=this.quill.getSelection();r&&this.replaceText(r)}}var X=ft;const Z=/Mac/i.test(navigator.platform);class Y extends f.A{isListening=!1;selectionChangeDeadline=0;constructor(r,S){super(r,S),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,S){let{line:p,event:m}=S;if(!(p instanceof c.ParentBlot&&p.uiNode))return!0;const O=getComputedStyle(p.domNode).direction==="rtl";return!!(O&&m.key!=="ArrowRight"||!O&&m.key!=="ArrowLeft")||(this.quill.setSelection(r.index-1,r.length+(m.shiftKey?1:0),h.Ay.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(r=>{!r.defaultPrevented&&(S=>S.key==="ArrowLeft"||S.key==="ArrowRight"||S.key==="ArrowUp"||S.key==="ArrowDown"||S.key==="Home"||!(!Z||S.key!=="a"||S.ctrlKey!==!0))(r)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0}))}handleSelectionChange(){const r=document.getSelection();if(!r)return;const S=r.getRangeAt(0);if(S.collapsed!==!0||S.startOffset!==0)return;const p=this.quill.scroll.find(S.startContainer);if(!(p instanceof c.ParentBlot&&p.uiNode))return;const m=document.createRange();m.setStartAfter(p.uiNode),m.setEndAfter(p.uiNode),r.removeAllRanges(),r.addRange(m)}}var i=Y;h.Ay.register({"blots/block":v.Ay,"blots/block/embed":v.zo,"blots/break":E.A,"blots/container":y.A,"blots/cursor":L.A,"blots/embed":o.A,"blots/inline":N.A,"blots/scroll":Q,"blots/text":et.A,"modules/clipboard":H.Ay,"modules/history":j,"modules/keyboard":W.Ay,"modules/uploader":tt,"modules/input":X,"modules/uiNode":i});var t=h.Ay},5374:function(K,T,n){"use strict";n.d(T,{A:function(){return y}});var h=n(8920),v=n(7356);const E=(0,n(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((L=>{document.addEventListener(L,(function(){for(var o=arguments.length,N=new Array(o),c=0;c<o;c++)N[c]=arguments[c];Array.from(document.querySelectorAll(".ql-container")).forEach((x=>{const q=v.A.get(x);q&&q.emitter&&q.emitter.handleDOM(...N)}))}))}));var y=class extends h{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",E.error)}emit(){for(var L=arguments.length,o=new Array(L),N=0;N<L;N++)o[N]=arguments[N];return E.log.call(E,...o),super.emit(...o)}handleDOM(L){for(var o=arguments.length,N=new Array(o>1?o-1:0),c=1;c<o;c++)N[c-1]=arguments[c];(this.domListeners[L.type]||[]).forEach((x=>{let{node:q,handler:a}=x;(L.target===q||q.contains(L.target))&&a(L,...N)}))}listenDOM(L,o,N){this.domListeners[L]||(this.domListeners[L]=[]),this.domListeners[L].push({node:o,handler:N})}}},7356:function(K,T){"use strict";T.A=new WeakMap},6078:function(K,T){"use strict";const n=["error","warn","log","info"];let h="warn";function v(y){if(h&&n.indexOf(y)<=n.indexOf(h)){for(var L=arguments.length,o=new Array(L>1?L-1:0),N=1;N<L;N++)o[N-1]=arguments[N];console[y](...o)}}function E(y){return n.reduce(((L,o)=>(L[o]=v.bind(console,o,y),L)),{})}E.level=y=>{h=y},v.level=E.level,T.A=E},4266:function(K,T){"use strict";T.A=class{static DEFAULTS={};constructor(n){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=h}}},6142:function(K,T,n){"use strict";n.d(T,{Ay:function(){return e}});var h=n(8347),v=n(6003),E=n(5232),y=n.n(E),L=n(3707),o=n(5123),N=n(9698),c=n(3036),x=n(4541),q=n(5508),a=n(8298);const b=/^[ -~]*$/;function k(g,s,l){if(g.length===0){const[pt]=Q(l.pop());return s<=0?`</li></${pt}>`:`</li></${pt}>${k([],s-1,l)}`}const[{child:u,offset:A,length:w,indent:M,type:$},...V]=g,[G,rt]=Q($);if(M>s)return l.push($),M===s+1?`<${G}><li${rt}>${R(u,A,w)}${k(V,M,l)}`:`<${G}><li>${k(g,s+1,l)}`;const it=l[l.length-1];if(M===s&&$===it)return`</li><li${rt}>${R(u,A,w)}${k(V,M,l)}`;const[st]=Q(l.pop());return`</li></${st}>${k(g,s-1,l)}`}function R(g,s,l){let u=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in g&&typeof g.html=="function")return g.html(s,l);if(g instanceof q.A)return(0,q.X)(g.value().slice(s,s+l)).replaceAll(" ","&nbsp;");if(g instanceof v.ParentBlot){if(g.statics.blotName==="list-container"){const G=[];return g.children.forEachAt(s,l,((rt,it,st)=>{const pt="formats"in rt&&typeof rt.formats=="function"?rt.formats():{};G.push({child:rt,offset:it,length:st,indent:pt.indent||0,type:pt.list})})),k(G,-1,[])}const A=[];if(g.children.forEachAt(s,l,((G,rt,it)=>{A.push(R(G,rt,it))})),u||g.statics.blotName==="list")return A.join("");const{outerHTML:w,innerHTML:M}=g.domNode,[$,V]=w.split(`>${M}<`);return $==="<table"?`<table style="border: 1px solid #000;">${A.join("")}<${V}`:`${$}>${A.join("")}<${V}`}return g.domNode instanceof Element?g.domNode.outerHTML:""}function P(g,s){return Object.keys(s).reduce(((l,u)=>{if(g[u]==null)return l;const A=s[u];return A===g[u]?l[u]=A:Array.isArray(A)?A.indexOf(g[u])<0?l[u]=A.concat([g[u]]):l[u]=A:l[u]=[A,g[u]],l}),{})}function Q(g){const s=g==="ordered"?"ol":"ul";switch(g){case"checked":return[s,' data-list="checked"'];case"unchecked":return[s,' data-list="unchecked"'];default:return[s,""]}}function et(g){return g.reduce(((s,l)=>{if(typeof l.insert=="string"){const u=l.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return s.insert(u,l.attributes)}return s.push(l)}),new(y()))}function H(g,s){let{index:l,length:u}=g;return new a.Q(l+s,u)}var f=class{constructor(g){this.scroll=g,this.delta=this.getDelta()}applyDelta(g){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();const l=et(g),u=new(y());return(function(A){const w=[];return A.forEach((M=>{typeof M.insert=="string"?M.insert.split(`
`).forEach((($,V)=>{V&&w.push({insert:`
`,attributes:M.attributes}),$&&w.push({insert:$,attributes:M.attributes})})):w.push(M)})),w})(l.ops.slice()).reduce(((A,w)=>{const M=E.Op.length(w);let $=w.attributes||{},V=!1,G=!1;if(w.insert!=null){if(u.retain(M),typeof w.insert=="string"){const st=w.insert;G=!st.endsWith(`
`)&&(s<=A||!!this.scroll.descendant(N.zo,A)[0]),this.scroll.insertAt(A,st);const[pt,ut]=this.scroll.line(A);let dt=(0,h.A)({},(0,N.Ji)(pt));if(pt instanceof N.Ay){const[xt]=pt.descendant(v.LeafBlot,ut);xt&&(dt=(0,h.A)(dt,(0,N.Ji)(xt)))}$=E.AttributeMap.diff(dt,$)||{}}else if(typeof w.insert=="object"){const st=Object.keys(w.insert)[0];if(st==null)return A;const pt=this.scroll.query(st,v.Scope.INLINE)!=null;if(pt)(s<=A||this.scroll.descendant(N.zo,A)[0])&&(G=!0);else if(A>0){const[ut,dt]=this.scroll.descendant(v.LeafBlot,A-1);ut instanceof q.A?ut.value()[dt]!==`
`&&(V=!0):ut instanceof v.EmbedBlot&&ut.statics.scope===v.Scope.INLINE_BLOT&&(V=!0)}if(this.scroll.insertAt(A,st,w.insert[st]),pt){const[ut]=this.scroll.descendant(v.LeafBlot,A);if(ut){const dt=(0,h.A)({},(0,N.Ji)(ut));$=E.AttributeMap.diff(dt,$)||{}}}}s+=M}else if(u.push(w),w.retain!==null&&typeof w.retain=="object"){const st=Object.keys(w.retain)[0];if(st==null)return A;this.scroll.updateEmbedAt(A,st,w.retain[st])}Object.keys($).forEach((st=>{this.scroll.formatAt(A,M,st,$[st])}));const rt=V?1:0,it=G?1:0;return s+=rt+it,u.retain(rt),u.delete(it),A+M+rt+it}),0),u.reduce(((A,w)=>typeof w.delete=="number"?(this.scroll.deleteAt(A,w.delete),A):A+E.Op.length(w)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(l)}deleteText(g,s){return this.scroll.deleteAt(g,s),this.update(new(y())().retain(g).delete(s))}formatLine(g,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(l).forEach((A=>{this.scroll.lines(g,Math.max(s,1)).forEach((w=>{w.format(A,l[A])}))})),this.scroll.optimize();const u=new(y())().retain(g).retain(s,(0,L.A)(l));return this.update(u)}formatText(g,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(l).forEach((A=>{this.scroll.formatAt(g,s,A,l[A])}));const u=new(y())().retain(g).retain(s,(0,L.A)(l));return this.update(u)}getContents(g,s){return this.delta.slice(g,g+s)}getDelta(){return this.scroll.lines().reduce(((g,s)=>g.concat(s.delta())),new(y()))}getFormat(g){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=[],u=[];s===0?this.scroll.path(g).forEach((M=>{const[$]=M;$ instanceof N.Ay?l.push($):$ instanceof v.LeafBlot&&u.push($)})):(l=this.scroll.lines(g,s),u=this.scroll.descendants(v.LeafBlot,g,s));const[A,w]=[l,u].map((M=>{const $=M.shift();if($==null)return{};let V=(0,N.Ji)($);for(;Object.keys(V).length>0;){const G=M.shift();if(G==null)return V;V=P((0,N.Ji)(G),V)}return V}));return{...A,...w}}getHTML(g,s){const[l,u]=this.scroll.line(g);if(l){const A=l.length();return l.length()>=u+s&&(u!==0||s!==A)?R(l,u,s,!0):R(this.scroll,g,s,!0)}return""}getText(g,s){return this.getContents(g,s).filter((l=>typeof l.insert=="string")).map((l=>l.insert)).join("")}insertContents(g,s){const l=et(s),u=new(y())().retain(g).concat(l);return this.scroll.insertContents(g,l),this.update(u)}insertEmbed(g,s,l){return this.scroll.insertAt(g,s,l),this.update(new(y())().retain(g).insert({[s]:l}))}insertText(g,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=s.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(g,s),Object.keys(l).forEach((u=>{this.scroll.formatAt(g,s.length,u,l[u])})),this.update(new(y())().retain(g).insert(s,(0,L.A)(l)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const g=this.scroll.children.head;if(g?.statics.blotName!==N.Ay.blotName)return!1;const s=g;return!(s.children.length>1)&&s.children.head instanceof c.A}removeFormat(g,s){const l=this.getText(g,s),[u,A]=this.scroll.line(g+s);let w=0,M=new(y());u!=null&&(w=u.length()-A,M=u.delta().slice(A,A+w-1).insert(`
`));const $=this.getContents(g,s+w).diff(new(y())().insert(l).concat(M)),V=new(y())().retain(g).concat($);return this.applyDelta(V)}update(g){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const u=this.delta;if(s.length===1&&s[0].type==="characterData"&&s[0].target.data.match(b)&&this.scroll.find(s[0].target)){const A=this.scroll.find(s[0].target),w=(0,N.Ji)(A),M=A.offset(this.scroll),$=s[0].oldValue.replace(x.A.CONTENTS,""),V=new(y())().insert($),G=new(y())().insert(A.value()),rt=l&&{oldRange:H(l.oldRange,-M),newRange:H(l.newRange,-M)};g=new(y())().retain(M).concat(V.diff(G,rt)).reduce(((it,st)=>st.insert?it.insert(st.insert,w):it.push(st)),new(y())),this.delta=u.compose(g)}else this.delta=this.getDelta(),g&&(0,o.A)(u.compose(g),this.delta)||(g=u.diff(this.delta,l));return g}},j=n(5374),F=n(7356),B=n(6078),W=n(4266),nt=n(746),tt=class{isComposing=!1;constructor(g,s){this.scroll=g,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(g=>{this.isComposing||this.handleCompositionStart(g)})),this.scroll.domNode.addEventListener("compositionend",(g=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(g)}))}))}handleCompositionStart(g){const s=g.target instanceof Node?this.scroll.find(g.target,!0):null;!s||s instanceof nt.A||(this.emitter.emit(j.A.events.COMPOSITION_BEFORE_START,g),this.scroll.batchStart(),this.emitter.emit(j.A.events.COMPOSITION_START,g),this.isComposing=!0)}handleCompositionEnd(g){this.emitter.emit(j.A.events.COMPOSITION_BEFORE_END,g),this.scroll.batchEnd(),this.emitter.emit(j.A.events.COMPOSITION_END,g),this.isComposing=!1}},ct=n(9609);const ft=g=>{const s=g.getBoundingClientRect(),l="offsetWidth"in g&&Math.abs(s.width)/g.offsetWidth||1,u="offsetHeight"in g&&Math.abs(s.height)/g.offsetHeight||1;return{top:s.top,right:s.left+g.clientWidth*l,bottom:s.top+g.clientHeight*u,left:s.left}},X=g=>{const s=parseInt(g,10);return Number.isNaN(s)?0:s},Z=(g,s,l,u,A,w)=>g<l&&s>u?0:g<l?-(l-g+A):s>u?s-g>u-l?g+A-l:s-u+w:0,Y=["block","break","cursor","inline","scroll","text"],i=(0,B.A)("quill"),t=new v.Registry;v.ParentBlot.uiClass="ql-ui";class e{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:t,theme:"default"};static events=j.A.events;static sources=j.A.sources;static version="2.0.3";static imports={delta:y(),parchment:v,"core/module":W.A,"core/theme":ct.A};static debug(s){s===!0&&(s="log"),B.A.level(s)}static find(s){let l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return F.A.get(s)||t.find(s,l)}static import(s){return this.imports[s]==null&&i.error(`Cannot import ${s}. Are you sure it was registered?`),this.imports[s]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const s=arguments.length<=0?void 0:arguments[0],l=!!(!(arguments.length<=1)&&arguments[1]),u="attrName"in s?s.attrName:s.blotName;typeof u=="string"?this.register(`formats/${u}`,s,l):Object.keys(s).forEach((A=>{this.register(A,s[A],l)}))}else{const s=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1],u=!!(!(arguments.length<=2)&&arguments[2]);this.imports[s]==null||u||i.warn(`Overwriting ${s} with`,l),this.imports[s]=l,(s.startsWith("blots/")||s.startsWith("formats/"))&&l&&typeof l!="boolean"&&l.blotName!=="abstract"&&t.register(l),typeof l.register=="function"&&l.register(t)}}constructor(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=(function(M,$){const V=r(M);if(!V)throw new Error("Invalid Quill container");const G=!$.theme||$.theme===e.DEFAULTS.theme?ct.A:e.import(`themes/${$.theme}`);if(!G)throw new Error(`Invalid theme ${$.theme}. Did you register it?`);const{modules:rt,...it}=e.DEFAULTS,{modules:st,...pt}=G.DEFAULTS;let ut=S($.modules);ut!=null&&ut.toolbar&&ut.toolbar.constructor!==Object&&(ut={...ut,toolbar:{container:ut.toolbar}});const dt=(0,h.A)({},S(rt),S(st),ut),xt={...it,...p(pt),...p($)};let Tt=$.registry;return Tt?$.formats&&i.warn('Ignoring "formats" option because "registry" is specified'):Tt=$.formats?((_t,lt,gt)=>{const At=new v.Registry;return Y.forEach((kt=>{const Nt=lt.query(kt);Nt&&At.register(Nt)})),_t.forEach((kt=>{let Nt=lt.query(kt);Nt||gt.error(`Cannot register "${kt}" specified in "formats" config. Are you sure it was registered?`);let qt=0;for(;Nt;)if(At.register(Nt),Nt="blotName"in Nt?Nt.requiredContainer??null:null,qt+=1,qt>100){gt.error(`Cycle detected in registering blot requiredContainer: "${kt}"`);break}})),At})($.formats,xt.registry,i):xt.registry,{...xt,registry:Tt,container:V,theme:G,modules:Object.entries(dt).reduce(((_t,lt)=>{let[gt,At]=lt;if(!At)return _t;const kt=e.import(`modules/${gt}`);return kt==null?(i.error(`Cannot load ${gt} module. Are you sure you registered it?`),_t):{..._t,[gt]:(0,h.A)({},kt.DEFAULTS||{},At)}}),{}),bounds:r(xt.bounds)}})(s,l),this.container=this.options.container,this.container==null)return void i.error("Invalid Quill container",s);this.options.debug&&e.debug(this.options.debug);const u=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",F.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new j.A;const A=v.ScrollBlot.blotName,w=this.options.registry.query(A);if(!w||!("blotName"in w))throw new Error(`Cannot initialize Quill without "${A}" blot`);if(this.scroll=new w(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new f(this.scroll),this.selection=new a.A(this.scroll,this.emitter),this.composition=new tt(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(j.A.events.EDITOR_CHANGE,(M=>{M===j.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(j.A.events.SCROLL_UPDATE,((M,$)=>{const V=this.selection.lastRange,[G]=this.selection.getRange(),rt=V&&G?{oldRange:V,newRange:G}:void 0;m.call(this,(()=>this.editor.update(null,$,rt)),M)})),this.emitter.on(j.A.events.SCROLL_EMBED_UPDATE,((M,$)=>{const V=this.selection.lastRange,[G]=this.selection.getRange(),rt=V&&G?{oldRange:V,newRange:G}:void 0;m.call(this,(()=>{const it=new(y())().retain(M.offset(this)).retain({[M.statics.blotName]:$});return this.editor.update(it,[],rt)}),e.sources.USER)})),u){const M=this.clipboard.convert({html:`${u}<p><br></p>`,text:`
`});this.setContents(M)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof s=="string"){const u=s;(s=document.createElement("div")).classList.add(u)}return this.container.insertBefore(s,l),s}blur(){this.selection.setRange(null)}deleteText(s,l,u){return[s,l,,u]=O(s,l,u),m.call(this,(()=>this.editor.deleteText(s,l)),u,s,-1*l)}disable(){this.enable(!1)}editReadOnly(s){this.allowReadOnlyEdits=!0;const l=s();return this.allowReadOnlyEdits=!1,l}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(s),this.container.classList.toggle("ql-disabled",!s)}focus(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),s.preventScroll||this.scrollSelectionIntoView()}format(s,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.A.sources.API;return m.call(this,(()=>{const A=this.getSelection(!0);let w=new(y());if(A==null)return w;if(this.scroll.query(s,v.Scope.BLOCK))w=this.editor.formatLine(A.index,A.length,{[s]:l});else{if(A.length===0)return this.selection.format(s,l),w;w=this.editor.formatText(A.index,A.length,{[s]:l})}return this.setSelection(A,j.A.sources.SILENT),w}),u)}formatLine(s,l,u,A,w){let M;return[s,l,M,w]=O(s,l,u,A,w),m.call(this,(()=>this.editor.formatLine(s,l,M)),w,s,0)}formatText(s,l,u,A,w){let M;return[s,l,M,w]=O(s,l,u,A,w),m.call(this,(()=>this.editor.formatText(s,l,M)),w,s,0)}getBounds(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=null;if(u=typeof s=="number"?this.selection.getBounds(s,l):this.selection.getBounds(s.index,s.length),!u)return null;const A=this.container.getBoundingClientRect();return{bottom:u.bottom-A.top,height:u.height,left:u.left-A.left,right:u.right-A.left,top:u.top-A.top,width:u.width}}getContents(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-s;return[s,l]=O(s,l),this.editor.getContents(s,l)}getFormat(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof s=="number"?this.editor.getFormat(s,l):this.editor.getFormat(s.index,s.length)}getIndex(s){return s.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(s){return this.scroll.leaf(s)}getLine(s){return this.scroll.line(s)}getLines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof s!="number"?this.scroll.lines(s.index,s.length):this.scroll.lines(s,l)}getModule(s){return this.theme.modules[s]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(l=l??this.getLength()-s),[s,l]=O(s,l),this.editor.getHTML(s,l)}getText(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(l=l??this.getLength()-s),[s,l]=O(s,l),this.editor.getText(s,l)}hasFocus(){return this.selection.hasFocus()}insertEmbed(s,l,u){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.sources.API;return m.call(this,(()=>this.editor.insertEmbed(s,l,u)),A,s)}insertText(s,l,u,A,w){let M;return[s,,M,w]=O(s,0,u,A,w),m.call(this,(()=>this.editor.insertText(s,l,M)),w,s,l.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(s,l,u){return[s,l,,u]=O(s,l,u),m.call(this,(()=>this.editor.removeFormat(s,l)),u,s)}scrollRectIntoView(s){((l,u)=>{const A=l.ownerDocument;let w=u,M=l;for(;M;){const V=M===A.body,G=V?{top:0,right:window.visualViewport?.width??A.documentElement.clientWidth,bottom:window.visualViewport?.height??A.documentElement.clientHeight,left:0}:ft(M),rt=getComputedStyle(M),it=Z(w.left,w.right,G.left,G.right,X(rt.scrollPaddingLeft),X(rt.scrollPaddingRight)),st=Z(w.top,w.bottom,G.top,G.bottom,X(rt.scrollPaddingTop),X(rt.scrollPaddingBottom));if(it||st)if(V)A.defaultView?.scrollBy(it,st);else{const{scrollLeft:pt,scrollTop:ut}=M;st&&(M.scrollTop+=st),it&&(M.scrollLeft+=it);const dt=M.scrollLeft-pt,xt=M.scrollTop-ut;w={left:w.left-dt,top:w.top-xt,right:w.right-dt,bottom:w.bottom-xt}}M=V||rt.position==="fixed"?null:($=M).parentElement||$.getRootNode().host||null}var $})(this.root,s)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const s=this.selection.lastRange,l=s&&this.selection.getBounds(s.index,s.length);l&&this.scrollRectIntoView(l)}setContents(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return m.call(this,(()=>{s=new(y())(s);const u=this.getLength(),A=this.editor.deleteText(0,u),w=this.editor.insertContents(0,s),M=this.editor.deleteText(this.getLength()-1,1);return A.compose(w).compose(M)}),l)}setSelection(s,l,u){s==null?this.selection.setRange(null,l||e.sources.API):([s,l,,u]=O(s,l,u),this.selection.setRange(new a.Q(Math.max(0,s),l),u),u!==j.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;const u=new(y())().insert(s);return this.setContents(u,l)}update(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.A.sources.USER;const l=this.scroll.update(s);return this.selection.update(s),l}updateContents(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return m.call(this,(()=>(s=new(y())(s),this.editor.applyDelta(s))),l,!0)}}function r(g){return typeof g=="string"?document.querySelector(g):g}function S(g){return Object.entries(g??{}).reduce(((s,l)=>{let[u,A]=l;return{...s,[u]:A===!0?{}:A}}),{})}function p(g){return Object.fromEntries(Object.entries(g).filter((s=>s[1]!==void 0)))}function m(g,s,l,u){if(!this.isEnabled()&&s===j.A.sources.USER&&!this.allowReadOnlyEdits)return new(y());let A=l==null?null:this.getSelection();const w=this.editor.delta,M=g();if(A!=null&&(l===!0&&(l=A.index),u==null?A=_(A,M,s):u!==0&&(A=_(A,l,u,s)),this.setSelection(A,j.A.sources.SILENT)),M.length()>0){const $=[j.A.events.TEXT_CHANGE,M,w,s];this.emitter.emit(j.A.events.EDITOR_CHANGE,...$),s!==j.A.sources.SILENT&&this.emitter.emit(...$)}return M}function O(g,s,l,u,A){let w={};return typeof g.index=="number"&&typeof g.length=="number"?typeof s!="number"?(A=u,u=l,l=s,s=g.length,g=g.index):(s=g.length,g=g.index):typeof s!="number"&&(A=u,u=l,l=s,s=0),typeof l=="object"?(w=l,A=u):typeof l=="string"&&(u!=null?w[l]=u:A=l),[g,s,w,A=A||j.A.sources.API]}function _(g,s,l,u){const A=typeof l=="number"?l:0;if(g==null)return null;let w,M;return s&&typeof s.transformPosition=="function"?[w,M]=[g.index,g.index+g.length].map(($=>s.transformPosition($,u!==j.A.sources.USER))):[w,M]=[g.index,g.index+g.length].map(($=>$<s||$===s&&u===j.A.sources.USER?$:A>=0?$+A:Math.max(s,$+A))),new a.Q(w,M-w)}},8298:function(K,T,n){"use strict";n.d(T,{Q:function(){return o}});var h=n(6003),v=n(5123),E=n(3707),y=n(5374);const L=(0,n(6078).A)("quill:selection");class o{constructor(x){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=x,this.length=q}}function N(c,x){try{x.parentNode}catch{return!1}return c.contains(x)}T.A=class{constructor(c,x){this.emitter=x,this.scroll=c,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new o(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,y.A.sources.USER),1)})),this.emitter.on(y.A.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const q=this.getNativeRange();q!=null&&q.start.node!==this.cursor.textNode&&this.emitter.once(y.A.events.SCROLL_UPDATE,((a,b)=>{try{this.root.contains(q.start.node)&&this.root.contains(q.end.node)&&this.setNativeRange(q.start.node,q.start.offset,q.end.node,q.end.offset);const k=b.some((R=>R.type==="characterData"||R.type==="childList"||R.type==="attributes"&&R.target===this.root));this.update(k?y.A.sources.SILENT:a)}catch{}}))})),this.emitter.on(y.A.events.SCROLL_OPTIMIZE,((q,a)=>{if(a.range){const{startNode:b,startOffset:k,endNode:R,endOffset:P}=a.range;this.setNativeRange(b,k,R,P),this.update(y.A.sources.SILENT)}})),this.update(y.A.sources.SILENT)}handleComposition(){this.emitter.on(y.A.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(y.A.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const c=this.cursor.restore();if(!c)return;setTimeout((()=>{this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(y.A.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(c,x){this.scroll.update();const q=this.getNativeRange();if(q!=null&&q.native.collapsed&&!this.scroll.query(c,h.Scope.BLOCK)){if(q.start.node!==this.cursor.textNode){const a=this.scroll.find(q.start.node,!1);if(a==null)return;if(a instanceof h.LeafBlot){const b=a.split(q.start.offset);a.parent.insertBefore(this.cursor,b)}else a.insertBefore(this.cursor,q.start.node);this.cursor.attach()}this.cursor.format(c,x),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(c){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const q=this.scroll.length();let a;c=Math.min(c,q-1),x=Math.min(c+x,q-1)-c;let[b,k]=this.scroll.leaf(c);if(b==null)return null;if(x>0&&k===b.length()){const[et]=this.scroll.leaf(c+1);if(et){const[H]=this.scroll.line(c),[f]=this.scroll.line(c+1);H===f&&(b=et,k=0)}}[a,k]=b.position(k,!0);const R=document.createRange();if(x>0)return R.setStart(a,k),[b,k]=this.scroll.leaf(c+x),b==null?null:([a,k]=b.position(k,!0),R.setEnd(a,k),R.getBoundingClientRect());let P,Q="left";if(a instanceof Text){if(!a.data.length)return null;k<a.data.length?(R.setStart(a,k),R.setEnd(a,k+1)):(R.setStart(a,k-1),R.setEnd(a,k),Q="right"),P=R.getBoundingClientRect()}else{if(!(b.domNode instanceof Element))return null;P=b.domNode.getBoundingClientRect(),k>0&&(Q="right")}return{bottom:P.top+P.height,height:P.height,left:P[Q],right:P[Q],top:P.top,width:0}}getNativeRange(){const c=document.getSelection();if(c==null||c.rangeCount<=0)return null;const x=c.getRangeAt(0);if(x==null)return null;const q=this.normalizeNative(x);return L.info("getNativeRange",q),q}getRange(){const c=this.scroll.domNode;if("isConnected"in c&&!c.isConnected)return[null,null];const x=this.getNativeRange();return x==null?[null,null]:[this.normalizedToRange(x),x]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&N(this.root,document.activeElement)}normalizedToRange(c){const x=[[c.start.node,c.start.offset]];c.native.collapsed||x.push([c.end.node,c.end.offset]);const q=x.map((k=>{const[R,P]=k,Q=this.scroll.find(R,!0),et=Q.offset(this.scroll);return P===0?et:Q instanceof h.LeafBlot?et+Q.index(R,P):et+Q.length()})),a=Math.min(Math.max(...q),this.scroll.length()-1),b=Math.min(a,...q);return new o(b,a-b)}normalizeNative(c){if(!N(this.root,c.startContainer)||!c.collapsed&&!N(this.root,c.endContainer))return null;const x={start:{node:c.startContainer,offset:c.startOffset},end:{node:c.endContainer,offset:c.endOffset},native:c};return[x.start,x.end].forEach((q=>{let{node:a,offset:b}=q;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>b)a=a.childNodes[b],b=0;else{if(a.childNodes.length!==b)break;a=a.lastChild,b=a instanceof Text?a.data.length:a.childNodes.length>0?a.childNodes.length:a.childNodes.length+1}q.node=a,q.offset=b})),x}rangeToNative(c){const x=this.scroll.length(),q=(a,b)=>{a=Math.min(x-1,a);const[k,R]=this.scroll.leaf(a);return k?k.position(R,b):[null,-1]};return[...q(c.index,!1),...q(c.index+c.length,!0)]}setNativeRange(c,x){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x,b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(L.info("setNativeRange",c,x,q,a),c!=null&&(this.root.parentNode==null||c.parentNode==null||q.parentNode==null))return;const k=document.getSelection();if(k!=null)if(c!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:R}=this.getNativeRange()||{};if(R==null||b||c!==R.startContainer||x!==R.startOffset||q!==R.endContainer||a!==R.endOffset){c instanceof Element&&c.tagName==="BR"&&(x=Array.from(c.parentNode.childNodes).indexOf(c),c=c.parentNode),q instanceof Element&&q.tagName==="BR"&&(a=Array.from(q.parentNode.childNodes).indexOf(q),q=q.parentNode);const P=document.createRange();P.setStart(c,x),P.setEnd(q,a),k.removeAllRanges(),k.addRange(P)}}else k.removeAllRanges(),this.root.blur()}setRange(c){let x=arguments.length>1&&arguments[1]!==void 0&&arguments[1],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.A.sources.API;if(typeof x=="string"&&(q=x,x=!1),L.info("setRange",c),c!=null){const a=this.rangeToNative(c);this.setNativeRange(...a,x)}else this.setNativeRange(null);this.update(q)}update(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.A.sources.USER;const x=this.lastRange,[q,a]=this.getRange();if(this.lastRange=q,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,v.A)(x,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const k=this.cursor.restore();k&&this.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)}const b=[y.A.events.SELECTION_CHANGE,(0,E.A)(this.lastRange),(0,E.A)(x),c];this.emitter.emit(y.A.events.EDITOR_CHANGE,...b),c!==y.A.sources.SILENT&&this.emitter.emit(...b)}}}},9609:function(K,T){"use strict";class n{static DEFAULTS={modules:{}};static themes={default:n};modules={};constructor(v,E){this.quill=v,this.options=E}init(){Object.keys(this.options.modules).forEach((v=>{this.modules[v]==null&&this.addModule(v)}))}addModule(v){const E=this.quill.constructor.import(`modules/${v}`);return this.modules[v]=new E(this.quill,this.options.modules[v]||{}),this.modules[v]}}T.A=n},8276:function(K,T,n){"use strict";n.d(T,{Hu:function(){return L},gS:function(){return E},qh:function(){return y}});var h=n(6003);const v={scope:h.Scope.BLOCK,whitelist:["right","center","justify"]},E=new h.Attributor("align","align",v),y=new h.ClassAttributor("align","ql-align",v),L=new h.StyleAttributor("align","text-align",v)},9541:function(K,T,n){"use strict";n.d(T,{l:function(){return E},s:function(){return y}});var h=n(6003),v=n(8638);const E=new h.ClassAttributor("background","ql-bg",{scope:h.Scope.INLINE}),y=new v.a2("background","background-color",{scope:h.Scope.INLINE})},9404:function(K,T,n){"use strict";n.d(T,{Ay:function(){return x},Cy:function(){return q},EJ:function(){return c}});var h=n(9698),v=n(3036),E=n(4541),y=n(4850),L=n(5508),o=n(580),N=n(6142);class c extends o.A{static create(b){const k=super.create(b);return k.setAttribute("spellcheck","false"),k}code(b,k){return this.children.map((R=>R.length()<=1?"":R.domNode.innerText)).join(`
`).slice(b,b+k)}html(b,k){return`<pre>
${(0,L.X)(this.code(b,k))}
</pre>`}}class x extends h.Ay{static TAB="  ";static register(){N.Ay.register(c)}}class q extends y.A{}q.blotName="code",q.tagName="CODE",x.blotName="code-block",x.className="ql-code-block",x.tagName="DIV",c.blotName="code-block-container",c.className="ql-code-block-container",c.tagName="DIV",c.allowedChildren=[x],x.allowedChildren=[L.A,v.A,E.A],x.requiredContainer=c},8638:function(K,T,n){"use strict";n.d(T,{JM:function(){return y},a2:function(){return v},g3:function(){return E}});var h=n(6003);class v extends h.StyleAttributor{value(o){let N=super.value(o);return N.startsWith("rgb(")?(N=N.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${N.split(",").map((c=>`00${parseInt(c,10).toString(16)}`.slice(-2))).join("")}`):N}}const E=new h.ClassAttributor("color","ql-color",{scope:h.Scope.INLINE}),y=new v("color","color",{scope:h.Scope.INLINE})},7912:function(K,T,n){"use strict";n.d(T,{Mc:function(){return E},VL:function(){return L},sY:function(){return y}});var h=n(6003);const v={scope:h.Scope.BLOCK,whitelist:["rtl"]},E=new h.Attributor("direction","dir",v),y=new h.ClassAttributor("direction","ql-direction",v),L=new h.StyleAttributor("direction","direction",v)},6772:function(K,T,n){"use strict";n.d(T,{q:function(){return E},z:function(){return L}});var h=n(6003);const v={scope:h.Scope.INLINE,whitelist:["serif","monospace"]},E=new h.ClassAttributor("font","ql-font",v);class y extends h.StyleAttributor{value(N){return super.value(N).replace(/["']/g,"")}}const L=new y("font","font-family",v)},664:function(K,T,n){"use strict";n.d(T,{U:function(){return v},r:function(){return E}});var h=n(6003);const v=new h.ClassAttributor("size","ql-size",{scope:h.Scope.INLINE,whitelist:["small","large","huge"]}),E=new h.StyleAttributor("size","font-size",{scope:h.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(K,T,n){"use strict";n.d(T,{Ay:function(){return ft},hV:function(){return e}});var h=n(6003),v=n(5232),E=n.n(v),y=n(9698),L=n(6078),o=n(4266),N=n(6142),c=n(8276),x=n(9541),q=n(9404),a=n(8638),b=n(7912),k=n(6772),R=n(664),P=n(8123);const Q=/font-weight:\s*normal/,et=["P","OL","UL"],H=p=>p&&et.includes(p.tagName),f=/\bmso-list:[^;]*ignore/i,j=/\bmso-list:[^;]*\bl(\d+)/i,F=/\bmso-list:[^;]*\blevel(\d+)/i,B=[function(p){p.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&(m=>{const O=Array.from(m.querySelectorAll("[style*=mso-list]")),_=[],g=[];O.forEach((u=>{(u.getAttribute("style")||"").match(f)?_.push(u):g.push(u)})),_.forEach((u=>u.parentNode?.removeChild(u)));const s=m.documentElement.innerHTML,l=g.map((u=>((A,w)=>{const M=A.getAttribute("style"),$=M?.match(j);if(!$)return null;const V=Number($[1]),G=M?.match(F),rt=G?Number(G[1]):1,it=new RegExp(`@list l${V}:level${rt}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),st=w.match(it);return{id:V,indent:rt,type:st&&st[1]==="bullet"?"bullet":"ordered",element:A}})(u,s))).filter((u=>u));for(;l.length;){const u=[];let A=l.shift();for(;A;)u.push(A),A=l.length&&l[0]?.element===A.element.nextElementSibling&&l[0].id===A.id?l.shift():null;const w=document.createElement("ul");u.forEach((V=>{const G=document.createElement("li");G.setAttribute("data-list",V.type),V.indent>1&&G.setAttribute("class","ql-indent-"+(V.indent-1)),G.innerHTML=V.element.innerHTML,w.appendChild(G)}));const M=u[0]?.element,{parentNode:$}=M??{};M&&$?.replaceChild(w,M),u.slice(1).forEach((V=>{let{element:G}=V;$?.removeChild(G)}))}})(p)},function(p){p.querySelector('[id^="docs-internal-guid-"]')&&((m=>{Array.from(m.querySelectorAll('b[style*="font-weight"]')).filter((O=>O.getAttribute("style")?.match(Q))).forEach((O=>{const _=m.createDocumentFragment();_.append(...O.childNodes),O.parentNode?.replaceChild(_,O)}))})(p),(m=>{Array.from(m.querySelectorAll("br")).filter((O=>H(O.previousElementSibling)&&H(O.nextElementSibling))).forEach((O=>{O.parentNode?.removeChild(O)}))})(p))}],W=(0,L.A)("quill:clipboard"),nt=[[Node.TEXT_NODE,function(p,m,O){let _=p.data;if(p.parentElement?.tagName==="O:P")return m.insert(_.trim());if(!t(p)){if(_.trim().length===0&&_.includes(`
`)&&!(function(g,s){return g.previousElementSibling&&g.nextElementSibling&&!Y(g.previousElementSibling,s)&&!Y(g.nextElementSibling,s)})(p,O))return m;_=_.replace(/[^\S\u00a0]/g," "),_=_.replace(/ {2,}/g," "),(p.previousSibling==null&&p.parentElement!=null&&Y(p.parentElement,O)||p.previousSibling instanceof Element&&Y(p.previousSibling,O))&&(_=_.replace(/^ /,"")),(p.nextSibling==null&&p.parentElement!=null&&Y(p.parentElement,O)||p.nextSibling instanceof Element&&Y(p.nextSibling,O))&&(_=_.replace(/ $/,"")),_=_.replaceAll("\xA0"," ")}return m.insert(_)}],[Node.TEXT_NODE,S],["br",function(p,m){return Z(m,`
`)||m.insert(`
`),m}],[Node.ELEMENT_NODE,S],[Node.ELEMENT_NODE,function(p,m,O){const _=O.query(p);if(_==null)return m;if(_.prototype instanceof h.EmbedBlot){const g={},s=_.value(p);if(s!=null)return g[_.blotName]=s,new(E())().insert(g,_.formats(p,O))}else if(_.prototype instanceof h.BlockBlot&&!Z(m,`
`)&&m.insert(`
`),"blotName"in _&&"formats"in _&&typeof _.formats=="function")return X(m,_.blotName,_.formats(p,O),O);return m}],[Node.ELEMENT_NODE,function(p,m,O){const _=h.Attributor.keys(p),g=h.ClassAttributor.keys(p),s=h.StyleAttributor.keys(p),l={};return _.concat(g).concat(s).forEach((u=>{let A=O.query(u,h.Scope.ATTRIBUTE);A!=null&&(l[A.attrName]=A.value(p),l[A.attrName])||(A=tt[u],A==null||A.attrName!==u&&A.keyName!==u||(l[A.attrName]=A.value(p)||void 0),A=ct[u],A==null||A.attrName!==u&&A.keyName!==u||(A=ct[u],l[A.attrName]=A.value(p)||void 0))})),Object.entries(l).reduce(((u,A)=>{let[w,M]=A;return X(u,w,M,O)}),m)}],[Node.ELEMENT_NODE,function(p,m,O){const _={},g=p.style||{};return g.fontStyle==="italic"&&(_.italic=!0),g.textDecoration==="underline"&&(_.underline=!0),g.textDecoration==="line-through"&&(_.strike=!0),(g.fontWeight?.startsWith("bold")||parseInt(g.fontWeight,10)>=700)&&(_.bold=!0),m=Object.entries(_).reduce(((s,l)=>{let[u,A]=l;return X(s,u,A,O)}),m),parseFloat(g.textIndent||0)>0?new(E())().insert("	").concat(m):m}],["li",function(p,m,O){const _=O.query(p);if(_==null||_.blotName!=="list"||!Z(m,`
`))return m;let g=-1,s=p.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(g+=1),s=s.parentNode;return g<=0?m:m.reduce(((l,u)=>u.insert?u.attributes&&typeof u.attributes.indent=="number"?l.push(u):l.insert(u.insert,{indent:g,...u.attributes||{}}):l),new(E()))}],["ol, ul",function(p,m,O){const _=p;let g=_.tagName==="OL"?"ordered":"bullet";const s=_.getAttribute("data-checked");return s&&(g=s==="true"?"checked":"unchecked"),X(m,"list",g,O)}],["pre",function(p,m,O){const _=O.query("code-block");return X(m,"code-block",!_||!("formats"in _)||typeof _.formats!="function"||_.formats(p,O),O)}],["tr",function(p,m,O){const _=p.parentElement?.tagName==="TABLE"?p.parentElement:p.parentElement?.parentElement;return _!=null?X(m,"table",Array.from(_.querySelectorAll("tr")).indexOf(p)+1,O):m}],["b",r("bold")],["i",r("italic")],["strike",r("strike")],["style",function(){return new(E())}]],tt=[c.gS,b.Mc].reduce(((p,m)=>(p[m.keyName]=m,p)),{}),ct=[c.Hu,x.s,a.JM,b.VL,k.z,R.r].reduce(((p,m)=>(p[m.keyName]=m,p)),{});class ft extends o.A{static DEFAULTS={matchers:[]};constructor(m,O){super(m,O),this.quill.root.addEventListener("copy",(_=>this.onCaptureCopy(_,!1))),this.quill.root.addEventListener("cut",(_=>this.onCaptureCopy(_,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],nt.concat(this.options.matchers??[]).forEach((_=>{let[g,s]=_;this.addMatcher(g,s)}))}addMatcher(m,O){this.matchers.push([m,O])}convert(m){let{html:O,text:_}=m,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g[q.Ay.blotName])return new(E())().insert(_||"",{[q.Ay.blotName]:g[q.Ay.blotName]});if(!O)return new(E())().insert(_||"",g);const s=this.convertHTML(O);return Z(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||g.table)?s.compose(new(E())().retain(s.length()-1).delete(1)):s}normalizeHTML(m){(O=>{O.documentElement&&B.forEach((_=>{_(O)}))})(m)}convertHTML(m){const O=new DOMParser().parseFromString(m,"text/html");this.normalizeHTML(O);const _=O.body,g=new WeakMap,[s,l]=this.prepareMatching(_,g);return e(this.quill.scroll,_,s,l,g)}dangerouslyPasteHTML(m,O){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.Ay.sources.API;if(typeof m=="string"){const g=this.convert({html:m,text:""});this.quill.setContents(g,O),this.quill.setSelection(0,N.Ay.sources.SILENT)}else{const g=this.convert({html:O,text:""});this.quill.updateContents(new(E())().retain(m).concat(g),_),this.quill.setSelection(m+g.length(),N.Ay.sources.SILENT)}}onCaptureCopy(m){let O=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(m.defaultPrevented)return;m.preventDefault();const[_]=this.quill.selection.getRange();if(_==null)return;const{html:g,text:s}=this.onCopy(_,O);m.clipboardData?.setData("text/plain",s),m.clipboardData?.setData("text/html",g),O&&(0,P.Xo)({range:_,quill:this.quill})}normalizeURIList(m){return m.split(/\r?\n/).filter((O=>O[0]!=="#")).join(`
`)}onCapturePaste(m){if(m.defaultPrevented||!this.quill.isEnabled())return;m.preventDefault();const O=this.quill.getSelection(!0);if(O==null)return;const _=m.clipboardData?.getData("text/html");let g=m.clipboardData?.getData("text/plain");if(!_&&!g){const l=m.clipboardData?.getData("text/uri-list");l&&(g=this.normalizeURIList(l))}const s=Array.from(m.clipboardData?.files||[]);if(!_&&s.length>0)this.quill.uploader.upload(O,s);else{if(_&&s.length>0){const l=new DOMParser().parseFromString(_,"text/html");if(l.body.childElementCount===1&&l.body.firstElementChild?.tagName==="IMG")return void this.quill.uploader.upload(O,s)}this.onPaste(O,{html:_,text:g})}}onCopy(m){const O=this.quill.getText(m);return{html:this.quill.getSemanticHTML(m),text:O}}onPaste(m,O){let{text:_,html:g}=O;const s=this.quill.getFormat(m.index),l=this.convert({text:_,html:g},s);W.log("onPaste",l,{text:_,html:g});const u=new(E())().retain(m.index).delete(m.length).concat(l);this.quill.updateContents(u,N.Ay.sources.USER),this.quill.setSelection(u.length()-m.length,N.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(m,O){const _=[],g=[];return this.matchers.forEach((s=>{const[l,u]=s;switch(l){case Node.TEXT_NODE:g.push(u);break;case Node.ELEMENT_NODE:_.push(u);break;default:Array.from(m.querySelectorAll(l)).forEach((A=>{O.has(A)?O.get(A)?.push(u):O.set(A,[u])}))}})),[_,g]}}function X(p,m,O,_){return _.query(m)?p.reduce(((g,s)=>{if(!s.insert)return g;if(s.attributes&&s.attributes[m])return g.push(s);const l=O?{[m]:O}:{};return g.insert(s.insert,{...l,...s.attributes})}),new(E())):p}function Z(p,m){let O="";for(let _=p.ops.length-1;_>=0&&O.length<m.length;--_){const g=p.ops[_];if(typeof g.insert!="string")break;O=g.insert+O}return O.slice(-1*m.length)===m}function Y(p,m){if(!(p instanceof Element))return!1;const O=m.query(p);return!(O&&O.prototype instanceof h.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(p.tagName.toLowerCase())}const i=new WeakMap;function t(p){return p!=null&&(i.has(p)||(p.tagName==="PRE"?i.set(p,!0):i.set(p,t(p.parentNode))),i.get(p))}function e(p,m,O,_,g){return m.nodeType===m.TEXT_NODE?_.reduce(((s,l)=>l(m,s,p)),new(E())):m.nodeType===m.ELEMENT_NODE?Array.from(m.childNodes||[]).reduce(((s,l)=>{let u=e(p,l,O,_,g);return l.nodeType===m.ELEMENT_NODE&&(u=O.reduce(((A,w)=>w(l,A,p)),u),u=(g.get(l)||[]).reduce(((A,w)=>w(l,A,p)),u)),s.concat(u)}),new(E())):new(E())}function r(p){return(m,O,_)=>X(O,p,!0,_)}function S(p,m,O){if(!Z(m,`
`)){if(Y(p,O)&&(p.childNodes.length>0||p instanceof HTMLParagraphElement))return m.insert(`
`);if(m.length()>0&&p.nextSibling){let _=p.nextSibling;for(;_!=null;){if(Y(_,O))return m.insert(`
`);const g=O.query(_);if(g&&g.prototype instanceof y.zo)return m.insert(`
`);_=_.firstChild}}}return m}},8123:function(K,T,n){"use strict";n.d(T,{Ay:function(){return a},Xo:function(){return et}});var h=n(5123),v=n(3707),E=n(5232),y=n.n(E),L=n(6003),o=n(6142),N=n(6078),c=n(4266);const x=(0,N.A)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class a extends c.A{static match(f,j){return!["altKey","ctrlKey","metaKey","shiftKey"].some((F=>!!j[F]!==f[F]&&j[F]!==null))&&(j.key===f.key||j.key===f.which)}constructor(f,j){super(f,j),this.bindings={},Object.keys(this.options.bindings).forEach((F=>{this.options.bindings[F]&&this.addBinding(this.options.bindings[F])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(f){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const B=(function(W){if(typeof W=="string"||typeof W=="number")W={key:W};else{if(typeof W!="object")return null;W=(0,v.A)(W)}return W.shortKey&&(W[q]=W.shortKey,delete W.shortKey),W})(f);B!=null?(typeof j=="function"&&(j={handler:j}),typeof F=="function"&&(F={handler:F}),(Array.isArray(B.key)?B.key:[B.key]).forEach((W=>{const nt={...B,key:W,...j,...F};this.bindings[nt.key]=this.bindings[nt.key]||[],this.bindings[nt.key].push(nt)}))):x.warn("Attempted to add invalid keyboard binding",B)}listen(){this.quill.root.addEventListener("keydown",(f=>{if(f.defaultPrevented||f.isComposing||f.keyCode===229&&(f.key==="Enter"||f.key==="Backspace"))return;const j=(this.bindings[f.key]||[]).concat(this.bindings[f.which]||[]).filter((t=>a.match(f,t)));if(j.length===0)return;const F=o.Ay.find(f.target,!0);if(F&&F.scroll!==this.quill.scroll)return;const B=this.quill.getSelection();if(B==null||!this.quill.hasFocus())return;const[W,nt]=this.quill.getLine(B.index),[tt,ct]=this.quill.getLeaf(B.index),[ft,X]=B.length===0?[tt,ct]:this.quill.getLeaf(B.index+B.length),Z=tt instanceof L.TextBlot?tt.value().slice(0,ct):"",Y=ft instanceof L.TextBlot?ft.value().slice(X):"",i={collapsed:B.length===0,empty:B.length===0&&W.length()<=1,format:this.quill.getFormat(B),line:W,offset:nt,prefix:Z,suffix:Y,event:f};j.some((t=>{if(t.collapsed!=null&&t.collapsed!==i.collapsed||t.empty!=null&&t.empty!==i.empty||t.offset!=null&&t.offset!==i.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((e=>i.format[e]==null)))return!1}else if(typeof t.format=="object"&&!Object.keys(t.format).every((e=>t.format[e]===!0?i.format[e]!=null:t.format[e]===!1?i.format[e]==null:(0,h.A)(t.format[e],i.format[e]))))return!1;return!(t.prefix!=null&&!t.prefix.test(i.prefix)||t.suffix!=null&&!t.suffix.test(i.suffix)||t.handler.call(this,B,i,t)===!0)}))&&f.preventDefault()}))}handleBackspace(f,j){const F=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;if(f.index===0||this.quill.getLength()<=1)return;let B={};const[W]=this.quill.getLine(f.index);let nt=new(y())().retain(f.index-F).delete(F);if(j.offset===0){const[tt]=this.quill.getLine(f.index-1);if(tt&&!(tt.statics.blotName==="block"&&tt.length()<=1)){const ct=W.formats(),ft=this.quill.getFormat(f.index-1,1);if(B=E.AttributeMap.diff(ct,ft)||{},Object.keys(B).length>0){const X=new(y())().retain(f.index+W.length()-2).retain(1,B);nt=nt.compose(X)}}}this.quill.updateContents(nt,o.Ay.sources.USER),this.quill.focus()}handleDelete(f,j){const F=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(f.index>=this.quill.getLength()-F)return;let B={};const[W]=this.quill.getLine(f.index);let nt=new(y())().retain(f.index).delete(F);if(j.offset>=W.length()-1){const[tt]=this.quill.getLine(f.index+1);if(tt){const ct=W.formats(),ft=this.quill.getFormat(f.index,1);B=E.AttributeMap.diff(ct,ft)||{},Object.keys(B).length>0&&(nt=nt.retain(tt.length()-1).retain(1,B))}}this.quill.updateContents(nt,o.Ay.sources.USER),this.quill.focus()}handleDeleteRange(f){et({range:f,quill:this.quill}),this.quill.focus()}handleEnter(f,j){const F=Object.keys(j.format).reduce(((W,nt)=>(this.quill.scroll.query(nt,L.Scope.BLOCK)&&!Array.isArray(j.format[nt])&&(W[nt]=j.format[nt]),W)),{}),B=new(y())().retain(f.index).delete(f.length).insert(`
`,F);this.quill.updateContents(B,o.Ay.sources.USER),this.quill.setSelection(f.index+1,o.Ay.sources.SILENT),this.quill.focus()}}const b={bindings:{bold:P("bold"),italic:P("italic"),underline:P("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(H,f){return!(!f.collapsed||f.offset===0)||(this.quill.format("indent","+1",o.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(H,f){return!(!f.collapsed||f.offset===0)||(this.quill.format("indent","-1",o.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(H,f){f.format.indent!=null?this.quill.format("indent","-1",o.Ay.sources.USER):f.format.list!=null&&this.quill.format("list",!1,o.Ay.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(H){this.quill.deleteText(H.index-1,1,o.Ay.sources.USER)}},tab:{key:"Tab",handler(H,f){if(f.format.table)return!0;this.quill.history.cutoff();const j=new(y())().retain(H.index).delete(H.length).insert("	");return this.quill.updateContents(j,o.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,o.Ay.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,o.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(H,f){const j={list:!1};f.format.indent&&(j.indent=!1),this.quill.formatLine(H.index,H.length,j,o.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(H){const[f,j]=this.quill.getLine(H.index),F={...f.formats(),list:"checked"},B=new(y())().retain(H.index).insert(`
`,F).retain(f.length()-j-1).retain(1,{list:"unchecked"});this.quill.updateContents(B,o.Ay.sources.USER),this.quill.setSelection(H.index+1,o.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(H,f){const[j,F]=this.quill.getLine(H.index),B=new(y())().retain(H.index).insert(`
`,f.format).retain(j.length()-F-1).retain(1,{header:null});this.quill.updateContents(B,o.Ay.sources.USER),this.quill.setSelection(H.index+1,o.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(H){const f=this.quill.getModule("table");if(f){const[j,F,B,W]=f.getTable(H),nt=(function(ct,ft,X,Z){return ft.prev==null&&ft.next==null?X.prev==null&&X.next==null?Z===0?-1:1:X.prev==null?-1:1:ft.prev==null?-1:ft.next==null?1:null})(0,F,B,W);if(nt==null)return;let tt=j.offset();if(nt<0){const ct=new(y())().retain(tt).insert(`
`);this.quill.updateContents(ct,o.Ay.sources.USER),this.quill.setSelection(H.index+1,H.length,o.Ay.sources.SILENT)}else if(nt>0){tt+=j.length();const ct=new(y())().retain(tt).insert(`
`);this.quill.updateContents(ct,o.Ay.sources.USER),this.quill.setSelection(tt,o.Ay.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(H,f){const{event:j,line:F}=f,B=F.offset(this.quill.scroll);j.shiftKey?this.quill.setSelection(B-1,o.Ay.sources.USER):this.quill.setSelection(B+F.length(),o.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(H,f){if(this.quill.scroll.query("list")==null)return!0;const{length:j}=f.prefix,[F,B]=this.quill.getLine(H.index);if(B>j)return!0;let W;switch(f.prefix.trim()){case"[]":case"[ ]":W="unchecked";break;case"[x]":W="checked";break;case"-":case"*":W="bullet";break;default:W="ordered"}this.quill.insertText(H.index," ",o.Ay.sources.USER),this.quill.history.cutoff();const nt=new(y())().retain(H.index-B).delete(j+1).retain(F.length()-2-B).retain(1,{list:W});return this.quill.updateContents(nt,o.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-j,o.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(H){const[f,j]=this.quill.getLine(H.index);let F=2,B=f;for(;B!=null&&B.length()<=1&&B.formats()["code-block"];)if(B=B.prev,F-=1,F<=0){const W=new(y())().retain(H.index+f.length()-j-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(W,o.Ay.sources.USER),this.quill.setSelection(H.index-1,o.Ay.sources.SILENT),!1}return!0}},"embed left":R("ArrowLeft",!1),"embed left shift":R("ArrowLeft",!0),"embed right":R("ArrowRight",!1),"embed right shift":R("ArrowRight",!0),"table down":Q(!1),"table up":Q(!0)}};function k(H){return{key:"Tab",shiftKey:!H,format:{"code-block":!0},handler(f,j){let{event:F}=j;const B=this.quill.scroll.query("code-block"),{TAB:W}=B;if(f.length===0&&!F.shiftKey)return this.quill.insertText(f.index,W,o.Ay.sources.USER),void this.quill.setSelection(f.index+W.length,o.Ay.sources.SILENT);const nt=f.length===0?this.quill.getLines(f.index,1):this.quill.getLines(f);let{index:tt,length:ct}=f;nt.forEach(((ft,X)=>{H?(ft.insertAt(0,W),X===0?tt+=W.length:ct+=W.length):ft.domNode.textContent.startsWith(W)&&(ft.deleteAt(0,W.length),X===0?tt-=W.length:ct-=W.length)})),this.quill.update(o.Ay.sources.USER),this.quill.setSelection(tt,ct,o.Ay.sources.SILENT)}}}function R(H,f){return{key:H,shiftKey:f,altKey:null,[H==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(j){let{index:F}=j;H==="ArrowRight"&&(F+=j.length+1);const[B]=this.quill.getLeaf(F);return!(B instanceof L.EmbedBlot&&(H==="ArrowLeft"?f?this.quill.setSelection(j.index-1,j.length+1,o.Ay.sources.USER):this.quill.setSelection(j.index-1,o.Ay.sources.USER):f?this.quill.setSelection(j.index,j.length+1,o.Ay.sources.USER):this.quill.setSelection(j.index+j.length+1,o.Ay.sources.USER),1))}}}function P(H){return{key:H[0],shortKey:!0,handler(f,j){this.quill.format(H,!j.format[H],o.Ay.sources.USER)}}}function Q(H){return{key:H?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(f,j){const F=H?"prev":"next",B=j.line,W=B.parent[F];if(W!=null){if(W.statics.blotName==="table-row"){let nt=W.children.head,tt=B;for(;tt.prev!=null;)tt=tt.prev,nt=nt.next;const ct=nt.offset(this.quill.scroll)+Math.min(j.offset,nt.length()-1);this.quill.setSelection(ct,0,o.Ay.sources.USER)}}else{const nt=B.table()[F];nt!=null&&(H?this.quill.setSelection(nt.offset(this.quill.scroll)+nt.length()-1,0,o.Ay.sources.USER):this.quill.setSelection(nt.offset(this.quill.scroll),0,o.Ay.sources.USER))}return!1}}}function et(H){let{quill:f,range:j}=H;const F=f.getLines(j);let B={};if(F.length>1){const W=F[0].formats(),nt=F[F.length-1].formats();B=E.AttributeMap.diff(nt,W)||{}}f.deleteText(j,o.Ay.sources.USER),Object.keys(B).length>0&&f.formatLine(j.index,1,B,o.Ay.sources.USER),f.setSelection(j.index,o.Ay.sources.SILENT)}a.DEFAULTS=b},8920:function(K){"use strict";var T=Object.prototype.hasOwnProperty,n="~";function h(){}function v(o,N,c){this.fn=o,this.context=N,this.once=c||!1}function E(o,N,c,x,q){if(typeof c!="function")throw new TypeError("The listener must be a function");var a=new v(c,x||o,q),b=n?n+N:N;return o._events[b]?o._events[b].fn?o._events[b]=[o._events[b],a]:o._events[b].push(a):(o._events[b]=a,o._eventsCount++),o}function y(o,N){--o._eventsCount==0?o._events=new h:delete o._events[N]}function L(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(n=!1)),L.prototype.eventNames=function(){var o,N,c=[];if(this._eventsCount===0)return c;for(N in o=this._events)T.call(o,N)&&c.push(n?N.slice(1):N);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(o)):c},L.prototype.listeners=function(o){var N=n?n+o:o,c=this._events[N];if(!c)return[];if(c.fn)return[c.fn];for(var x=0,q=c.length,a=new Array(q);x<q;x++)a[x]=c[x].fn;return a},L.prototype.listenerCount=function(o){var N=n?n+o:o,c=this._events[N];return c?c.fn?1:c.length:0},L.prototype.emit=function(o,N,c,x,q,a){var b=n?n+o:o;if(!this._events[b])return!1;var k,R,P=this._events[b],Q=arguments.length;if(P.fn){switch(P.once&&this.removeListener(o,P.fn,void 0,!0),Q){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,N),!0;case 3:return P.fn.call(P.context,N,c),!0;case 4:return P.fn.call(P.context,N,c,x),!0;case 5:return P.fn.call(P.context,N,c,x,q),!0;case 6:return P.fn.call(P.context,N,c,x,q,a),!0}for(R=1,k=new Array(Q-1);R<Q;R++)k[R-1]=arguments[R];P.fn.apply(P.context,k)}else{var et,H=P.length;for(R=0;R<H;R++)switch(P[R].once&&this.removeListener(o,P[R].fn,void 0,!0),Q){case 1:P[R].fn.call(P[R].context);break;case 2:P[R].fn.call(P[R].context,N);break;case 3:P[R].fn.call(P[R].context,N,c);break;case 4:P[R].fn.call(P[R].context,N,c,x);break;default:if(!k)for(et=1,k=new Array(Q-1);et<Q;et++)k[et-1]=arguments[et];P[R].fn.apply(P[R].context,k)}}return!0},L.prototype.on=function(o,N,c){return E(this,o,N,c,!1)},L.prototype.once=function(o,N,c){return E(this,o,N,c,!0)},L.prototype.removeListener=function(o,N,c,x){var q=n?n+o:o;if(!this._events[q])return this;if(!N)return y(this,q),this;var a=this._events[q];if(a.fn)a.fn!==N||x&&!a.once||c&&a.context!==c||y(this,q);else{for(var b=0,k=[],R=a.length;b<R;b++)(a[b].fn!==N||x&&!a[b].once||c&&a[b].context!==c)&&k.push(a[b]);k.length?this._events[q]=k.length===1?k[0]:k:y(this,q)}return this},L.prototype.removeAllListeners=function(o){var N;return o?(N=n?n+o:o,this._events[N]&&y(this,N)):(this._events=new h,this._eventsCount=0),this},L.prototype.off=L.prototype.removeListener,L.prototype.addListener=L.prototype.on,L.prefixed=n,L.EventEmitter=L,K.exports=L},5090:function(K){var T=-1,n=1,h=0;function v(f,j,F,B,W){if(f===j)return f?[[h,f]]:[];if(F!=null){var nt=(function(Z,Y,i){var t=typeof i=="number"?{index:i,length:0}:i.oldRange,e=typeof i=="number"?null:i.newRange,r=Z.length,S=Y.length;if(t.length===0&&(e===null||e.length===0)){var p=t.index,m=Z.slice(0,p),O=Z.slice(p),_=e?e.index:null,g=p+S-r;if((_===null||_===g)&&!(g<0||g>S)){var s=Y.slice(0,g);if((A=Y.slice(g))===O){var l=Math.min(p,g);if((M=m.slice(0,l))===(V=s.slice(0,l)))return et(M,m.slice(l),s.slice(l),O)}}if(_===null||_===p){var u=p,A=(s=Y.slice(0,u),Y.slice(u));if(s===m){var w=Math.min(r-u,S-u);if(($=O.slice(O.length-w))===(G=A.slice(A.length-w)))return et(m,O.slice(0,O.length-w),A.slice(0,A.length-w),$)}}}if(t.length>0&&e&&e.length===0){var M=Z.slice(0,t.index),$=Z.slice(t.index+t.length);if(!(S<(l=M.length)+(w=$.length))){var V=Y.slice(0,l),G=Y.slice(S-w);if(M===V&&$===G)return et(M,Z.slice(l,r-w),Y.slice(l,S-w),$)}}return null})(f,j,F);if(nt)return nt}var tt=y(f,j),ct=f.substring(0,tt);tt=o(f=f.substring(tt),j=j.substring(tt));var ft=f.substring(f.length-tt),X=(function(Z,Y){var i;if(!Z)return[[n,Y]];if(!Y)return[[T,Z]];var t=Z.length>Y.length?Z:Y,e=Z.length>Y.length?Y:Z,r=t.indexOf(e);if(r!==-1)return i=[[n,t.substring(0,r)],[h,e],[n,t.substring(r+e.length)]],Z.length>Y.length&&(i[0][0]=i[2][0]=T),i;if(e.length===1)return[[T,Z],[n,Y]];var S=(function(u,A){var w=u.length>A.length?u:A,M=u.length>A.length?A:u;if(w.length<4||2*M.length<w.length)return null;function $(dt,xt,Tt){for(var _t,lt,gt,At,kt=dt.substring(Tt,Tt+Math.floor(dt.length/4)),Nt=-1,qt="";(Nt=xt.indexOf(kt,Nt+1))!==-1;){var Ut=y(dt.substring(Tt),xt.substring(Nt)),Pt=o(dt.substring(0,Tt),xt.substring(0,Nt));qt.length<Pt+Ut&&(qt=xt.substring(Nt-Pt,Nt)+xt.substring(Nt,Nt+Ut),_t=dt.substring(0,Tt-Pt),lt=dt.substring(Tt+Ut),gt=xt.substring(0,Nt-Pt),At=xt.substring(Nt+Ut))}return 2*qt.length>=dt.length?[_t,lt,gt,At,qt]:null}var V,G,rt,it,st,pt=$(w,M,Math.ceil(w.length/4)),ut=$(w,M,Math.ceil(w.length/2));return pt||ut?(V=ut?pt&&pt[4].length>ut[4].length?pt:ut:pt,u.length>A.length?(G=V[0],rt=V[1],it=V[2],st=V[3]):(it=V[0],st=V[1],G=V[2],rt=V[3]),[G,rt,it,st,V[4]]):null})(Z,Y);if(S){var p=S[0],m=S[1],O=S[2],_=S[3],g=S[4],s=v(p,O),l=v(m,_);return s.concat([[h,g]],l)}return(function(u,A){for(var w=u.length,M=A.length,$=Math.ceil((w+M)/2),V=$,G=2*$,rt=new Array(G),it=new Array(G),st=0;st<G;st++)rt[st]=-1,it[st]=-1;rt[V+1]=0,it[V+1]=0;for(var pt=w-M,ut=pt%2!=0,dt=0,xt=0,Tt=0,_t=0,lt=0;lt<$;lt++){for(var gt=-lt+dt;gt<=lt-xt;gt+=2){for(var At=V+gt,kt=(Ct=gt===-lt||gt!==lt&&rt[At-1]<rt[At+1]?rt[At+1]:rt[At-1]+1)-gt;Ct<w&&kt<M&&u.charAt(Ct)===A.charAt(kt);)Ct++,kt++;if(rt[At]=Ct,Ct>w)xt+=2;else if(kt>M)dt+=2;else if(ut&&(Ut=V+pt-gt)>=0&&Ut<G&&it[Ut]!==-1&&Ct>=(qt=w-it[Ut]))return E(u,A,Ct,kt)}for(var Nt=-lt+Tt;Nt<=lt-_t;Nt+=2){for(var qt,Ut=V+Nt,Pt=(qt=Nt===-lt||Nt!==lt&&it[Ut-1]<it[Ut+1]?it[Ut+1]:it[Ut-1]+1)-Nt;qt<w&&Pt<M&&u.charAt(w-qt-1)===A.charAt(M-Pt-1);)qt++,Pt++;if(it[Ut]=qt,qt>w)_t+=2;else if(Pt>M)Tt+=2;else if(!ut){var Ct;if((At=V+pt-Nt)>=0&&At<G&&rt[At]!==-1&&(kt=V+(Ct=rt[At])-At,Ct>=(qt=w-qt)))return E(u,A,Ct,kt)}}}return[[T,u],[n,A]]})(Z,Y)})(f=f.substring(0,f.length-tt),j=j.substring(0,j.length-tt));return ct&&X.unshift([h,ct]),ft&&X.push([h,ft]),b(X,W),B&&(function(Z){for(var Y=!1,i=[],t=0,e=null,r=0,S=0,p=0,m=0,O=0;r<Z.length;)Z[r][0]==h?(i[t++]=r,S=m,p=O,m=0,O=0,e=Z[r][1]):(Z[r][0]==n?m+=Z[r][1].length:O+=Z[r][1].length,e&&e.length<=Math.max(S,p)&&e.length<=Math.max(m,O)&&(Z.splice(i[t-1],0,[T,e]),Z[i[t-1]+1][0]=n,t--,r=--t>0?i[t-1]:-1,S=0,p=0,m=0,O=0,e=null,Y=!0)),r++;for(Y&&b(Z),(function(u){function A(xt,Tt){if(!xt||!Tt)return 6;var _t=xt.charAt(xt.length-1),lt=Tt.charAt(0),gt=_t.match(N),At=lt.match(N),kt=gt&&_t.match(c),Nt=At&&lt.match(c),qt=kt&&_t.match(x),Ut=Nt&&lt.match(x),Pt=qt&&xt.match(q),Ct=Ut&&Tt.match(a);return Pt||Ct?5:qt||Ut?4:gt&&!kt&&Nt?3:kt||Nt?2:gt||At?1:0}for(var w=1;w<u.length-1;){if(u[w-1][0]==h&&u[w+1][0]==h){var M=u[w-1][1],$=u[w][1],V=u[w+1][1],G=o(M,$);if(G){var rt=$.substring($.length-G);M=M.substring(0,M.length-G),$=rt+$.substring(0,$.length-G),V=rt+V}for(var it=M,st=$,pt=V,ut=A(M,$)+A($,V);$.charAt(0)===V.charAt(0);){M+=$.charAt(0),$=$.substring(1)+V.charAt(0),V=V.substring(1);var dt=A(M,$)+A($,V);dt>=ut&&(ut=dt,it=M,st=$,pt=V)}u[w-1][1]!=it&&(it?u[w-1][1]=it:(u.splice(w-1,1),w--),u[w][1]=st,pt?u[w+1][1]=pt:(u.splice(w+1,1),w--))}w++}})(Z),r=1;r<Z.length;){if(Z[r-1][0]==T&&Z[r][0]==n){var _=Z[r-1][1],g=Z[r][1],s=L(_,g),l=L(g,_);s>=l?(s>=_.length/2||s>=g.length/2)&&(Z.splice(r,0,[h,g.substring(0,s)]),Z[r-1][1]=_.substring(0,_.length-s),Z[r+1][1]=g.substring(s),r++):(l>=_.length/2||l>=g.length/2)&&(Z.splice(r,0,[h,_.substring(0,l)]),Z[r-1][0]=n,Z[r-1][1]=g.substring(0,g.length-l),Z[r+1][0]=T,Z[r+1][1]=_.substring(l),r++),r++}r++}})(X),X}function E(f,j,F,B){var W=f.substring(0,F),nt=j.substring(0,B),tt=f.substring(F),ct=j.substring(B),ft=v(W,nt),X=v(tt,ct);return ft.concat(X)}function y(f,j){if(!f||!j||f.charAt(0)!==j.charAt(0))return 0;for(var F=0,B=Math.min(f.length,j.length),W=B,nt=0;F<W;)f.substring(nt,W)==j.substring(nt,W)?nt=F=W:B=W,W=Math.floor((B-F)/2+F);return k(f.charCodeAt(W-1))&&W--,W}function L(f,j){var F=f.length,B=j.length;if(F==0||B==0)return 0;F>B?f=f.substring(F-B):F<B&&(j=j.substring(0,F));var W=Math.min(F,B);if(f==j)return W;for(var nt=0,tt=1;;){var ct=f.substring(W-tt),ft=j.indexOf(ct);if(ft==-1)return nt;tt+=ft,ft!=0&&f.substring(W-tt)!=j.substring(0,tt)||(nt=tt,tt++)}}function o(f,j){if(!f||!j||f.slice(-1)!==j.slice(-1))return 0;for(var F=0,B=Math.min(f.length,j.length),W=B,nt=0;F<W;)f.substring(f.length-W,f.length-nt)==j.substring(j.length-W,j.length-nt)?nt=F=W:B=W,W=Math.floor((B-F)/2+F);return R(f.charCodeAt(f.length-W))&&W--,W}var N=/[^a-zA-Z0-9]/,c=/\s/,x=/[\r\n]/,q=/\n\r?\n$/,a=/^\r?\n\r?\n/;function b(f,j){f.push([h,""]);for(var F,B=0,W=0,nt=0,tt="",ct="";B<f.length;)if(B<f.length-1&&!f[B][1])f.splice(B,1);else switch(f[B][0]){case n:nt++,ct+=f[B][1],B++;break;case T:W++,tt+=f[B][1],B++;break;case h:var ft=B-nt-W-1;if(j){if(ft>=0&&Q(f[ft][1])){var X=f[ft][1].slice(-1);if(f[ft][1]=f[ft][1].slice(0,-1),tt=X+tt,ct=X+ct,!f[ft][1]){f.splice(ft,1),B--;var Z=ft-1;f[Z]&&f[Z][0]===n&&(nt++,ct=f[Z][1]+ct,Z--),f[Z]&&f[Z][0]===T&&(W++,tt=f[Z][1]+tt,Z--),ft=Z}}P(f[B][1])&&(X=f[B][1].charAt(0),f[B][1]=f[B][1].slice(1),tt+=X,ct+=X)}if(B<f.length-1&&!f[B][1]){f.splice(B,1);break}if(tt.length>0||ct.length>0){tt.length>0&&ct.length>0&&((F=y(ct,tt))!==0&&(ft>=0?f[ft][1]+=ct.substring(0,F):(f.splice(0,0,[h,ct.substring(0,F)]),B++),ct=ct.substring(F),tt=tt.substring(F)),(F=o(ct,tt))!==0&&(f[B][1]=ct.substring(ct.length-F)+f[B][1],ct=ct.substring(0,ct.length-F),tt=tt.substring(0,tt.length-F)));var Y=nt+W;tt.length===0&&ct.length===0?(f.splice(B-Y,Y),B-=Y):tt.length===0?(f.splice(B-Y,Y,[n,ct]),B=B-Y+1):ct.length===0?(f.splice(B-Y,Y,[T,tt]),B=B-Y+1):(f.splice(B-Y,Y,[T,tt],[n,ct]),B=B-Y+2)}B!==0&&f[B-1][0]===h?(f[B-1][1]+=f[B][1],f.splice(B,1)):B++,nt=0,W=0,tt="",ct=""}f[f.length-1][1]===""&&f.pop();var i=!1;for(B=1;B<f.length-1;)f[B-1][0]===h&&f[B+1][0]===h&&(f[B][1].substring(f[B][1].length-f[B-1][1].length)===f[B-1][1]?(f[B][1]=f[B-1][1]+f[B][1].substring(0,f[B][1].length-f[B-1][1].length),f[B+1][1]=f[B-1][1]+f[B+1][1],f.splice(B-1,1),i=!0):f[B][1].substring(0,f[B+1][1].length)==f[B+1][1]&&(f[B-1][1]+=f[B+1][1],f[B][1]=f[B][1].substring(f[B+1][1].length)+f[B+1][1],f.splice(B+1,1),i=!0)),B++;i&&b(f,j)}function k(f){return f>=55296&&f<=56319}function R(f){return f>=56320&&f<=57343}function P(f){return R(f.charCodeAt(0))}function Q(f){return k(f.charCodeAt(f.length-1))}function et(f,j,F,B){return Q(f)||P(B)?null:(function(W){for(var nt=[],tt=0;tt<W.length;tt++)W[tt][1].length>0&&nt.push(W[tt]);return nt})([[h,f],[T,j],[n,F],[h,B]])}function H(f,j,F,B){return v(f,j,F,B,!0)}H.INSERT=n,H.DELETE=T,H.EQUAL=h,K.exports=H},9629:function(K,T,n){K=n.nmd(K);var h="__lodash_hash_undefined__",v=9007199254740991,E="[object Arguments]",y="[object Boolean]",L="[object Date]",o="[object Function]",N="[object GeneratorFunction]",c="[object Map]",x="[object Number]",q="[object Object]",a="[object Promise]",b="[object RegExp]",k="[object Set]",R="[object String]",P="[object Symbol]",Q="[object WeakMap]",et="[object ArrayBuffer]",H="[object DataView]",f="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",W="[object Int32Array]",nt="[object Uint8Array]",tt="[object Uint8ClampedArray]",ct="[object Uint16Array]",ft="[object Uint32Array]",X=/\w*$/,Z=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,i={};i[E]=i["[object Array]"]=i[et]=i[H]=i[y]=i[L]=i[f]=i[j]=i[F]=i[B]=i[W]=i[c]=i[x]=i[q]=i[b]=i[k]=i[R]=i[P]=i[nt]=i[tt]=i[ct]=i[ft]=!0,i["[object Error]"]=i[o]=i[Q]=!1;var t=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g,e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")(),S=T&&!T.nodeType&&T,p=S&&K&&!K.nodeType&&K,m=p&&p.exports===S;function O(D,d){return D.set(d[0],d[1]),D}function _(D,d){return D.add(d),D}function g(D,d,C,z){var ot=-1,wt=D?D.length:0;for(z&&wt&&(C=D[++ot]);++ot<wt;)C=d(C,D[ot],ot,D);return C}function s(D){var d=!1;if(D!=null&&typeof D.toString!="function")try{d=!!(D+"")}catch{}return d}function l(D){var d=-1,C=Array(D.size);return D.forEach((function(z,ot){C[++d]=[ot,z]})),C}function u(D,d){return function(C){return D(d(C))}}function A(D){var d=-1,C=Array(D.size);return D.forEach((function(z){C[++d]=z})),C}var w,M=Array.prototype,$=Function.prototype,V=Object.prototype,G=r["__core-js_shared__"],rt=(w=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",it=$.toString,st=V.hasOwnProperty,pt=V.toString,ut=RegExp("^"+it.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=m?r.Buffer:void 0,xt=r.Symbol,Tt=r.Uint8Array,_t=u(Object.getPrototypeOf,Object),lt=Object.create,gt=V.propertyIsEnumerable,At=M.splice,kt=Object.getOwnPropertySymbols,Nt=dt?dt.isBuffer:void 0,qt=u(Object.keys,Object),Ut=U(r,"DataView"),Pt=U(r,"Map"),Ct=U(r,"Promise"),Ae=U(r,"Set"),Ne=U(r,"WeakMap"),he=U(Object,"create"),ke=It(Ut),Oe=It(Pt),we=It(Ct),de=It(Ae),se=It(Ne),Gt=xt?xt.prototype:void 0,ee=Gt?Gt.valueOf:void 0;function Zt(D){var d=-1,C=D?D.length:0;for(this.clear();++d<C;){var z=D[d];this.set(z[0],z[1])}}function Ht(D){var d=-1,C=D?D.length:0;for(this.clear();++d<C;){var z=D[d];this.set(z[0],z[1])}}function Yt(D){var d=-1,C=D?D.length:0;for(this.clear();++d<C;){var z=D[d];this.set(z[0],z[1])}}function Xt(D){this.__data__=new Ht(D)}function xe(D,d,C){var z=D[d];st.call(D,d)&&Wt(z,C)&&(C!==void 0||d in D)||(D[d]=C)}function ce(D,d){for(var C=D.length;C--;)if(Wt(D[C][0],d))return C;return-1}function be(D,d,C,z,ot,wt,mt){var vt;if(z&&(vt=wt?z(D,ot,wt,mt):z(D)),vt!==void 0)return vt;if(!ne(D))return D;var Mt=Jt(D);if(Mt){if(vt=(function(bt){var Et=bt.length,Lt=bt.constructor(Et);return Et&&typeof bt[0]=="string"&&st.call(bt,"index")&&(Lt.index=bt.index,Lt.input=bt.input),Lt})(D),!d)return(function(bt,Et){var Lt=-1,$t=bt.length;for(Et||(Et=Array($t));++Lt<$t;)Et[Lt]=bt[Lt];return Et})(D,vt)}else{var Rt=ht(D),Vt=Rt==o||Rt==N;if(ue(D))return(function(bt,Et){if(Et)return bt.slice();var Lt=new bt.constructor(bt.length);return bt.copy(Lt),Lt})(D,d);if(Rt==q||Rt==E||Vt&&!wt){if(s(D))return wt?D:{};if(vt=(function(bt){return typeof bt.constructor!="function"||Ot(bt)?{}:ne(Et=_t(bt))?lt(Et):{};var Et})(Vt?{}:D),!d)return(function(bt,Et){return at(bt,J(bt),Et)})(D,(function(bt,Et){return bt&&at(Et,fe(Et),bt)})(vt,D))}else{if(!i[Rt])return wt?D:{};vt=(function(bt,Et,Lt,$t){var oe,Qt=bt.constructor;switch(Et){case et:return ye(bt);case y:case L:return new Qt(+bt);case H:return(function(St,Kt){var re=Kt?ye(St.buffer):St.buffer;return new St.constructor(re,St.byteOffset,St.byteLength)})(bt,$t);case f:case j:case F:case B:case W:case nt:case tt:case ct:case ft:return(function(St,Kt){var re=Kt?ye(St.buffer):St.buffer;return new St.constructor(re,St.byteOffset,St.length)})(bt,$t);case c:return(function(St,Kt,re){return g(Kt?re(l(St),!0):l(St),O,new St.constructor)})(bt,$t,Lt);case x:case R:return new Qt(bt);case b:return(function(St){var Kt=new St.constructor(St.source,X.exec(St));return Kt.lastIndex=St.lastIndex,Kt})(bt);case k:return(function(St,Kt,re){return g(Kt?re(A(St),!0):A(St),_,new St.constructor)})(bt,$t,Lt);case P:return oe=bt,ee?Object(ee.call(oe)):{}}})(D,Rt,be,d)}}mt||(mt=new Xt);var zt=mt.get(D);if(zt)return zt;if(mt.set(D,vt),!Mt)var Ft=C?(function(bt){return(function(Et,Lt,$t){var oe=Lt(Et);return Jt(Et)?oe:(function(Qt,St){for(var Kt=-1,re=St.length,Me=Qt.length;++Kt<re;)Qt[Me+Kt]=St[Kt];return Qt})(oe,$t(Et))})(bt,fe,J)})(D):fe(D);return(function(bt,Et){for(var Lt=-1,$t=bt?bt.length:0;++Lt<$t&&Et(bt[Lt],Lt)!==!1;);})(Ft||D,(function(bt,Et){Ft&&(bt=D[Et=bt]),xe(vt,Et,be(bt,d,C,z,Et,D,mt))})),vt}function ye(D){var d=new D.constructor(D.byteLength);return new Tt(d).set(new Tt(D)),d}function at(D,d,C,z){C||(C={});for(var ot=-1,wt=d.length;++ot<wt;){var mt=d[ot],vt=z?z(C[mt],D[mt],mt,C,D):void 0;xe(C,mt,vt===void 0?D[mt]:vt)}return C}function I(D,d){var C,z,ot=D.__data__;return((z=typeof(C=d))=="string"||z=="number"||z=="symbol"||z=="boolean"?C!=="__proto__":C===null)?ot[typeof d=="string"?"string":"hash"]:ot.map}function U(D,d){var C=(function(z,ot){return z?.[ot]})(D,d);return(function(z){return!(!ne(z)||(ot=z,rt&&rt in ot))&&(Ee(z)||s(z)?ut:Z).test(It(z));var ot})(C)?C:void 0}Zt.prototype.clear=function(){this.__data__=he?he(null):{}},Zt.prototype.delete=function(D){return this.has(D)&&delete this.__data__[D]},Zt.prototype.get=function(D){var d=this.__data__;if(he){var C=d[D];return C===h?void 0:C}return st.call(d,D)?d[D]:void 0},Zt.prototype.has=function(D){var d=this.__data__;return he?d[D]!==void 0:st.call(d,D)},Zt.prototype.set=function(D,d){return this.__data__[D]=he&&d===void 0?h:d,this},Ht.prototype.clear=function(){this.__data__=[]},Ht.prototype.delete=function(D){var d=this.__data__,C=ce(d,D);return!(C<0||(C==d.length-1?d.pop():At.call(d,C,1),0))},Ht.prototype.get=function(D){var d=this.__data__,C=ce(d,D);return C<0?void 0:d[C][1]},Ht.prototype.has=function(D){return ce(this.__data__,D)>-1},Ht.prototype.set=function(D,d){var C=this.__data__,z=ce(C,D);return z<0?C.push([D,d]):C[z][1]=d,this},Yt.prototype.clear=function(){this.__data__={hash:new Zt,map:new(Pt||Ht),string:new Zt}},Yt.prototype.delete=function(D){return I(this,D).delete(D)},Yt.prototype.get=function(D){return I(this,D).get(D)},Yt.prototype.has=function(D){return I(this,D).has(D)},Yt.prototype.set=function(D,d){return I(this,D).set(D,d),this},Xt.prototype.clear=function(){this.__data__=new Ht},Xt.prototype.delete=function(D){return this.__data__.delete(D)},Xt.prototype.get=function(D){return this.__data__.get(D)},Xt.prototype.has=function(D){return this.__data__.has(D)},Xt.prototype.set=function(D,d){var C=this.__data__;if(C instanceof Ht){var z=C.__data__;if(!Pt||z.length<199)return z.push([D,d]),this;C=this.__data__=new Yt(z)}return C.set(D,d),this};var J=kt?u(kt,Object):function(){return[]},ht=function(D){return pt.call(D)};function yt(D,d){return!!(d=d??v)&&(typeof D=="number"||Y.test(D))&&D>-1&&D%1==0&&D<d}function Ot(D){var d=D&&D.constructor;return D===(typeof d=="function"&&d.prototype||V)}function It(D){if(D!=null){try{return it.call(D)}catch{}try{return D+""}catch{}}return""}function Wt(D,d){return D===d||D!=D&&d!=d}(Ut&&ht(new Ut(new ArrayBuffer(1)))!=H||Pt&&ht(new Pt)!=c||Ct&&ht(Ct.resolve())!=a||Ae&&ht(new Ae)!=k||Ne&&ht(new Ne)!=Q)&&(ht=function(D){var d=pt.call(D),C=d==q?D.constructor:void 0,z=C?It(C):void 0;if(z)switch(z){case ke:return H;case Oe:return c;case we:return a;case de:return k;case se:return Q}return d});var Jt=Array.isArray;function ie(D){return D!=null&&(function(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=v})(D.length)&&!Ee(D)}var ue=Nt||function(){return!1};function Ee(D){var d=ne(D)?pt.call(D):"";return d==o||d==N}function ne(D){var d=typeof D;return!!D&&(d=="object"||d=="function")}function fe(D){return ie(D)?(function(d,C){var z=Jt(d)||(function(vt){return(function(Mt){return(function(Rt){return!!Rt&&typeof Rt=="object"})(Mt)&&ie(Mt)})(vt)&&st.call(vt,"callee")&&(!gt.call(vt,"callee")||pt.call(vt)==E)})(d)?(function(vt,Mt){for(var Rt=-1,Vt=Array(vt);++Rt<vt;)Vt[Rt]=Mt(Rt);return Vt})(d.length,String):[],ot=z.length,wt=!!ot;for(var mt in d)!C&&!st.call(d,mt)||wt&&(mt=="length"||yt(mt,ot))||z.push(mt);return z})(D):(function(d){if(!Ot(d))return qt(d);var C=[];for(var z in Object(d))st.call(d,z)&&z!="constructor"&&C.push(z);return C})(D)}K.exports=function(D){return be(D,!0,!0)}},4162:function(K,T,n){K=n.nmd(K);var h="__lodash_hash_undefined__",v=1,E=2,y=9007199254740991,L="[object Arguments]",o="[object Array]",N="[object AsyncFunction]",c="[object Boolean]",x="[object Date]",q="[object Error]",a="[object Function]",b="[object GeneratorFunction]",k="[object Map]",R="[object Number]",P="[object Null]",Q="[object Object]",et="[object Promise]",H="[object Proxy]",f="[object RegExp]",j="[object Set]",F="[object String]",B="[object Undefined]",W="[object WeakMap]",nt="[object ArrayBuffer]",tt="[object DataView]",ct=/^\[object .+?Constructor\]$/,ft=/^(?:0|[1-9]\d*)$/,X={};X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X[L]=X[o]=X[nt]=X[c]=X[tt]=X[x]=X[q]=X[a]=X[k]=X[R]=X[Q]=X[f]=X[j]=X[F]=X[W]=!1;var Z=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g,Y=typeof self=="object"&&self&&self.Object===Object&&self,i=Z||Y||Function("return this")(),t=T&&!T.nodeType&&T,e=t&&K&&!K.nodeType&&K,r=e&&e.exports===t,S=r&&Z.process,p=(function(){try{return S&&S.binding&&S.binding("util")}catch{}})(),m=p&&p.isTypedArray;function O(d,C){for(var z=-1,ot=d==null?0:d.length;++z<ot;)if(C(d[z],z,d))return!0;return!1}function _(d){var C=-1,z=Array(d.size);return d.forEach((function(ot,wt){z[++C]=[wt,ot]})),z}function g(d){var C=-1,z=Array(d.size);return d.forEach((function(ot){z[++C]=ot})),z}var s,l,u,A=Array.prototype,w=Function.prototype,M=Object.prototype,$=i["__core-js_shared__"],V=w.toString,G=M.hasOwnProperty,rt=(s=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",it=M.toString,st=RegExp("^"+V.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pt=r?i.Buffer:void 0,ut=i.Symbol,dt=i.Uint8Array,xt=M.propertyIsEnumerable,Tt=A.splice,_t=ut?ut.toStringTag:void 0,lt=Object.getOwnPropertySymbols,gt=pt?pt.isBuffer:void 0,At=(l=Object.keys,u=Object,function(d){return l(u(d))}),kt=I(i,"DataView"),Nt=I(i,"Map"),qt=I(i,"Promise"),Ut=I(i,"Set"),Pt=I(i,"WeakMap"),Ct=I(Object,"create"),Ae=yt(kt),Ne=yt(Nt),he=yt(qt),ke=yt(Ut),Oe=yt(Pt),we=ut?ut.prototype:void 0,de=we?we.valueOf:void 0;function se(d){var C=-1,z=d==null?0:d.length;for(this.clear();++C<z;){var ot=d[C];this.set(ot[0],ot[1])}}function Gt(d){var C=-1,z=d==null?0:d.length;for(this.clear();++C<z;){var ot=d[C];this.set(ot[0],ot[1])}}function ee(d){var C=-1,z=d==null?0:d.length;for(this.clear();++C<z;){var ot=d[C];this.set(ot[0],ot[1])}}function Zt(d){var C=-1,z=d==null?0:d.length;for(this.__data__=new ee;++C<z;)this.add(d[C])}function Ht(d){var C=this.__data__=new Gt(d);this.size=C.size}function Yt(d,C){for(var z=d.length;z--;)if(Ot(d[z][0],C))return z;return-1}function Xt(d){return d==null?d===void 0?B:P:_t&&_t in Object(d)?(function(C){var z=G.call(C,_t),ot=C[_t];try{C[_t]=void 0;var wt=!0}catch{}var mt=it.call(C);return wt&&(z?C[_t]=ot:delete C[_t]),mt})(d):(function(C){return it.call(C)})(d)}function xe(d){return ne(d)&&Xt(d)==L}function ce(d,C,z,ot,wt){return d===C||(d==null||C==null||!ne(d)&&!ne(C)?d!=d&&C!=C:(function(mt,vt,Mt,Rt,Vt,zt){var Ft=Wt(mt),bt=Wt(vt),Et=Ft?o:J(mt),Lt=bt?o:J(vt),$t=(Et=Et==L?Q:Et)==Q,oe=(Lt=Lt==L?Q:Lt)==Q,Qt=Et==Lt;if(Qt&&Jt(mt)){if(!Jt(vt))return!1;Ft=!0,$t=!1}if(Qt&&!$t)return zt||(zt=new Ht),Ft||fe(mt)?be(mt,vt,Mt,Rt,Vt,zt):(function(Dt,Bt,Le,pe,De,te,le){switch(Le){case tt:if(Dt.byteLength!=Bt.byteLength||Dt.byteOffset!=Bt.byteOffset)return!1;Dt=Dt.buffer,Bt=Bt.buffer;case nt:return!(Dt.byteLength!=Bt.byteLength||!te(new dt(Dt),new dt(Bt)));case c:case x:case R:return Ot(+Dt,+Bt);case q:return Dt.name==Bt.name&&Dt.message==Bt.message;case f:case F:return Dt==Bt+"";case k:var ge=_;case j:var _e=pe&v;if(ge||(ge=g),Dt.size!=Bt.size&&!_e)return!1;var ve=le.get(Dt);if(ve)return ve==Bt;pe|=E,le.set(Dt,Bt);var ae=be(ge(Dt),ge(Bt),pe,De,te,le);return le.delete(Dt),ae;case"[object Symbol]":if(de)return de.call(Dt)==de.call(Bt)}return!1})(mt,vt,Et,Mt,Rt,Vt,zt);if(!(Mt&v)){var St=$t&&G.call(mt,"__wrapped__"),Kt=oe&&G.call(vt,"__wrapped__");if(St||Kt){var re=St?mt.value():mt,Me=Kt?vt.value():vt;return zt||(zt=new Ht),Vt(re,Me,Mt,Rt,zt)}}return!!Qt&&(zt||(zt=new Ht),(function(Dt,Bt,Le,pe,De,te){var le=Le&v,ge=ye(Dt),_e=ge.length;if(_e!=ye(Bt).length&&!le)return!1;for(var ve=_e;ve--;){var ae=ge[ve];if(!(le?ae in Bt:G.call(Bt,ae)))return!1}var $e=te.get(Dt);if($e&&te.get(Bt))return $e==Bt;var Se=!0;te.set(Dt,Bt),te.set(Bt,Dt);for(var Ue=le;++ve<_e;){var Te=Dt[ae=ge[ve]],qe=Bt[ae];if(pe)var He=le?pe(qe,Te,ae,Bt,Dt,te):pe(Te,qe,ae,Dt,Bt,te);if(!(He===void 0?Te===qe||De(Te,qe,Le,pe,te):He)){Se=!1;break}Ue||(Ue=ae=="constructor")}if(Se&&!Ue){var je=Dt.constructor,Ce=Bt.constructor;je==Ce||!("constructor"in Dt)||!("constructor"in Bt)||typeof je=="function"&&je instanceof je&&typeof Ce=="function"&&Ce instanceof Ce||(Se=!1)}return te.delete(Dt),te.delete(Bt),Se})(mt,vt,Mt,Rt,Vt,zt))})(d,C,z,ot,ce,wt))}function be(d,C,z,ot,wt,mt){var vt=z&v,Mt=d.length,Rt=C.length;if(Mt!=Rt&&!(vt&&Rt>Mt))return!1;var Vt=mt.get(d);if(Vt&&mt.get(C))return Vt==C;var zt=-1,Ft=!0,bt=z&E?new Zt:void 0;for(mt.set(d,C),mt.set(C,d);++zt<Mt;){var Et=d[zt],Lt=C[zt];if(ot)var $t=vt?ot(Lt,Et,zt,C,d,mt):ot(Et,Lt,zt,d,C,mt);if($t!==void 0){if($t)continue;Ft=!1;break}if(bt){if(!O(C,(function(oe,Qt){if(St=Qt,!bt.has(St)&&(Et===oe||wt(Et,oe,z,ot,mt)))return bt.push(Qt);var St}))){Ft=!1;break}}else if(Et!==Lt&&!wt(Et,Lt,z,ot,mt)){Ft=!1;break}}return mt.delete(d),mt.delete(C),Ft}function ye(d){return(function(C,z,ot){var wt=z(C);return Wt(C)?wt:(function(mt,vt){for(var Mt=-1,Rt=vt.length,Vt=mt.length;++Mt<Rt;)mt[Vt+Mt]=vt[Mt];return mt})(wt,ot(C))})(d,D,U)}function at(d,C){var z,ot,wt=d.__data__;return((ot=typeof(z=C))=="string"||ot=="number"||ot=="symbol"||ot=="boolean"?z!=="__proto__":z===null)?wt[typeof C=="string"?"string":"hash"]:wt.map}function I(d,C){var z=(function(ot,wt){return ot?.[wt]})(d,C);return(function(ot){return!(!Ee(ot)||(function(wt){return!!rt&&rt in wt})(ot))&&(ie(ot)?st:ct).test(yt(ot))})(z)?z:void 0}se.prototype.clear=function(){this.__data__=Ct?Ct(null):{},this.size=0},se.prototype.delete=function(d){var C=this.has(d)&&delete this.__data__[d];return this.size-=C?1:0,C},se.prototype.get=function(d){var C=this.__data__;if(Ct){var z=C[d];return z===h?void 0:z}return G.call(C,d)?C[d]:void 0},se.prototype.has=function(d){var C=this.__data__;return Ct?C[d]!==void 0:G.call(C,d)},se.prototype.set=function(d,C){var z=this.__data__;return this.size+=this.has(d)?0:1,z[d]=Ct&&C===void 0?h:C,this},Gt.prototype.clear=function(){this.__data__=[],this.size=0},Gt.prototype.delete=function(d){var C=this.__data__,z=Yt(C,d);return!(z<0||(z==C.length-1?C.pop():Tt.call(C,z,1),--this.size,0))},Gt.prototype.get=function(d){var C=this.__data__,z=Yt(C,d);return z<0?void 0:C[z][1]},Gt.prototype.has=function(d){return Yt(this.__data__,d)>-1},Gt.prototype.set=function(d,C){var z=this.__data__,ot=Yt(z,d);return ot<0?(++this.size,z.push([d,C])):z[ot][1]=C,this},ee.prototype.clear=function(){this.size=0,this.__data__={hash:new se,map:new(Nt||Gt),string:new se}},ee.prototype.delete=function(d){var C=at(this,d).delete(d);return this.size-=C?1:0,C},ee.prototype.get=function(d){return at(this,d).get(d)},ee.prototype.has=function(d){return at(this,d).has(d)},ee.prototype.set=function(d,C){var z=at(this,d),ot=z.size;return z.set(d,C),this.size+=z.size==ot?0:1,this},Zt.prototype.add=Zt.prototype.push=function(d){return this.__data__.set(d,h),this},Zt.prototype.has=function(d){return this.__data__.has(d)},Ht.prototype.clear=function(){this.__data__=new Gt,this.size=0},Ht.prototype.delete=function(d){var C=this.__data__,z=C.delete(d);return this.size=C.size,z},Ht.prototype.get=function(d){return this.__data__.get(d)},Ht.prototype.has=function(d){return this.__data__.has(d)},Ht.prototype.set=function(d,C){var z=this.__data__;if(z instanceof Gt){var ot=z.__data__;if(!Nt||ot.length<199)return ot.push([d,C]),this.size=++z.size,this;z=this.__data__=new ee(ot)}return z.set(d,C),this.size=z.size,this};var U=lt?function(d){return d==null?[]:(d=Object(d),(function(C,z){for(var ot=-1,wt=C==null?0:C.length,mt=0,vt=[];++ot<wt;){var Mt=C[ot];Rt=Mt,xt.call(d,Rt)&&(vt[mt++]=Mt)}var Rt;return vt})(lt(d)))}:function(){return[]},J=Xt;function ht(d,C){return!!(C=C??y)&&(typeof d=="number"||ft.test(d))&&d>-1&&d%1==0&&d<C}function yt(d){if(d!=null){try{return V.call(d)}catch{}try{return d+""}catch{}}return""}function Ot(d,C){return d===C||d!=d&&C!=C}(kt&&J(new kt(new ArrayBuffer(1)))!=tt||Nt&&J(new Nt)!=k||qt&&J(qt.resolve())!=et||Ut&&J(new Ut)!=j||Pt&&J(new Pt)!=W)&&(J=function(d){var C=Xt(d),z=C==Q?d.constructor:void 0,ot=z?yt(z):"";if(ot)switch(ot){case Ae:return tt;case Ne:return k;case he:return et;case ke:return j;case Oe:return W}return C});var It=xe((function(){return arguments})())?xe:function(d){return ne(d)&&G.call(d,"callee")&&!xt.call(d,"callee")},Wt=Array.isArray,Jt=gt||function(){return!1};function ie(d){if(!Ee(d))return!1;var C=Xt(d);return C==a||C==b||C==N||C==H}function ue(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=y}function Ee(d){var C=typeof d;return d!=null&&(C=="object"||C=="function")}function ne(d){return d!=null&&typeof d=="object"}var fe=m?(function(d){return function(C){return d(C)}})(m):function(d){return ne(d)&&ue(d.length)&&!!X[Xt(d)]};function D(d){return(C=d)!=null&&ue(C.length)&&!ie(C)?(function(z,ot){var wt=Wt(z),mt=!wt&&It(z),vt=!wt&&!mt&&Jt(z),Mt=!wt&&!mt&&!vt&&fe(z),Rt=wt||mt||vt||Mt,Vt=Rt?(function(bt,Et){for(var Lt=-1,$t=Array(bt);++Lt<bt;)$t[Lt]=Et(Lt);return $t})(z.length,String):[],zt=Vt.length;for(var Ft in z)!ot&&!G.call(z,Ft)||Rt&&(Ft=="length"||vt&&(Ft=="offset"||Ft=="parent")||Mt&&(Ft=="buffer"||Ft=="byteLength"||Ft=="byteOffset")||ht(Ft,zt))||Vt.push(Ft);return Vt})(d):(function(z){if(wt=(ot=z)&&ot.constructor,ot!==(typeof wt=="function"&&wt.prototype||M))return At(z);var ot,wt,mt=[];for(var vt in Object(z))G.call(z,vt)&&vt!="constructor"&&mt.push(vt);return mt})(d);var C}K.exports=function(d,C){return ce(d,C)}},1270:function(K,T,n){"use strict";Object.defineProperty(T,"__esModule",{value:!0});const h=n(9629),v=n(4162);var E;(function(y){y.compose=function(L={},o={},N=!1){typeof L!="object"&&(L={}),typeof o!="object"&&(o={});let c=h(o);N||(c=Object.keys(c).reduce(((x,q)=>(c[q]!=null&&(x[q]=c[q]),x)),{}));for(const x in L)L[x]!==void 0&&o[x]===void 0&&(c[x]=L[x]);return Object.keys(c).length>0?c:void 0},y.diff=function(L={},o={}){typeof L!="object"&&(L={}),typeof o!="object"&&(o={});const N=Object.keys(L).concat(Object.keys(o)).reduce(((c,x)=>(v(L[x],o[x])||(c[x]=o[x]===void 0?null:o[x]),c)),{});return Object.keys(N).length>0?N:void 0},y.invert=function(L={},o={}){L=L||{};const N=Object.keys(o).reduce(((c,x)=>(o[x]!==L[x]&&L[x]!==void 0&&(c[x]=o[x]),c)),{});return Object.keys(L).reduce(((c,x)=>(L[x]!==o[x]&&o[x]===void 0&&(c[x]=null),c)),N)},y.transform=function(L,o,N=!1){if(typeof L!="object")return o;if(typeof o!="object")return;if(!N)return o;const c=Object.keys(o).reduce(((x,q)=>(L[q]===void 0&&(x[q]=o[q]),x)),{});return Object.keys(c).length>0?c:void 0}})(E||(E={})),T.default=E},5232:function(K,T,n){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.AttributeMap=T.OpIterator=T.Op=void 0;const h=n(5090),v=n(9629),E=n(4162),y=n(1270);T.AttributeMap=y.default;const L=n(4123);T.Op=L.default;const o=n(7033);T.OpIterator=o.default;const N="\0",c=(q,a)=>{if(typeof q!="object"||q===null)throw new Error("cannot retain a "+typeof q);if(typeof a!="object"||a===null)throw new Error("cannot retain a "+typeof a);const b=Object.keys(q)[0];if(!b||b!==Object.keys(a)[0])throw new Error(`embed types not matched: ${b} != ${Object.keys(a)[0]}`);return[b,q[b],a[b]]};class x{constructor(a){Array.isArray(a)?this.ops=a:a!=null&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]}static registerEmbed(a,b){this.handlers[a]=b}static unregisterEmbed(a){delete this.handlers[a]}static getHandler(a){const b=this.handlers[a];if(!b)throw new Error(`no handlers for embed type "${a}"`);return b}insert(a,b){const k={};return typeof a=="string"&&a.length===0?this:(k.insert=a,b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(k.attributes=b),this.push(k))}delete(a){return a<=0?this:this.push({delete:a})}retain(a,b){if(typeof a=="number"&&a<=0)return this;const k={retain:a};return b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(k.attributes=b),this.push(k)}push(a){let b=this.ops.length,k=this.ops[b-1];if(a=v(a),typeof k=="object"){if(typeof a.delete=="number"&&typeof k.delete=="number")return this.ops[b-1]={delete:k.delete+a.delete},this;if(typeof k.delete=="number"&&a.insert!=null&&(b-=1,k=this.ops[b-1],typeof k!="object"))return this.ops.unshift(a),this;if(E(a.attributes,k.attributes)){if(typeof a.insert=="string"&&typeof k.insert=="string")return this.ops[b-1]={insert:k.insert+a.insert},typeof a.attributes=="object"&&(this.ops[b-1].attributes=a.attributes),this;if(typeof a.retain=="number"&&typeof k.retain=="number")return this.ops[b-1]={retain:k.retain+a.retain},typeof a.attributes=="object"&&(this.ops[b-1].attributes=a.attributes),this}}return b===this.ops.length?this.ops.push(a):this.ops.splice(b,0,a),this}chop(){const a=this.ops[this.ops.length-1];return a&&typeof a.retain=="number"&&!a.attributes&&this.ops.pop(),this}filter(a){return this.ops.filter(a)}forEach(a){this.ops.forEach(a)}map(a){return this.ops.map(a)}partition(a){const b=[],k=[];return this.forEach((R=>{(a(R)?b:k).push(R)})),[b,k]}reduce(a,b){return this.ops.reduce(a,b)}changeLength(){return this.reduce(((a,b)=>b.insert?a+L.default.length(b):b.delete?a-b.delete:a),0)}length(){return this.reduce(((a,b)=>a+L.default.length(b)),0)}slice(a=0,b=1/0){const k=[],R=new o.default(this.ops);let P=0;for(;P<b&&R.hasNext();){let Q;P<a?Q=R.next(a-P):(Q=R.next(b-P),k.push(Q)),P+=L.default.length(Q)}return new x(k)}compose(a){const b=new o.default(this.ops),k=new o.default(a.ops),R=[],P=k.peek();if(P!=null&&typeof P.retain=="number"&&P.attributes==null){let et=P.retain;for(;b.peekType()==="insert"&&b.peekLength()<=et;)et-=b.peekLength(),R.push(b.next());P.retain-et>0&&k.next(P.retain-et)}const Q=new x(R);for(;b.hasNext()||k.hasNext();)if(k.peekType()==="insert")Q.push(k.next());else if(b.peekType()==="delete")Q.push(b.next());else{const et=Math.min(b.peekLength(),k.peekLength()),H=b.next(et),f=k.next(et);if(f.retain){const j={};if(typeof H.retain=="number")j.retain=typeof f.retain=="number"?et:f.retain;else if(typeof f.retain=="number")H.retain==null?j.insert=H.insert:j.retain=H.retain;else{const B=H.retain==null?"insert":"retain",[W,nt,tt]=c(H[B],f.retain),ct=x.getHandler(W);j[B]={[W]:ct.compose(nt,tt,B==="retain")}}const F=y.default.compose(H.attributes,f.attributes,typeof H.retain=="number");if(F&&(j.attributes=F),Q.push(j),!k.hasNext()&&E(Q.ops[Q.ops.length-1],j)){const B=new x(b.rest());return Q.concat(B).chop()}}else typeof f.delete=="number"&&(typeof H.retain=="number"||typeof H.retain=="object"&&H.retain!==null)&&Q.push(f)}return Q.chop()}concat(a){const b=new x(this.ops.slice());return a.ops.length>0&&(b.push(a.ops[0]),b.ops=b.ops.concat(a.ops.slice(1))),b}diff(a,b){if(this.ops===a.ops)return new x;const k=[this,a].map((H=>H.map((f=>{if(f.insert!=null)return typeof f.insert=="string"?f.insert:N;throw new Error("diff() called "+(H===a?"on":"with")+" non-document")})).join(""))),R=new x,P=h(k[0],k[1],b,!0),Q=new o.default(this.ops),et=new o.default(a.ops);return P.forEach((H=>{let f=H[1].length;for(;f>0;){let j=0;switch(H[0]){case h.INSERT:j=Math.min(et.peekLength(),f),R.push(et.next(j));break;case h.DELETE:j=Math.min(f,Q.peekLength()),Q.next(j),R.delete(j);break;case h.EQUAL:j=Math.min(Q.peekLength(),et.peekLength(),f);const F=Q.next(j),B=et.next(j);E(F.insert,B.insert)?R.retain(j,y.default.diff(F.attributes,B.attributes)):R.push(B).delete(j)}f-=j}})),R.chop()}eachLine(a,b=`
`){const k=new o.default(this.ops);let R=new x,P=0;for(;k.hasNext();){if(k.peekType()!=="insert")return;const Q=k.peek(),et=L.default.length(Q)-k.peekLength(),H=typeof Q.insert=="string"?Q.insert.indexOf(b,et)-et:-1;if(H<0)R.push(k.next());else if(H>0)R.push(k.next(H));else{if(a(R,k.next(1).attributes||{},P)===!1)return;P+=1,R=new x}}R.length()>0&&a(R,{},P)}invert(a){const b=new x;return this.reduce(((k,R)=>{if(R.insert)b.delete(L.default.length(R));else{if(typeof R.retain=="number"&&R.attributes==null)return b.retain(R.retain),k+R.retain;if(R.delete||typeof R.retain=="number"){const P=R.delete||R.retain;return a.slice(k,k+P).forEach((Q=>{R.delete?b.push(Q):R.retain&&R.attributes&&b.retain(L.default.length(Q),y.default.invert(R.attributes,Q.attributes))})),k+P}if(typeof R.retain=="object"&&R.retain!==null){const P=a.slice(k,k+1),Q=new o.default(P.ops).next(),[et,H,f]=c(R.retain,Q.insert),j=x.getHandler(et);return b.retain({[et]:j.invert(H,f)},y.default.invert(R.attributes,Q.attributes)),k+1}}return k}),0),b.chop()}transform(a,b=!1){if(b=!!b,typeof a=="number")return this.transformPosition(a,b);const k=a,R=new o.default(this.ops),P=new o.default(k.ops),Q=new x;for(;R.hasNext()||P.hasNext();)if(R.peekType()!=="insert"||!b&&P.peekType()==="insert")if(P.peekType()==="insert")Q.push(P.next());else{const et=Math.min(R.peekLength(),P.peekLength()),H=R.next(et),f=P.next(et);if(H.delete)continue;if(f.delete)Q.push(f);else{const j=H.retain,F=f.retain;let B=typeof F=="object"&&F!==null?F:et;if(typeof j=="object"&&j!==null&&typeof F=="object"&&F!==null){const W=Object.keys(j)[0];if(W===Object.keys(F)[0]){const nt=x.getHandler(W);nt&&(B={[W]:nt.transform(j[W],F[W],b)})}}Q.retain(B,y.default.transform(H.attributes,f.attributes,b))}}else Q.retain(L.default.length(R.next()));return Q.chop()}transformPosition(a,b=!1){b=!!b;const k=new o.default(this.ops);let R=0;for(;k.hasNext()&&R<=a;){const P=k.peekLength(),Q=k.peekType();k.next(),Q!=="delete"?(Q==="insert"&&(R<a||!b)&&(a+=P),R+=P):a-=Math.min(P,a-R)}return a}}x.Op=L.default,x.OpIterator=o.default,x.AttributeMap=y.default,x.handlers={},T.default=x,K.exports=x,K.exports.default=x},4123:function(K,T){"use strict";var n;Object.defineProperty(T,"__esModule",{value:!0}),(function(h){h.length=function(v){return typeof v.delete=="number"?v.delete:typeof v.retain=="number"?v.retain:typeof v.retain=="object"&&v.retain!==null?1:typeof v.insert=="string"?v.insert.length:1}})(n||(n={})),T.default=n},7033:function(K,T,n){"use strict";Object.defineProperty(T,"__esModule",{value:!0});const h=n(4123);T.default=class{constructor(v){this.ops=v,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(v){v||(v=1/0);const E=this.ops[this.index];if(E){const y=this.offset,L=h.default.length(E);if(v>=L-y?(v=L-y,this.index+=1,this.offset=0):this.offset+=v,typeof E.delete=="number")return{delete:v};{const o={};return E.attributes&&(o.attributes=E.attributes),typeof E.retain=="number"?o.retain=v:typeof E.retain=="object"&&E.retain!==null?o.retain=E.retain:typeof E.insert=="string"?o.insert=E.insert.substr(y,v):o.insert=E.insert,o}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?h.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const v=this.ops[this.index];return v?typeof v.delete=="number"?"delete":typeof v.retain=="number"||typeof v.retain=="object"&&v.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const v=this.offset,E=this.index,y=this.next(),L=this.ops.slice(this.index);return this.offset=v,this.index=E,[y].concat(L)}}return[]}}},8820:function(K,T,n){"use strict";n.d(T,{A:function(){return L}});var h=n(8138),v=function(o,N){for(var c=o.length;c--;)if((0,h.A)(o[c][0],N))return c;return-1},E=Array.prototype.splice;function y(o){var N=-1,c=o==null?0:o.length;for(this.clear();++N<c;){var x=o[N];this.set(x[0],x[1])}}y.prototype.clear=function(){this.__data__=[],this.size=0},y.prototype.delete=function(o){var N=this.__data__,c=v(N,o);return!(c<0||(c==N.length-1?N.pop():E.call(N,c,1),--this.size,0))},y.prototype.get=function(o){var N=this.__data__,c=v(N,o);return c<0?void 0:N[c][1]},y.prototype.has=function(o){return v(this.__data__,o)>-1},y.prototype.set=function(o,N){var c=this.__data__,x=v(c,o);return x<0?(++this.size,c.push([o,N])):c[x][1]=N,this};var L=y},2461:function(K,T,n){"use strict";var h=n(2281),v=n(5507),E=(0,h.A)(v.A,"Map");T.A=E},3558:function(K,T,n){"use strict";n.d(T,{A:function(){return q}});var h=(0,n(2281).A)(Object,"create"),v=Object.prototype.hasOwnProperty,E=Object.prototype.hasOwnProperty;function y(a){var b=-1,k=a==null?0:a.length;for(this.clear();++b<k;){var R=a[b];this.set(R[0],R[1])}}y.prototype.clear=function(){this.__data__=h?h(null):{},this.size=0},y.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},y.prototype.get=function(a){var b=this.__data__;if(h){var k=b[a];return k==="__lodash_hash_undefined__"?void 0:k}return v.call(b,a)?b[a]:void 0},y.prototype.has=function(a){var b=this.__data__;return h?b[a]!==void 0:E.call(b,a)},y.prototype.set=function(a,b){var k=this.__data__;return this.size+=this.has(a)?0:1,k[a]=h&&b===void 0?"__lodash_hash_undefined__":b,this};var L=y,o=n(8820),N=n(2461),c=function(a,b){var k,R,P=a.__data__;return((R=typeof(k=b))=="string"||R=="number"||R=="symbol"||R=="boolean"?k!=="__proto__":k===null)?P[typeof b=="string"?"string":"hash"]:P.map};function x(a){var b=-1,k=a==null?0:a.length;for(this.clear();++b<k;){var R=a[b];this.set(R[0],R[1])}}x.prototype.clear=function(){this.size=0,this.__data__={hash:new L,map:new(N.A||o.A),string:new L}},x.prototype.delete=function(a){var b=c(this,a).delete(a);return this.size-=b?1:0,b},x.prototype.get=function(a){return c(this,a).get(a)},x.prototype.has=function(a){return c(this,a).has(a)},x.prototype.set=function(a,b){var k=c(this,a),R=k.size;return k.set(a,b),this.size+=k.size==R?0:1,this};var q=x},2673:function(K,T,n){"use strict";n.d(T,{A:function(){return L}});var h=n(8820),v=n(2461),E=n(3558);function y(o){var N=this.__data__=new h.A(o);this.size=N.size}y.prototype.clear=function(){this.__data__=new h.A,this.size=0},y.prototype.delete=function(o){var N=this.__data__,c=N.delete(o);return this.size=N.size,c},y.prototype.get=function(o){return this.__data__.get(o)},y.prototype.has=function(o){return this.__data__.has(o)},y.prototype.set=function(o,N){var c=this.__data__;if(c instanceof h.A){var x=c.__data__;if(!v.A||x.length<199)return x.push([o,N]),this.size=++c.size,this;c=this.__data__=new E.A(x)}return c.set(o,N),this.size=c.size,this};var L=y},439:function(K,T,n){"use strict";var h=n(5507).A.Symbol;T.A=h},7218:function(K,T,n){"use strict";var h=n(5507).A.Uint8Array;T.A=h},6753:function(K,T,n){"use strict";n.d(T,{A:function(){return N}});var h=n(8412),v=n(723),E=n(776),y=n(3767),L=n(5755),o=Object.prototype.hasOwnProperty,N=function(c,x){var q=(0,v.A)(c),a=!q&&(0,h.A)(c),b=!q&&!a&&(0,E.A)(c),k=!q&&!a&&!b&&(0,L.A)(c),R=q||a||b||k,P=R?(function(H,f){for(var j=-1,F=Array(H);++j<H;)F[j]=f(j);return F})(c.length,String):[],Q=P.length;for(var et in c)!x&&!o.call(c,et)||R&&(et=="length"||b&&(et=="offset"||et=="parent")||k&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||(0,y.A)(et,Q))||P.push(et);return P}},802:function(K,T){"use strict";T.A=function(n,h){for(var v=-1,E=h.length,y=n.length;++v<E;)n[y+v]=h[v];return n}},6437:function(K,T,n){"use strict";var h=n(6770),v=n(8138),E=Object.prototype.hasOwnProperty;T.A=function(y,L,o){var N=y[L];E.call(y,L)&&(0,v.A)(N,o)&&(o!==void 0||L in y)||(0,h.A)(y,L,o)}},6770:function(K,T,n){"use strict";var h=n(7889);T.A=function(v,E,y){E=="__proto__"&&h.A?(0,h.A)(v,E,{configurable:!0,enumerable:!0,value:y,writable:!0}):v[E]=y}},1381:function(K,T,n){"use strict";var h=n(802),v=n(723);T.A=function(E,y,L){var o=y(E);return(0,v.A)(E)?o:(0,h.A)(o,L(E))}},2159:function(K,T,n){"use strict";n.d(T,{A:function(){return c}});var h=n(439),v=Object.prototype,E=v.hasOwnProperty,y=v.toString,L=h.A?h.A.toStringTag:void 0,o=Object.prototype.toString,N=h.A?h.A.toStringTag:void 0,c=function(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":N&&N in Object(x)?(function(q){var a=E.call(q,L),b=q[L];try{q[L]=void 0;var k=!0}catch{}var R=y.call(q);return k&&(a?q[L]=b:delete q[L]),R})(x):(function(q){return o.call(q)})(x)}},5771:function(K,T){"use strict";T.A=function(n){return function(h){return n(h)}}},2899:function(K,T,n){"use strict";var h=n(7218);T.A=function(v){var E=new v.constructor(v.byteLength);return new h.A(E).set(new h.A(v)),E}},3812:function(K,T,n){"use strict";var h=n(5507),v=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E=v&&typeof module=="object"&&module&&!module.nodeType&&module,y=E&&E.exports===v?h.A.Buffer:void 0,L=y?y.allocUnsafe:void 0;T.A=function(o,N){if(N)return o.slice();var c=o.length,x=L?L(c):new o.constructor(c);return o.copy(x),x}},1827:function(K,T,n){"use strict";var h=n(2899);T.A=function(v,E){var y=E?(0,h.A)(v.buffer):v.buffer;return new v.constructor(y,v.byteOffset,v.length)}},4405:function(K,T){"use strict";T.A=function(n,h){var v=-1,E=n.length;for(h||(h=Array(E));++v<E;)h[v]=n[v];return h}},9601:function(K,T,n){"use strict";var h=n(6437),v=n(6770);T.A=function(E,y,L,o){var N=!L;L||(L={});for(var c=-1,x=y.length;++c<x;){var q=y[c],a=o?o(L[q],E[q],q,L,E):void 0;a===void 0&&(a=E[q]),N?(0,v.A)(L,q,a):(0,h.A)(L,q,a)}return L}},7889:function(K,T,n){"use strict";var h=n(2281),v=(function(){try{var E=(0,h.A)(Object,"defineProperty");return E({},"",{}),E}catch{}})();T.A=v},9646:function(K,T){"use strict";var n=typeof global=="object"&&global&&global.Object===Object&&global;T.A=n},2816:function(K,T,n){"use strict";var h=n(1381),v=n(9844),E=n(3169);T.A=function(y){return(0,h.A)(y,E.A,v.A)}},2281:function(K,T,n){"use strict";n.d(T,{A:function(){return R}});var h,v=n(7572),E=n(5507).A["__core-js_shared__"],y=(h=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",L=n(659),o=n(1543),N=/^\[object .+?Constructor\]$/,c=Function.prototype,x=Object.prototype,q=c.toString,a=x.hasOwnProperty,b=RegExp("^"+q.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=function(P){return!(!(0,L.A)(P)||(Q=P,y&&y in Q))&&((0,v.A)(P)?b:N).test((0,o.A)(P));var Q},R=function(P,Q){var et=(function(H,f){return H?.[f]})(P,Q);return k(et)?et:void 0}},8769:function(K,T,n){"use strict";var h=(0,n(2217).A)(Object.getPrototypeOf,Object);T.A=h},9844:function(K,T,n){"use strict";n.d(T,{A:function(){return y}});var h=n(6935),v=Object.prototype.propertyIsEnumerable,E=Object.getOwnPropertySymbols,y=E?function(L){return L==null?[]:(L=Object(L),(function(o,N){for(var c=-1,x=o==null?0:o.length,q=0,a=[];++c<x;){var b=o[c];N(b,c,o)&&(a[q++]=b)}return a})(E(L),(function(o){return v.call(L,o)})))}:h.A},7995:function(K,T,n){"use strict";n.d(T,{A:function(){return F}});var h=n(2281),v=n(5507),E=(0,h.A)(v.A,"DataView"),y=n(2461),L=(0,h.A)(v.A,"Promise"),o=(0,h.A)(v.A,"Set"),N=(0,h.A)(v.A,"WeakMap"),c=n(2159),x=n(1543),q="[object Map]",a="[object Promise]",b="[object Set]",k="[object WeakMap]",R="[object DataView]",P=(0,x.A)(E),Q=(0,x.A)(y.A),et=(0,x.A)(L),H=(0,x.A)(o),f=(0,x.A)(N),j=c.A;(E&&j(new E(new ArrayBuffer(1)))!=R||y.A&&j(new y.A)!=q||L&&j(L.resolve())!=a||o&&j(new o)!=b||N&&j(new N)!=k)&&(j=function(B){var W=(0,c.A)(B),nt=W=="[object Object]"?B.constructor:void 0,tt=nt?(0,x.A)(nt):"";if(tt)switch(tt){case P:return R;case Q:return q;case et:return a;case H:return b;case f:return k}return W});var F=j},1683:function(K,T,n){"use strict";n.d(T,{A:function(){return o}});var h=n(659),v=Object.create,E=(function(){function N(){}return function(c){if(!(0,h.A)(c))return{};if(v)return v(c);N.prototype=c;var x=new N;return N.prototype=void 0,x}})(),y=n(8769),L=n(501),o=function(N){return typeof N.constructor!="function"||(0,L.A)(N)?{}:E((0,y.A)(N))}},3767:function(K,T){"use strict";var n=/^(?:0|[1-9]\d*)$/;T.A=function(h,v){var E=typeof h;return!!(v=v??9007199254740991)&&(E=="number"||E!="symbol"&&n.test(h))&&h>-1&&h%1==0&&h<v}},501:function(K,T){"use strict";var n=Object.prototype;T.A=function(h){var v=h&&h.constructor;return h===(typeof v=="function"&&v.prototype||n)}},8795:function(K,T,n){"use strict";var h=n(9646),v=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E=v&&typeof module=="object"&&module&&!module.nodeType&&module,y=E&&E.exports===v&&h.A.process,L=(function(){try{return E&&E.require&&E.require("util").types||y&&y.binding&&y.binding("util")}catch{}})();T.A=L},2217:function(K,T){"use strict";T.A=function(n,h){return function(v){return n(h(v))}}},5507:function(K,T,n){"use strict";var h=n(9646),v=typeof self=="object"&&self&&self.Object===Object&&self,E=h.A||v||Function("return this")();T.A=E},1543:function(K,T){"use strict";var n=Function.prototype.toString;T.A=function(h){if(h!=null){try{return n.call(h)}catch{}try{return h+""}catch{}}return""}},3707:function(K,T,n){"use strict";n.d(T,{A:function(){return s}});var h=n(2673),v=n(6437),E=n(9601),y=n(3169),L=n(2624),o=n(3812),N=n(4405),c=n(9844),x=n(802),q=n(8769),a=n(6935),b=Object.getOwnPropertySymbols?function(l){for(var u=[];l;)(0,x.A)(u,(0,c.A)(l)),l=(0,q.A)(l);return u}:a.A,k=n(2816),R=n(1381),P=function(l){return(0,R.A)(l,L.A,b)},Q=n(7995),et=Object.prototype.hasOwnProperty,H=n(2899),f=/\w*$/,j=n(439),F=j.A?j.A.prototype:void 0,B=F?F.valueOf:void 0,W=n(1827),nt=function(l,u,A){var w,M,$,V=l.constructor;switch(u){case"[object ArrayBuffer]":return(0,H.A)(l);case"[object Boolean]":case"[object Date]":return new V(+l);case"[object DataView]":return(function(G,rt){var it=rt?(0,H.A)(G.buffer):G.buffer;return new G.constructor(it,G.byteOffset,G.byteLength)})(l,A);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,W.A)(l,A);case"[object Map]":case"[object Set]":return new V;case"[object Number]":case"[object String]":return new V(l);case"[object RegExp]":return($=new(M=l).constructor(M.source,f.exec(M))).lastIndex=M.lastIndex,$;case"[object Symbol]":return w=l,B?Object(B.call(w)):{}}},tt=n(1683),ct=n(723),ft=n(776),X=n(7948),Z=n(5771),Y=n(8795),i=Y.A&&Y.A.isMap,t=i?(0,Z.A)(i):function(l){return(0,X.A)(l)&&(0,Q.A)(l)=="[object Map]"},e=n(659),r=Y.A&&Y.A.isSet,S=r?(0,Z.A)(r):function(l){return(0,X.A)(l)&&(0,Q.A)(l)=="[object Set]"},p="[object Arguments]",m="[object Function]",O="[object Object]",_={};_[p]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_[O]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_[m]=_["[object WeakMap]"]=!1;var g=function l(u,A,w,M,$,V){var G,rt=1&A,it=2&A,st=4&A;if(w&&(G=$?w(u,M,$,V):w(u)),G!==void 0)return G;if(!(0,e.A)(u))return u;var pt=(0,ct.A)(u);if(pt){if(G=(function(lt){var gt=lt.length,At=new lt.constructor(gt);return gt&&typeof lt[0]=="string"&&et.call(lt,"index")&&(At.index=lt.index,At.input=lt.input),At})(u),!rt)return(0,N.A)(u,G)}else{var ut=(0,Q.A)(u),dt=ut==m||ut=="[object GeneratorFunction]";if((0,ft.A)(u))return(0,o.A)(u,rt);if(ut==O||ut==p||dt&&!$){if(G=it||dt?{}:(0,tt.A)(u),!rt)return it?(function(lt,gt){return(0,E.A)(lt,b(lt),gt)})(u,(function(lt,gt){return lt&&(0,E.A)(gt,(0,L.A)(gt),lt)})(G,u)):(function(lt,gt){return(0,E.A)(lt,(0,c.A)(lt),gt)})(u,(function(lt,gt){return lt&&(0,E.A)(gt,(0,y.A)(gt),lt)})(G,u))}else{if(!_[ut])return $?u:{};G=nt(u,ut,rt)}}V||(V=new h.A);var xt=V.get(u);if(xt)return xt;V.set(u,G),S(u)?u.forEach((function(lt){G.add(l(lt,A,w,lt,u,V))})):t(u)&&u.forEach((function(lt,gt){G.set(gt,l(lt,A,w,gt,u,V))}));var Tt=st?it?P:k.A:it?L.A:y.A,_t=pt?void 0:Tt(u);return(function(lt,gt){for(var At=-1,kt=lt==null?0:lt.length;++At<kt&&gt(lt[At],At,lt)!==!1;);})(_t||u,(function(lt,gt){_t&&(lt=u[gt=lt]),(0,v.A)(G,gt,l(lt,A,w,gt,u,V))})),G},s=function(l){return g(l,5)}},8138:function(K,T){"use strict";T.A=function(n,h){return n===h||n!=n&&h!=h}},8412:function(K,T,n){"use strict";n.d(T,{A:function(){return c}});var h=n(2159),v=n(7948),E=function(x){return(0,v.A)(x)&&(0,h.A)(x)=="[object Arguments]"},y=Object.prototype,L=y.hasOwnProperty,o=y.propertyIsEnumerable,N=E((function(){return arguments})())?E:function(x){return(0,v.A)(x)&&L.call(x,"callee")&&!o.call(x,"callee")},c=N},723:function(K,T){"use strict";var n=Array.isArray;T.A=n},3628:function(K,T,n){"use strict";var h=n(7572),v=n(1628);T.A=function(E){return E!=null&&(0,v.A)(E.length)&&!(0,h.A)(E)}},776:function(K,T,n){"use strict";n.d(T,{A:function(){return L}});var h=n(5507),v=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E=v&&typeof module=="object"&&module&&!module.nodeType&&module,y=E&&E.exports===v?h.A.Buffer:void 0,L=(y?y.isBuffer:void 0)||function(){return!1}},5123:function(K,T,n){"use strict";n.d(T,{A:function(){return ft}});var h=n(2673),v=n(3558);function E(X){var Z=-1,Y=X==null?0:X.length;for(this.__data__=new v.A;++Z<Y;)this.add(X[Z])}E.prototype.add=E.prototype.push=function(X){return this.__data__.set(X,"__lodash_hash_undefined__"),this},E.prototype.has=function(X){return this.__data__.has(X)};var y=E,L=function(X,Z){for(var Y=-1,i=X==null?0:X.length;++Y<i;)if(Z(X[Y],Y,X))return!0;return!1},o=function(X,Z,Y,i,t,e){var r=1&Y,S=X.length,p=Z.length;if(S!=p&&!(r&&p>S))return!1;var m=e.get(X),O=e.get(Z);if(m&&O)return m==Z&&O==X;var _=-1,g=!0,s=2&Y?new y:void 0;for(e.set(X,Z),e.set(Z,X);++_<S;){var l=X[_],u=Z[_];if(i)var A=r?i(u,l,_,Z,X,e):i(l,u,_,X,Z,e);if(A!==void 0){if(A)continue;g=!1;break}if(s){if(!L(Z,(function(w,M){if($=M,!s.has($)&&(l===w||t(l,w,Y,i,e)))return s.push(M);var $}))){g=!1;break}}else if(l!==u&&!t(l,u,Y,i,e)){g=!1;break}}return e.delete(X),e.delete(Z),g},N=n(439),c=n(7218),x=n(8138),q=function(X){var Z=-1,Y=Array(X.size);return X.forEach((function(i,t){Y[++Z]=[t,i]})),Y},a=function(X){var Z=-1,Y=Array(X.size);return X.forEach((function(i){Y[++Z]=i})),Y},b=N.A?N.A.prototype:void 0,k=b?b.valueOf:void 0,R=n(2816),P=Object.prototype.hasOwnProperty,Q=n(7995),et=n(723),H=n(776),f=n(5755),j="[object Arguments]",F="[object Array]",B="[object Object]",W=Object.prototype.hasOwnProperty,nt=function(X,Z,Y,i,t,e){var r=(0,et.A)(X),S=(0,et.A)(Z),p=r?F:(0,Q.A)(X),m=S?F:(0,Q.A)(Z),O=(p=p==j?B:p)==B,_=(m=m==j?B:m)==B,g=p==m;if(g&&(0,H.A)(X)){if(!(0,H.A)(Z))return!1;r=!0,O=!1}if(g&&!O)return e||(e=new h.A),r||(0,f.A)(X)?o(X,Z,Y,i,t,e):(function(w,M,$,V,G,rt,it){switch($){case"[object DataView]":if(w.byteLength!=M.byteLength||w.byteOffset!=M.byteOffset)return!1;w=w.buffer,M=M.buffer;case"[object ArrayBuffer]":return!(w.byteLength!=M.byteLength||!rt(new c.A(w),new c.A(M)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,x.A)(+w,+M);case"[object Error]":return w.name==M.name&&w.message==M.message;case"[object RegExp]":case"[object String]":return w==M+"";case"[object Map]":var st=q;case"[object Set]":var pt=1&V;if(st||(st=a),w.size!=M.size&&!pt)return!1;var ut=it.get(w);if(ut)return ut==M;V|=2,it.set(w,M);var dt=o(st(w),st(M),V,G,rt,it);return it.delete(w),dt;case"[object Symbol]":if(k)return k.call(w)==k.call(M)}return!1})(X,Z,p,Y,i,t,e);if(!(1&Y)){var s=O&&W.call(X,"__wrapped__"),l=_&&W.call(Z,"__wrapped__");if(s||l){var u=s?X.value():X,A=l?Z.value():Z;return e||(e=new h.A),t(u,A,Y,i,e)}}return!!g&&(e||(e=new h.A),(function(w,M,$,V,G,rt){var it=1&$,st=(0,R.A)(w),pt=st.length;if(pt!=(0,R.A)(M).length&&!it)return!1;for(var ut=pt;ut--;){var dt=st[ut];if(!(it?dt in M:P.call(M,dt)))return!1}var xt=rt.get(w),Tt=rt.get(M);if(xt&&Tt)return xt==M&&Tt==w;var _t=!0;rt.set(w,M),rt.set(M,w);for(var lt=it;++ut<pt;){var gt=w[dt=st[ut]],At=M[dt];if(V)var kt=it?V(At,gt,dt,M,w,rt):V(gt,At,dt,w,M,rt);if(!(kt===void 0?gt===At||G(gt,At,$,V,rt):kt)){_t=!1;break}lt||(lt=dt=="constructor")}if(_t&&!lt){var Nt=w.constructor,qt=M.constructor;Nt==qt||!("constructor"in w)||!("constructor"in M)||typeof Nt=="function"&&Nt instanceof Nt&&typeof qt=="function"&&qt instanceof qt||(_t=!1)}return rt.delete(w),rt.delete(M),_t})(X,Z,Y,i,t,e))},tt=n(7948),ct=function X(Z,Y,i,t,e){return Z===Y||(Z==null||Y==null||!(0,tt.A)(Z)&&!(0,tt.A)(Y)?Z!=Z&&Y!=Y:nt(Z,Y,i,t,X,e))},ft=function(X,Z){return ct(X,Z)}},7572:function(K,T,n){"use strict";var h=n(2159),v=n(659);T.A=function(E){if(!(0,v.A)(E))return!1;var y=(0,h.A)(E);return y=="[object Function]"||y=="[object GeneratorFunction]"||y=="[object AsyncFunction]"||y=="[object Proxy]"}},1628:function(K,T){"use strict";T.A=function(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=9007199254740991}},659:function(K,T){"use strict";T.A=function(n){var h=typeof n;return n!=null&&(h=="object"||h=="function")}},7948:function(K,T){"use strict";T.A=function(n){return n!=null&&typeof n=="object"}},5755:function(K,T,n){"use strict";n.d(T,{A:function(){return c}});var h=n(2159),v=n(1628),E=n(7948),y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;var L=n(5771),o=n(8795),N=o.A&&o.A.isTypedArray,c=N?(0,L.A)(N):function(x){return(0,E.A)(x)&&(0,v.A)(x.length)&&!!y[(0,h.A)(x)]}},3169:function(K,T,n){"use strict";n.d(T,{A:function(){return o}});var h=n(6753),v=n(501),E=(0,n(2217).A)(Object.keys,Object),y=Object.prototype.hasOwnProperty,L=n(3628),o=function(N){return(0,L.A)(N)?(0,h.A)(N):(function(c){if(!(0,v.A)(c))return E(c);var x=[];for(var q in Object(c))y.call(c,q)&&q!="constructor"&&x.push(q);return x})(N)}},2624:function(K,T,n){"use strict";n.d(T,{A:function(){return N}});var h=n(6753),v=n(659),E=n(501),y=Object.prototype.hasOwnProperty,L=function(c){if(!(0,v.A)(c))return(function(b){var k=[];if(b!=null)for(var R in Object(b))k.push(R);return k})(c);var x=(0,E.A)(c),q=[];for(var a in c)(a!="constructor"||!x&&y.call(c,a))&&q.push(a);return q},o=n(3628),N=function(c){return(0,o.A)(c)?(0,h.A)(c,!0):L(c)}},8347:function(K,T,n){"use strict";n.d(T,{A:function(){return l}});var h,v,E,y,L=n(2673),o=n(6770),N=n(8138),c=function(u,A,w){(w!==void 0&&!(0,N.A)(u[A],w)||w===void 0&&!(A in u))&&(0,o.A)(u,A,w)},x=function(u,A,w){for(var M=-1,$=Object(u),V=w(u),G=V.length;G--;){var rt=V[++M];if(A($[rt],rt,$)===!1)break}return u},q=n(3812),a=n(1827),b=n(4405),k=n(1683),R=n(8412),P=n(723),Q=n(3628),et=n(7948),H=n(776),f=n(7572),j=n(659),F=n(2159),B=n(8769),W=Function.prototype,nt=Object.prototype,tt=W.toString,ct=nt.hasOwnProperty,ft=tt.call(Object),X=n(5755),Z=function(u,A){if((A!=="constructor"||typeof u[A]!="function")&&A!="__proto__")return u[A]},Y=n(9601),i=n(2624),t=function(u,A,w,M,$,V,G){var rt,it=Z(u,w),st=Z(A,w),pt=G.get(st);if(pt)c(u,w,pt);else{var ut=V?V(it,st,w+"",u,A,G):void 0,dt=ut===void 0;if(dt){var xt=(0,P.A)(st),Tt=!xt&&(0,H.A)(st),_t=!xt&&!Tt&&(0,X.A)(st);ut=st,xt||Tt||_t?(0,P.A)(it)?ut=it:(rt=it,(0,et.A)(rt)&&(0,Q.A)(rt)?ut=(0,b.A)(it):Tt?(dt=!1,ut=(0,q.A)(st,!0)):_t?(dt=!1,ut=(0,a.A)(st,!0)):ut=[]):(function(lt){if(!(0,et.A)(lt)||(0,F.A)(lt)!="[object Object]")return!1;var gt=(0,B.A)(lt);if(gt===null)return!0;var At=ct.call(gt,"constructor")&&gt.constructor;return typeof At=="function"&&At instanceof At&&tt.call(At)==ft})(st)||(0,R.A)(st)?(ut=it,(0,R.A)(it)?ut=(function(lt){return(0,Y.A)(lt,(0,i.A)(lt))})(it):(0,j.A)(it)&&!(0,f.A)(it)||(ut=(0,k.A)(st))):dt=!1}dt&&(G.set(st,ut),$(ut,st,M,V,G),G.delete(st)),c(u,w,ut)}},e=function u(A,w,M,$,V){A!==w&&x(w,(function(G,rt){if(V||(V=new L.A),(0,j.A)(G))t(A,w,rt,M,u,$,V);else{var it=$?$(Z(A,rt),G,rt+"",A,w,V):void 0;it===void 0&&(it=G),c(A,rt,it)}}),i.A)},r=function(u){return u},S=Math.max,p=n(7889),m=p.A?function(u,A){return(0,p.A)(u,"toString",{configurable:!0,enumerable:!1,value:(w=A,function(){return w}),writable:!0});var w}:r,O=Date.now,_=(h=m,v=0,E=0,function(){var u=O(),A=16-(u-E);if(E=u,A>0){if(++v>=800)return arguments[0]}else v=0;return h.apply(void 0,arguments)}),g=function(u,A){return _((function(w,M,$){return M=S(M===void 0?w.length-1:M,0),function(){for(var V=arguments,G=-1,rt=S(V.length-M,0),it=Array(rt);++G<rt;)it[G]=V[M+G];G=-1;for(var st=Array(M+1);++G<M;)st[G]=V[G];return st[M]=$(it),(function(pt,ut,dt){switch(dt.length){case 0:return pt.call(ut);case 1:return pt.call(ut,dt[0]);case 2:return pt.call(ut,dt[0],dt[1]);case 3:return pt.call(ut,dt[0],dt[1],dt[2])}return pt.apply(ut,dt)})(w,this,st)}})(u,A,r),u+"")},s=n(3767),l=(y=function(u,A,w){e(u,A,w)},g((function(u,A){var w=-1,M=A.length,$=M>1?A[M-1]:void 0,V=M>2?A[2]:void 0;for($=y.length>3&&typeof $=="function"?(M--,$):void 0,V&&(function(rt,it,st){if(!(0,j.A)(st))return!1;var pt=typeof it;return!!(pt=="number"?(0,Q.A)(st)&&(0,s.A)(it,st.length):pt=="string"&&it in st)&&(0,N.A)(st[it],rt)})(A[0],A[1],V)&&($=M<3?void 0:$,M=1),u=Object(u);++w<M;){var G=A[w];G&&y(u,G,w)}return u})))},6935:function(K,T){"use strict";T.A=function(){return[]}},6003:function(K,T,n){"use strict";n.r(T),n.d(T,{Attributor:function(){return v},AttributorStore:function(){return q},BlockBlot:function(){return B},ClassAttributor:function(){return N},ContainerBlot:function(){return nt},EmbedBlot:function(){return tt},InlineBlot:function(){return j},LeafBlot:function(){return R},ParentBlot:function(){return H},Registry:function(){return L},Scope:function(){return h},ScrollBlot:function(){return X},StyleAttributor:function(){return x},TextBlot:function(){return Y}});var h=(i=>(i[i.TYPE=3]="TYPE",i[i.LEVEL=12]="LEVEL",i[i.ATTRIBUTE=13]="ATTRIBUTE",i[i.BLOT=14]="BLOT",i[i.INLINE=7]="INLINE",i[i.BLOCK=11]="BLOCK",i[i.BLOCK_BLOT=10]="BLOCK_BLOT",i[i.INLINE_BLOT=6]="INLINE_BLOT",i[i.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",i[i.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",i[i.ANY=15]="ANY",i))(h||{});class v{constructor(t,e,r={}){this.attrName=t,this.keyName=e;const S=h.TYPE&h.ATTRIBUTE;this.scope=r.scope!=null?r.scope&h.LEVEL|S:h.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map((e=>e.name))}add(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}canAdd(t,e){return this.whitelist==null||(typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class E extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}const y=class We{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,e)}return null}create(t,e,r){const S=this.query(e);if(S==null)throw new E(`Unable to create ${e} blot`);const p=S,m=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:p.create(r),O=new p(t,m,r);return We.blots.set(O.domNode,O),O}find(t,e=!1){return We.find(t,e)}query(t,e=h.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&h.LEVEL&h.BLOCK?r=this.types.block:t&h.LEVEL&h.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((S=>(r=this.classes[S],!!r))),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&e&h.LEVEL&r.scope&&e&h.TYPE&r.scope?r:null}register(...t){return t.map((e=>{const r="blotName"in e,S="attrName"in e;if(!r&&!S)throw new E("Invalid definition");if(r&&e.blotName==="abstract")throw new E("Cannot register abstract class");const p=r?e.blotName:S?e.attrName:void 0;return this.types[p]=e,S?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):r&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map((m=>m.toUpperCase())):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach((m=>{(this.tags[m]==null||e.className==null)&&(this.tags[m]=e)})))),e}))}};y.blots=new WeakMap;let L=y;function o(i,t){return(i.getAttribute("class")||"").split(/\s+/).filter((e=>e.indexOf(`${t}-`)===0))}const N=class extends v{static keys(i){return(i.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(i,t){return!!this.canAdd(i,t)&&(this.remove(i),i.classList.add(`${this.keyName}-${t}`),!0)}remove(i){o(i,this.keyName).forEach((t=>{i.classList.remove(t)})),i.classList.length===0&&i.removeAttribute("class")}value(i){const t=(o(i,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(i,t)?t:""}};function c(i){const t=i.split("-"),e=t.slice(1).map((r=>r[0].toUpperCase()+r.slice(1))).join("");return t[0]+e}const x=class extends v{static keys(i){return(i.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(i,t){return!!this.canAdd(i,t)&&(i.style[c(this.keyName)]=t,!0)}remove(i){i.style[c(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")}value(i){const t=i.style[c(this.keyName)];return this.canAdd(i,t)?t:""}},q=class{constructor(i){this.attributes={},this.domNode=i,this.build()}attribute(i,t){t?i.add(this.domNode,t)&&(i.value(this.domNode)!=null?this.attributes[i.attrName]=i:delete this.attributes[i.attrName]):(i.remove(this.domNode),delete this.attributes[i.attrName])}build(){this.attributes={};const i=L.find(this.domNode);if(i==null)return;const t=v.keys(this.domNode),e=N.keys(this.domNode),r=x.keys(this.domNode);t.concat(e).concat(r).forEach((S=>{const p=i.scroll.query(S,h.ATTRIBUTE);p instanceof v&&(this.attributes[p.attrName]=p)}))}copy(i){Object.keys(this.attributes).forEach((t=>{const e=this.attributes[t].value(this.domNode);i.format(t,e)}))}move(i){this.copy(i),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((i,t)=>(i[t]=this.attributes[t].value(this.domNode),i)),{})}},a=class{constructor(i,t){this.scroll=i,this.domNode=t,L.blots.set(t,this),this.prev=null,this.next=null}static create(i){if(this.tagName==null)throw new E("Blot definition missing tagName");let t,e;return Array.isArray(this.tagName)?(typeof i=="string"?(e=i.toUpperCase(),parseInt(e,10).toString()===e&&(e=parseInt(e,10))):typeof i=="number"&&(e=i),t=typeof e=="number"?document.createElement(this.tagName[e-1]):e&&this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const i=this.domNode.cloneNode(!1);return this.scroll.create(i)}detach(){this.parent!=null&&this.parent.removeChild(this),L.blots.delete(this.domNode)}deleteAt(i,t){this.isolate(i,t).remove()}formatAt(i,t,e,r){const S=this.isolate(i,t);if(this.scroll.query(e,h.BLOT)!=null&&r)S.wrap(e,r);else if(this.scroll.query(e,h.ATTRIBUTE)!=null){const p=this.scroll.create(this.statics.scope);S.wrap(p),p.format(e,r)}}insertAt(i,t,e){const r=e==null?this.scroll.create("text",t):this.scroll.create(t,e),S=this.split(i);this.parent.insertBefore(r,S||void 0)}isolate(i,t){const e=this.split(i);if(e==null)throw new Error("Attempt to isolate at end");return e.split(t),e}length(){return 1}offset(i=this.parent){return this.parent==null||this===i?0:this.parent.children.offset(this)+this.parent.offset(i)}optimize(i){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(i,t){const e=typeof i=="string"?this.scroll.create(i,t):i;return this.parent!=null&&(this.parent.insertBefore(e,this.next||void 0),this.remove()),e}split(i,t){return i===0?this:this.next}update(i,t){}wrap(i,t){const e=typeof i=="string"?this.scroll.create(i,t):i;if(this.parent!=null&&this.parent.insertBefore(e,this.next||void 0),typeof e.appendChild!="function")throw new E(`Cannot wrap ${i}`);return e.appendChild(this),e}};a.blotName="abstract";let b=a;const k=class extends b{static value(i){return!0}index(i,t){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(i,t){let e=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return i>0&&(e+=1),[this.parent.domNode,e]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};k.scope=h.INLINE_BLOT;const R=k;class P{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){const e=this.iterator();let r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){const e=this.iterator();let r=e(),S=0;for(;r;){if(r===t)return S;S+=1,r=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;r!=null;){if(r===t)return e;e+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const r=this.iterator();let S=r();for(;S;){const p=S.length();if(t<p||e&&t===p&&(S.next==null||S.next.length()!==0))return[S,t];t-=p,S=r()}return[null,0]}forEach(t){const e=this.iterator();let r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;const[S,p]=this.find(t);let m=t-p;const O=this.iterator(S);let _=O();for(;_&&m<t+e;){const g=_.length();t>m?r(_,t-m,Math.min(e,m+g-t)):r(_,0,Math.min(g,t+e-m)),m+=g,_=O()}}map(t){return this.reduce(((e,r)=>(e.push(t(r)),e)),[])}reduce(t,e){const r=this.iterator();let S=r();for(;S;)e=t(e,S),S=r();return e}}function Q(i,t){const e=t.find(i);if(e)return e;try{return t.create(i)}catch{const r=t.create(h.INLINE);return Array.from(i.childNodes).forEach((S=>{r.domNode.appendChild(S)})),i.parentNode&&i.parentNode.replaceChild(r.domNode,i),r.attach(),r}}const et=class Be extends b{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Be.uiClass&&this.uiNode.classList.add(Be.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new P,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const e=Q(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof E)return;throw e}}))}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,((r,S,p)=>{r.deleteAt(S,p)}))}descendant(t,e=0){const[r,S]=this.children.find(e);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,S]:r instanceof Be?r.descendant(t,S):[null,-1]}descendants(t,e=0,r=Number.MAX_VALUE){let S=[],p=r;return this.children.forEachAt(e,r,((m,O,_)=>{(t.blotName==null&&t(m)||t.blotName!=null&&m instanceof t)&&S.push(m),m instanceof Be&&(S=S.concat(m.descendants(t,O,p))),p-=_})),S}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach((e=>{t||this.statics.allowedChildren.some((r=>e instanceof r))||(e.statics.scope===h.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Be?e.unwrap():e.remove())}))}formatAt(t,e,r,S){this.children.forEachAt(t,e,((p,m,O)=>{p.formatAt(m,O,r,S)}))}insertAt(t,e,r){const[S,p]=this.children.find(t);if(S)S.insertAt(p,e,r);else{const m=r==null?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(m)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce(((t,e)=>t+e.length()),0)}moveChildren(t,e){this.children.forEach((r=>{t.insertBefore(r,e)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[r,S]=this.children.find(t,e),p=[[this,t]];return r instanceof Be?p.concat(r.path(S,e)):(r!=null&&p.push([r,S]),p)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return r instanceof Be&&this.moveChildren(r),super.replaceWith(r)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),((S,p,m)=>{const O=S.split(p,e);O!=null&&r.appendChild(O)})),r}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const r=[],S=[];t.forEach((p=>{p.target===this.domNode&&p.type==="childList"&&(r.push(...p.addedNodes),S.push(...p.removedNodes))})),S.forEach((p=>{if(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const m=this.scroll.find(p);m!=null&&(m.domNode.parentNode==null||m.domNode.parentNode===this.domNode)&&m.detach()})),r.filter((p=>p.parentNode===this.domNode&&p!==this.uiNode)).sort(((p,m)=>p===m?0:p.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((p=>{let m=null;p.nextSibling!=null&&(m=this.scroll.find(p.nextSibling));const O=Q(p,this.scroll);(O.next!==m||O.next==null)&&(O.parent!=null&&O.parent.removeChild(this),this.insertBefore(O,m||void 0))})),this.enforceAllowedChildren()}};et.uiClass="";const H=et,f=class ze extends H{static create(t){return super.create(t)}static formats(t,e){const r=e.query(ze.blotName);if(r==null||t.tagName!==r.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new q(this.domNode)}format(t,e){if(t!==this.statics.blotName||e){const r=this.scroll.query(t,h.INLINE);if(r==null)return;r instanceof v?this.attributes.attribute(r,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}else this.children.forEach((r=>{r instanceof ze||(r=r.wrap(ze.blotName,!0)),this.attributes.copy(r)})),this.unwrap()}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,S){this.formats()[r]!=null||this.scroll.query(r,h.ATTRIBUTE)?this.isolate(t,e).format(r,S):super.formatAt(t,e,r,S)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const r=this.next;r instanceof ze&&r.prev===this&&(function(S,p){if(Object.keys(S).length!==Object.keys(p).length)return!1;for(const m in S)if(S[m]!==p[m])return!1;return!0})(e,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some((r=>r.target===this.domNode&&r.type==="attributes"))&&this.attributes.build()}wrap(t,e){const r=super.wrap(t,e);return r instanceof ze&&this.attributes.move(r),r}};f.allowedChildren=[f,R],f.blotName="inline",f.scope=h.INLINE_BLOT,f.tagName="SPAN";const j=f,F=class Ge extends H{static create(t){return super.create(t)}static formats(t,e){const r=e.query(Ge.blotName);if(r==null||t.tagName!==r.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new q(this.domNode)}format(t,e){const r=this.scroll.query(t,h.BLOCK);r!=null&&(r instanceof v?this.attributes.attribute(r,e):t!==this.statics.blotName||e?e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e):this.replaceWith(Ge.blotName))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,S){this.scroll.query(r,h.BLOCK)!=null?this.format(r,S):super.formatAt(t,e,r,S)}insertAt(t,e,r){if(r==null||this.scroll.query(e,h.INLINE)!=null)super.insertAt(t,e,r);else{const S=this.split(t);if(S==null)throw new Error("Attempt to insertAt after block boundaries");{const p=this.scroll.create(e,r);S.parent.insertBefore(p,S)}}}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some((r=>r.target===this.domNode&&r.type==="attributes"))&&this.attributes.build()}};F.blotName="block",F.scope=h.BLOCK_BLOT,F.tagName="P",F.allowedChildren=[j,F,R];const B=F,W=class extends H{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(i,t){super.deleteAt(i,t),this.enforceAllowedChildren()}formatAt(i,t,e,r){super.formatAt(i,t,e,r),this.enforceAllowedChildren()}insertAt(i,t,e){super.insertAt(i,t,e),this.enforceAllowedChildren()}optimize(i){super.optimize(i),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};W.blotName="container",W.scope=h.BLOCK_BLOT;const nt=W,tt=class extends R{static formats(i,t){}format(i,t){super.formatAt(0,this.length(),i,t)}formatAt(i,t,e,r){i===0&&t===this.length()?this.format(e,r):super.formatAt(i,t,e,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}},ct={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ft=class extends H{constructor(i,t){super(null,t),this.registry=i,this.scroll=this,this.build(),this.observer=new MutationObserver((e=>{this.update(e)})),this.observer.observe(this.domNode,ct),this.attach()}create(i,t){return this.registry.create(this,i,t)}find(i,t=!1){const e=this.registry.find(i,t);return e?e.scroll===this?e:t?this.find(e.scroll.domNode.parentNode,!0):null:null}query(i,t=h.ANY){return this.registry.query(i,t)}register(...i){return this.registry.register(...i)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(i,t){this.update(),i===0&&t===this.length()?this.children.forEach((e=>{e.remove()})):super.deleteAt(i,t)}formatAt(i,t,e,r){this.update(),super.formatAt(i,t,e,r)}insertAt(i,t,e){this.update(),super.insertAt(i,t,e)}optimize(i=[],t={}){super.optimize(t);const e=t.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)i.push(r.pop());const S=(O,_=!0)=>{O==null||O===this||O.domNode.parentNode!=null&&(e.has(O.domNode)||e.set(O.domNode,[]),_&&S(O.parent))},p=O=>{e.has(O.domNode)&&(O instanceof H&&O.children.forEach(p),e.delete(O.domNode),O.optimize(t))};let m=i;for(let O=0;m.length>0;O+=1){if(O>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(m.forEach((_=>{const g=this.find(_.target,!0);g!=null&&(g.domNode===_.target&&(_.type==="childList"?(S(this.find(_.previousSibling,!1)),Array.from(_.addedNodes).forEach((s=>{const l=this.find(s,!1);S(l,!1),l instanceof H&&l.children.forEach((u=>{S(u,!1)}))}))):_.type==="attributes"&&S(g.prev)),S(g))})),this.children.forEach(p),m=Array.from(this.observer.takeRecords()),r=m.slice();r.length>0;)i.push(r.pop())}}update(i,t={}){i=i||this.observer.takeRecords();const e=new WeakMap;i.map((r=>{const S=this.find(r.target,!0);return S==null?null:e.has(S.domNode)?(e.get(S.domNode).push(r),null):(e.set(S.domNode,[r]),S)})).forEach((r=>{r!=null&&r!==this&&e.has(r.domNode)&&r.update(e.get(r.domNode)||[],t)})),t.mutationsMap=e,e.has(this.domNode)&&super.update(e.get(this.domNode),t),this.optimize(i,t)}};ft.blotName="scroll",ft.defaultChild=B,ft.allowedChildren=[B,nt],ft.scope=h.BLOCK_BLOT,ft.tagName="DIV";const X=ft,Z=class Xe extends R{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){r==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Xe&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some((r=>r.type==="characterData"&&r.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Z.blotName="text",Z.scope=h.INLINE_BLOT;const Y=Z}},me={};function jt(K){var T=me[K];if(T!==void 0)return T.exports;var n=me[K]={id:K,loaded:!1,exports:{}};return Ie[K](n,n.exports,jt),n.loaded=!0,n.exports}jt.n=function(K){var T=K&&K.__esModule?function(){return K.default}:function(){return K};return jt.d(T,{a:T}),T},jt.d=function(K,T){for(var n in T)jt.o(T,n)&&!jt.o(K,n)&&Object.defineProperty(K,n,{enumerable:!0,get:T[n]})},jt.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),jt.o=function(K,T){return Object.prototype.hasOwnProperty.call(K,T)},jt.r=function(K){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})},jt.nmd=function(K){return K.paths=[],K.children||(K.children=[]),K};var Fe={};return(function(){"use strict";jt.d(Fe,{default:function(){return ye}});var K=jt(3729),T=jt(8276),n=jt(7912),h=jt(6003);class v extends h.ClassAttributor{add(I,U){let J=0;if(U==="+1"||U==="-1"){const ht=this.value(I)||0;J=U==="+1"?ht+1:ht-1}else typeof U=="number"&&(J=U);return J===0?(this.remove(I),!0):super.add(I,J.toString())}canAdd(I,U){return super.canAdd(I,U)||super.canAdd(I,parseInt(U,10))}value(I){return parseInt(super.value(I),10)||void 0}}var E=new v("indent","ql-indent",{scope:h.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),y=jt(9698);class L extends y.Ay{static blotName="blockquote";static tagName="blockquote"}var o=L;class N extends y.Ay{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(I){return this.tagName.indexOf(I.tagName)+1}}var c=N,x=jt(580),q=jt(6142);class a extends x.A{}a.blotName="list-container",a.tagName="OL";class b extends y.Ay{static create(I){const U=super.create();return U.setAttribute("data-list",I),U}static formats(I){return I.getAttribute("data-list")||void 0}static register(){q.Ay.register(a)}constructor(I,U){super(I,U);const J=U.ownerDocument.createElement("span"),ht=yt=>{if(!I.isEnabled())return;const Ot=this.statics.formats(U,I);Ot==="checked"?(this.format("list","unchecked"),yt.preventDefault()):Ot==="unchecked"&&(this.format("list","checked"),yt.preventDefault())};J.addEventListener("mousedown",ht),J.addEventListener("touchstart",ht),this.attachUI(J)}format(I,U){I===this.statics.blotName&&U?this.domNode.setAttribute("data-list",U):super.format(I,U)}}b.blotName="list",b.tagName="LI",a.allowedChildren=[b],b.requiredContainer=a;var k=jt(9541),R=jt(8638),P=jt(6772),Q=jt(664),et=jt(4850);class H extends et.A{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(I){super.optimize(I),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}var f=H;class j extends et.A{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(I){const U=super.create(I);return U.setAttribute("href",this.sanitize(I)),U.setAttribute("rel","noopener noreferrer"),U.setAttribute("target","_blank"),U}static formats(I){return I.getAttribute("href")}static sanitize(I){return F(I,this.PROTOCOL_WHITELIST)?I:this.SANITIZED_URL}format(I,U){I===this.statics.blotName&&U?this.domNode.setAttribute("href",this.constructor.sanitize(U)):super.format(I,U)}}function F(at,I){const U=document.createElement("a");U.href=at;const J=U.href.slice(0,U.href.indexOf(":"));return I.indexOf(J)>-1}class B extends et.A{static blotName="script";static tagName=["SUB","SUP"];static create(I){return I==="super"?document.createElement("sup"):I==="sub"?document.createElement("sub"):super.create(I)}static formats(I){return I.tagName==="SUB"?"sub":I.tagName==="SUP"?"super":void 0}}var W=B;class nt extends et.A{static blotName="underline";static tagName="U"}var tt=nt,ct=jt(746);class ft extends ct.A{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(I){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const U=super.create(I);return typeof I=="string"&&(window.katex.render(I,U,{throwOnError:!1,errorColor:"#f00"}),U.setAttribute("data-value",I)),U}static value(I){return I.getAttribute("data-value")}html(){const{formula:I}=this.value();return`<span>${I}</span>`}}var X=ft;const Z=["alt","height","width"];class Y extends h.EmbedBlot{static blotName="image";static tagName="IMG";static create(I){const U=super.create(I);return typeof I=="string"&&U.setAttribute("src",this.sanitize(I)),U}static formats(I){return Z.reduce(((U,J)=>(I.hasAttribute(J)&&(U[J]=I.getAttribute(J)),U)),{})}static match(I){return/\.(jpe?g|gif|png)$/.test(I)||/^data:image\/.+;base64/.test(I)}static sanitize(I){return F(I,["http","https","data"])?I:"//:0"}static value(I){return I.getAttribute("src")}format(I,U){Z.indexOf(I)>-1?U?this.domNode.setAttribute(I,U):this.domNode.removeAttribute(I):super.format(I,U)}}var i=Y;const t=["height","width"];class e extends y.zo{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(I){const U=super.create(I);return U.setAttribute("frameborder","0"),U.setAttribute("allowfullscreen","true"),U.setAttribute("src",this.sanitize(I)),U}static formats(I){return t.reduce(((U,J)=>(I.hasAttribute(J)&&(U[J]=I.getAttribute(J)),U)),{})}static sanitize(I){return j.sanitize(I)}static value(I){return I.getAttribute("src")}format(I,U){t.indexOf(I)>-1?U?this.domNode.setAttribute(I,U):this.domNode.removeAttribute(I):super.format(I,U)}html(){const{video:I}=this.value();return`<a href="${I}">${I}</a>`}}var r=e,S=jt(9404),p=jt(5232),m=jt.n(p),O=jt(4266),_=jt(3036),g=jt(4541),s=jt(5508),l=jt(584);const u=new h.ClassAttributor("code-token","hljs",{scope:h.Scope.INLINE});class A extends et.A{static formats(I,U){for(;I!=null&&I!==U.domNode;){if(I.classList&&I.classList.contains(S.Ay.className))return super.formats(I,U);I=I.parentNode}}constructor(I,U,J){super(I,U,J),u.add(this.domNode,J)}format(I,U){I!==A.blotName?super.format(I,U):U?u.add(this.domNode,U):(u.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),u.value(this.domNode)||this.unwrap()}}A.blotName="code-token",A.className="ql-token";class w extends S.Ay{static create(I){const U=super.create(I);return typeof I=="string"&&U.setAttribute("data-language",I),U}static formats(I){return I.getAttribute("data-language")||"plain"}static register(){}format(I,U){I===this.statics.blotName&&U?this.domNode.setAttribute("data-language",U):super.format(I,U)}replaceWith(I,U){return this.formatAt(0,this.length(),A.blotName,!1),super.replaceWith(I,U)}}class M extends S.EJ{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(I,U){I===w.blotName&&(this.forceNext=!0,this.children.forEach((J=>{J.format(I,U)})))}formatAt(I,U,J,ht){J===w.blotName&&(this.forceNext=!0),super.formatAt(I,U,J,ht)}highlight(I){let U=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;const J=`${Array.from(this.domNode.childNodes).filter((yt=>yt!==this.uiNode)).map((yt=>yt.textContent)).join(`
`)}
`,ht=w.formats(this.children.head.domNode);if(U||this.forceNext||this.cachedText!==J){if(J.trim().length>0||this.cachedText==null){const yt=this.children.reduce(((It,Wt)=>It.concat((0,y.mG)(Wt,!1))),new(m())),Ot=I(J,ht);yt.diff(Ot).reduce(((It,Wt)=>{let{retain:Jt,attributes:ie}=Wt;return Jt?(ie&&Object.keys(ie).forEach((ue=>{[w.blotName,A.blotName].includes(ue)&&this.formatAt(It,Jt,ue,ie[ue])})),It+Jt):It}),0)}this.cachedText=J,this.forceNext=!1}}html(I,U){const[J]=this.children.find(I);return`<pre data-language="${J?w.formats(J.domNode):"plain"}">
${(0,s.X)(this.code(I,U))}
</pre>`}optimize(I){if(super.optimize(I),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const U=w.formats(this.children.head.domNode);U!==this.uiNode.value&&(this.uiNode.value=U)}}}M.allowedChildren=[w],w.requiredContainer=M,w.allowedChildren=[A,g.A,s.A,_.A];class $ extends O.A{static register(){q.Ay.register(A,!0),q.Ay.register(w,!0),q.Ay.register(M,!0)}constructor(I,U){if(super(I,U),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce(((J,ht)=>{let{key:yt}=ht;return J[yt]=!0,J}),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(q.Ay.events.SCROLL_BLOT_MOUNT,(I=>{if(!(I instanceof M))return;const U=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((J=>{let{key:ht,label:yt}=J;const Ot=U.ownerDocument.createElement("option");Ot.textContent=yt,Ot.setAttribute("value",ht),U.appendChild(Ot)})),U.addEventListener("change",(()=>{I.format(w.blotName,U.value),this.quill.root.focus(),this.highlight(I,!0)})),I.uiNode==null&&(I.attachUI(U),I.children.head&&(U.value=w.formats(I.children.head.domNode)))}))}initTimer(){let I=null;this.quill.on(q.Ay.events.SCROLL_OPTIMIZE,(()=>{I&&clearTimeout(I),I=setTimeout((()=>{this.highlight(),I=null}),this.options.interval)}))}highlight(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,U=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(q.Ay.sources.USER);const J=this.quill.getSelection();(I==null?this.quill.scroll.descendants(M):[I]).forEach((ht=>{ht.highlight(this.highlightBlot,U)})),this.quill.update(q.Ay.sources.SILENT),J!=null&&this.quill.setSelection(J,q.Ay.sources.SILENT)}highlightBlot(I){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(U=this.languages[U]?U:"plain",U==="plain")return(0,s.X)(I).split(`
`).reduce(((ht,yt,Ot)=>(Ot!==0&&ht.insert(`
`,{[S.Ay.blotName]:U}),ht.insert(yt))),new(m()));const J=this.quill.root.ownerDocument.createElement("div");return J.classList.add(S.Ay.className),J.innerHTML=((ht,yt,Ot)=>{if(typeof ht.versionString=="string"){const It=ht.versionString.split(".")[0];if(parseInt(It,10)>=11)return ht.highlight(Ot,{language:yt}).value}return ht.highlight(yt,Ot).value})(this.options.hljs,U,I),(0,l.hV)(this.quill.scroll,J,[(ht,yt)=>{const Ot=u.value(ht);return Ot?yt.compose(new(m())().retain(yt.length(),{[A.blotName]:Ot})):yt}],[(ht,yt)=>ht.data.split(`
`).reduce(((Ot,It,Wt)=>(Wt!==0&&Ot.insert(`
`,{[S.Ay.blotName]:U}),Ot.insert(It))),yt)],new WeakMap)}}$.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class V extends y.Ay{static blotName="table";static tagName="TD";static create(I){const U=super.create();return I?U.setAttribute("data-row",I):U.setAttribute("data-row",st()),U}static formats(I){if(I.hasAttribute("data-row"))return I.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(I,U){I===V.blotName&&U?this.domNode.setAttribute("data-row",U):super.format(I,U)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class G extends x.A{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const I=this.children.head.formats(),U=this.children.tail.formats(),J=this.next.children.head.formats(),ht=this.next.children.tail.formats();return I.table===U.table&&I.table===J.table&&I.table===ht.table}return!1}optimize(I){super.optimize(I),this.children.forEach((U=>{if(U.next==null)return;const J=U.formats(),ht=U.next.formats();if(J.table!==ht.table){const yt=this.splitAfter(U);yt&&yt.optimize(),this.prev&&this.prev.optimize()}}))}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class rt extends x.A{static blotName="table-body";static tagName="TBODY"}class it extends x.A{static blotName="table-container";static tagName="TABLE";balanceCells(){const I=this.descendants(G),U=I.reduce(((J,ht)=>Math.max(ht.children.length,J)),0);I.forEach((J=>{new Array(U-J.children.length).fill(0).forEach((()=>{let ht;J.children.head!=null&&(ht=V.formats(J.children.head.domNode));const yt=this.scroll.create(V.blotName,ht);J.appendChild(yt),yt.optimize()}))}))}cells(I){return this.rows().map((U=>U.children.at(I)))}deleteColumn(I){const[U]=this.descendant(rt);U!=null&&U.children.head!=null&&U.children.forEach((J=>{const ht=J.children.at(I);ht?.remove()}))}insertColumn(I){const[U]=this.descendant(rt);U!=null&&U.children.head!=null&&U.children.forEach((J=>{const ht=J.children.at(I),yt=V.formats(J.children.head.domNode),Ot=this.scroll.create(V.blotName,yt);J.insertBefore(Ot,ht)}))}insertRow(I){const[U]=this.descendant(rt);if(U==null||U.children.head==null)return;const J=st(),ht=this.scroll.create(G.blotName);U.children.head.children.forEach((()=>{const Ot=this.scroll.create(V.blotName,J);ht.appendChild(Ot)}));const yt=U.children.at(I);U.insertBefore(ht,yt)}rows(){const I=this.children.head;return I==null?[]:I.children.map((U=>U))}}function st(){return`row-${Math.random().toString(36).slice(2,6)}`}it.allowedChildren=[rt],rt.requiredContainer=it,rt.allowedChildren=[G],G.requiredContainer=rt,G.allowedChildren=[V],V.requiredContainer=G;class pt extends O.A{static register(){q.Ay.register(V),q.Ay.register(G),q.Ay.register(rt),q.Ay.register(it)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(it).forEach((I=>{I.balanceCells()}))}deleteColumn(){const[I,,U]=this.getTable();U!=null&&(I.deleteColumn(U.cellOffset()),this.quill.update(q.Ay.sources.USER))}deleteRow(){const[,I]=this.getTable();I!=null&&(I.remove(),this.quill.update(q.Ay.sources.USER))}deleteTable(){const[I]=this.getTable();if(I==null)return;const U=I.offset();I.remove(),this.quill.update(q.Ay.sources.USER),this.quill.setSelection(U,q.Ay.sources.SILENT)}getTable(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(I==null)return[null,null,null,-1];const[U,J]=this.quill.getLine(I.index);if(U==null||U.statics.blotName!==V.blotName)return[null,null,null,-1];const ht=U.parent;return[ht.parent.parent,ht,U,J]}insertColumn(I){const U=this.quill.getSelection();if(!U)return;const[J,ht,yt]=this.getTable(U);if(yt==null)return;const Ot=yt.cellOffset();J.insertColumn(Ot+I),this.quill.update(q.Ay.sources.USER);let It=ht.rowOffset();I===0&&(It+=1),this.quill.setSelection(U.index+It,U.length,q.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(I){const U=this.quill.getSelection();if(!U)return;const[J,ht,yt]=this.getTable(U);if(yt==null)return;const Ot=ht.rowOffset();J.insertRow(Ot+I),this.quill.update(q.Ay.sources.USER),I>0?this.quill.setSelection(U,q.Ay.sources.SILENT):this.quill.setSelection(U.index+ht.children.length,U.length,q.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(I,U){const J=this.quill.getSelection();if(J==null)return;const ht=new Array(I).fill(0).reduce((yt=>{const Ot=new Array(U).fill(`
`).join("");return yt.insert(Ot,{table:st()})}),new(m())().retain(J.index));this.quill.updateContents(ht,q.Ay.sources.USER),this.quill.setSelection(J.index,q.Ay.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(q.Ay.events.SCROLL_OPTIMIZE,(I=>{I.some((U=>!!["TD","TR","TBODY","TABLE"].includes(U.target.tagName)&&(this.quill.once(q.Ay.events.TEXT_CHANGE,((J,ht,yt)=>{yt===q.Ay.sources.USER&&this.balanceTables()})),!0)))}))}}var ut=pt;const dt=(0,jt(6078).A)("quill:toolbar");class xt extends O.A{constructor(I,U){if(super(I,U),Array.isArray(this.options.container)){const J=document.createElement("div");J.setAttribute("role","toolbar"),(function(ht,yt){Array.isArray(yt[0])||(yt=[yt]),yt.forEach((Ot=>{const It=document.createElement("span");It.classList.add("ql-formats"),Ot.forEach((Wt=>{if(typeof Wt=="string")Tt(It,Wt);else{const Jt=Object.keys(Wt)[0],ie=Wt[Jt];Array.isArray(ie)?(function(ue,Ee,ne){const fe=document.createElement("select");fe.classList.add(`ql-${Ee}`),ne.forEach((D=>{const d=document.createElement("option");D!==!1?d.setAttribute("value",String(D)):d.setAttribute("selected","selected"),fe.appendChild(d)})),ue.appendChild(fe)})(It,Jt,ie):Tt(It,Jt,ie)}})),ht.appendChild(It)}))})(J,this.options.container),I.container?.parentNode?.insertBefore(J,I.container),this.container=J}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((J=>{const ht=this.options.handlers?.[J];ht&&this.addHandler(J,ht)})),Array.from(this.container.querySelectorAll("button, select")).forEach((J=>{this.attach(J)})),this.quill.on(q.Ay.events.EDITOR_CHANGE,(()=>{const[J]=this.quill.selection.getRange();this.update(J)}))):dt.error("Container required for toolbar",this.options)}addHandler(I,U){this.handlers[I]=U}attach(I){let U=Array.from(I.classList).find((ht=>ht.indexOf("ql-")===0));if(!U)return;if(U=U.slice(3),I.tagName==="BUTTON"&&I.setAttribute("type","button"),this.handlers[U]==null&&this.quill.scroll.query(U)==null)return void dt.warn("ignoring attaching to nonexistent format",U,I);const J=I.tagName==="SELECT"?"change":"click";I.addEventListener(J,(ht=>{let yt;if(I.tagName==="SELECT"){if(I.selectedIndex<0)return;const It=I.options[I.selectedIndex];yt=!It.hasAttribute("selected")&&(It.value||!1)}else yt=!I.classList.contains("ql-active")&&(I.value||!I.hasAttribute("value")),ht.preventDefault();this.quill.focus();const[Ot]=this.quill.selection.getRange();if(this.handlers[U]!=null)this.handlers[U].call(this,yt);else if(this.quill.scroll.query(U).prototype instanceof h.EmbedBlot){if(yt=prompt(`Enter ${U}`),!yt)return;this.quill.updateContents(new(m())().retain(Ot.index).delete(Ot.length).insert({[U]:yt}),q.Ay.sources.USER)}else this.quill.format(U,yt,q.Ay.sources.USER);this.update(Ot)})),this.controls.push([U,I])}update(I){const U=I==null?{}:this.quill.getFormat(I);this.controls.forEach((J=>{const[ht,yt]=J;if(yt.tagName==="SELECT"){let Ot=null;if(I==null)Ot=null;else if(U[ht]==null)Ot=yt.querySelector("option[selected]");else if(!Array.isArray(U[ht])){let It=U[ht];typeof It=="string"&&(It=It.replace(/"/g,'\\"')),Ot=yt.querySelector(`option[value="${It}"]`)}Ot==null?(yt.value="",yt.selectedIndex=-1):Ot.selected=!0}else if(I==null)yt.classList.remove("ql-active"),yt.setAttribute("aria-pressed","false");else if(yt.hasAttribute("value")){const Ot=U[ht],It=Ot===yt.getAttribute("value")||Ot!=null&&Ot.toString()===yt.getAttribute("value")||Ot==null&&!yt.getAttribute("value");yt.classList.toggle("ql-active",It),yt.setAttribute("aria-pressed",It.toString())}else{const Ot=U[ht]!=null;yt.classList.toggle("ql-active",Ot),yt.setAttribute("aria-pressed",Ot.toString())}}))}}function Tt(at,I,U){const J=document.createElement("button");J.setAttribute("type","button"),J.classList.add(`ql-${I}`),J.setAttribute("aria-pressed","false"),U!=null?(J.value=U,J.setAttribute("aria-label",`${I}: ${U}`)):J.setAttribute("aria-label",I),at.appendChild(J)}xt.DEFAULTS={},xt.DEFAULTS={container:null,handlers:{clean(){const at=this.quill.getSelection();if(at!=null)if(at.length===0){const I=this.quill.getFormat();Object.keys(I).forEach((U=>{this.quill.scroll.query(U,h.Scope.INLINE)!=null&&this.quill.format(U,!1,q.Ay.sources.USER)}))}else this.quill.removeFormat(at.index,at.length,q.Ay.sources.USER)},direction(at){const{align:I}=this.quill.getFormat();at==="rtl"&&I==null?this.quill.format("align","right",q.Ay.sources.USER):at||I!=="right"||this.quill.format("align",!1,q.Ay.sources.USER),this.quill.format("direction",at,q.Ay.sources.USER)},indent(at){const I=this.quill.getSelection(),U=this.quill.getFormat(I),J=parseInt(U.indent||0,10);if(at==="+1"||at==="-1"){let ht=at==="+1"?1:-1;U.direction==="rtl"&&(ht*=-1),this.quill.format("indent",J+ht,q.Ay.sources.USER)}},link(at){at===!0&&(at=prompt("Enter link URL:")),this.quill.format("link",at,q.Ay.sources.USER)},list(at){const I=this.quill.getSelection(),U=this.quill.getFormat(I);at==="check"?U.list==="checked"||U.list==="unchecked"?this.quill.format("list",!1,q.Ay.sources.USER):this.quill.format("list","unchecked",q.Ay.sources.USER):this.quill.format("list",at,q.Ay.sources.USER)}}};const _t='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var lt={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:_t,"code-block":_t,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let gt=0;function At(at,I){at.setAttribute(I,`${at.getAttribute(I)!=="true"}`)}var kt=class{constructor(at){this.select=at,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(()=>{this.togglePicker()})),this.label.addEventListener("keydown",(I=>{switch(I.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),I.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),At(this.label,"aria-expanded"),At(this.options,"aria-hidden")}buildItem(at){const I=document.createElement("span");I.tabIndex="0",I.setAttribute("role","button"),I.classList.add("ql-picker-item");const U=at.getAttribute("value");return U&&I.setAttribute("data-value",U),at.textContent&&I.setAttribute("data-label",at.textContent),I.addEventListener("click",(()=>{this.selectItem(I,!0)})),I.addEventListener("keydown",(J=>{switch(J.key){case"Enter":this.selectItem(I,!0),J.preventDefault();break;case"Escape":this.escape(),J.preventDefault()}})),I}buildLabel(){const at=document.createElement("span");return at.classList.add("ql-picker-label"),at.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',at.tabIndex="0",at.setAttribute("role","button"),at.setAttribute("aria-expanded","false"),this.container.appendChild(at),at}buildOptions(){const at=document.createElement("span");at.classList.add("ql-picker-options"),at.setAttribute("aria-hidden","true"),at.tabIndex="-1",at.id=`ql-picker-options-${gt}`,gt+=1,this.label.setAttribute("aria-controls",at.id),this.options=at,Array.from(this.select.options).forEach((I=>{const U=this.buildItem(I);at.appendChild(U),I.selected===!0&&this.selectItem(U)})),this.container.appendChild(at)}buildPicker(){Array.from(this.select.attributes).forEach((at=>{this.container.setAttribute(at.name,at.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(at){let I=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const U=this.container.querySelector(".ql-selected");at!==U&&(U?.classList.remove("ql-selected"),at!=null&&(at.classList.add("ql-selected"),this.select.selectedIndex=Array.from(at.parentNode.children).indexOf(at),at.hasAttribute("data-value")?this.label.setAttribute("data-value",at.getAttribute("data-value")):this.label.removeAttribute("data-value"),at.hasAttribute("data-label")?this.label.setAttribute("data-label",at.getAttribute("data-label")):this.label.removeAttribute("data-label"),I&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let at;if(this.select.selectedIndex>-1){const U=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];at=this.select.options[this.select.selectedIndex],this.selectItem(U)}else this.selectItem(null);const I=at!=null&&at!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",I)}},Nt=class extends kt{constructor(at,I){super(at),this.label.innerHTML=I,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((U=>{U.classList.add("ql-primary")}))}buildItem(at){const I=super.buildItem(at);return I.style.backgroundColor=at.getAttribute("value")||"",I}selectItem(at,I){super.selectItem(at,I);const U=this.label.querySelector(".ql-color-label"),J=at&&at.getAttribute("data-value")||"";U&&(U.tagName==="line"?U.style.stroke=J:U.style.fill=J)}},qt=class extends kt{constructor(at,I){super(at),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((U=>{U.innerHTML=I[U.getAttribute("data-value")||""]})),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(at,I){super.selectItem(at,I);const U=at||this.defaultItem;if(U!=null){if(this.label.innerHTML===U.innerHTML)return;this.label.innerHTML=U.innerHTML}}},Ut=class{constructor(at,I){this.quill=at,this.boundsContainer=I||document.body,this.root=at.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(U=>{const{overflowY:J}=getComputedStyle(U,null);return J!=="visible"&&J!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"})),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(at){const I=at.left+at.width/2-this.root.offsetWidth/2,U=at.bottom+this.quill.root.scrollTop;this.root.style.left=`${I}px`,this.root.style.top=`${U}px`,this.root.classList.remove("ql-flip");const J=this.boundsContainer.getBoundingClientRect(),ht=this.root.getBoundingClientRect();let yt=0;if(ht.right>J.right&&(yt=J.right-ht.right,this.root.style.left=`${I+yt}px`),ht.left<J.left&&(yt=J.left-ht.left,this.root.style.left=`${I+yt}px`),ht.bottom>J.bottom){const Ot=ht.bottom-ht.top,It=at.bottom-at.top+Ot;this.root.style.top=U-It+"px",this.root.classList.add("ql-flip")}return yt}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Pt=jt(8347),Ct=jt(5374),Ae=jt(9609);const Ne=[!1,"center","right","justify"],he=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],ke=[!1,"serif","monospace"],Oe=["1","2","3",!1],we=["small",!1,"large","huge"];class de extends Ae.A{constructor(I,U){super(I,U);const J=ht=>{document.body.contains(I.root)?(this.tooltip==null||this.tooltip.root.contains(ht.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach((yt=>{yt.container.contains(ht.target)||yt.close()}))):document.body.removeEventListener("click",J)};I.emitter.listenDOM("click",document.body,J)}addModule(I){const U=super.addModule(I);return I==="toolbar"&&this.extendToolbar(U),U}buildButtons(I,U){Array.from(I).forEach((J=>{(J.getAttribute("class")||"").split(/\s+/).forEach((ht=>{if(ht.startsWith("ql-")&&(ht=ht.slice(3),U[ht]!=null))if(ht==="direction")J.innerHTML=U[ht][""]+U[ht].rtl;else if(typeof U[ht]=="string")J.innerHTML=U[ht];else{const yt=J.value||"";yt!=null&&U[ht][yt]&&(J.innerHTML=U[ht][yt])}}))}))}buildPickers(I,U){this.pickers=Array.from(I).map((J=>{if(J.classList.contains("ql-align")&&(J.querySelector("option")==null&&Gt(J,Ne),typeof U.align=="object"))return new qt(J,U.align);if(J.classList.contains("ql-background")||J.classList.contains("ql-color")){const ht=J.classList.contains("ql-background")?"background":"color";return J.querySelector("option")==null&&Gt(J,he,ht==="background"?"#ffffff":"#000000"),new Nt(J,U[ht])}return J.querySelector("option")==null&&(J.classList.contains("ql-font")?Gt(J,ke):J.classList.contains("ql-header")?Gt(J,Oe):J.classList.contains("ql-size")&&Gt(J,we)),new kt(J)})),this.quill.on(Ct.A.events.EDITOR_CHANGE,(()=>{this.pickers.forEach((J=>{J.update()}))}))}}de.DEFAULTS=(0,Pt.A)({},Ae.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let at=this.container.querySelector("input.ql-image[type=file]");at==null&&(at=document.createElement("input"),at.setAttribute("type","file"),at.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),at.classList.add("ql-image"),at.addEventListener("change",(()=>{const I=this.quill.getSelection(!0);this.quill.uploader.upload(I,at.files),at.value=""})),this.container.appendChild(at)),at.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class se extends Ut{constructor(I,U){super(I,U),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(I=>{I.key==="Enter"?(this.save(),I.preventDefault()):I.key==="Escape"&&(this.cancel(),I.preventDefault())}))}cancel(){this.hide(),this.restoreFocus()}edit(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;U!=null?this.textbox.value=U:I!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const J=this.quill.getBounds(this.quill.selection.savedRange);J!=null&&this.position(J),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${I}`)||""),this.root.setAttribute("data-mode",I)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:I}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:U}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",I,Ct.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",I,Ct.A.sources.USER)),this.quill.root.scrollTop=U;break}case"video":I=(function(U){let J=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return J?`${J[1]||"https"}://www.youtube.com/embed/${J[2]}?showinfo=0`:(J=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${J[1]||"https"}://player.vimeo.com/video/${J[2]}/`:U})(I);case"formula":{if(!I)break;const U=this.quill.getSelection(!0);if(U!=null){const J=U.index+U.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),I,Ct.A.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",Ct.A.sources.USER),this.quill.setSelection(J+2,Ct.A.sources.USER)}break}}this.textbox.value="",this.hide()}}function Gt(at,I){let U=arguments.length>2&&arguments[2]!==void 0&&arguments[2];I.forEach((J=>{const ht=document.createElement("option");J===U?ht.setAttribute("selected","selected"):ht.setAttribute("value",String(J)),at.appendChild(ht)}))}var ee=jt(8298);const Zt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Ht extends se{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(I,U){super(I,U),this.quill.on(Ct.A.events.EDITOR_CHANGE,((J,ht,yt,Ot)=>{if(J===Ct.A.events.SELECTION_CHANGE)if(ht!=null&&ht.length>0&&Ot===Ct.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const It=this.quill.getLines(ht.index,ht.length);if(It.length===1){const Wt=this.quill.getBounds(ht);Wt!=null&&this.position(Wt)}else{const Wt=It[It.length-1],Jt=this.quill.getIndex(Wt),ie=Math.min(Wt.length()-1,ht.index+ht.length-Jt),ue=this.quill.getBounds(new ee.Q(Jt,ie));ue!=null&&this.position(ue)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}))}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")})),this.quill.on(Ct.A.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const I=this.quill.getSelection();if(I!=null){const U=this.quill.getBounds(I);U!=null&&this.position(U)}}),1)}))}cancel(){this.show()}position(I){const U=super.position(I),J=this.root.querySelector(".ql-tooltip-arrow");return J.style.marginLeft="",U!==0&&(J.style.marginLeft=-1*U-J.offsetWidth/2+"px"),U}}class Yt extends de{constructor(I,U){U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=Zt),super(I,U),this.quill.container.classList.add("ql-bubble")}extendToolbar(I){this.tooltip=new Ht(this.quill,this.options.bounds),I.container!=null&&(this.tooltip.root.appendChild(I.container),this.buildButtons(I.container.querySelectorAll("button"),lt),this.buildPickers(I.container.querySelectorAll("select"),lt))}}Yt.DEFAULTS=(0,Pt.A)({},de.DEFAULTS,{modules:{toolbar:{handlers:{link(at){at?this.quill.theme.tooltip.edit():this.quill.format("link",!1,q.Ay.sources.USER)}}}}});const Xt=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class xe extends se{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(I=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),I.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(I=>{if(this.linkRange!=null){const U=this.linkRange;this.restoreFocus(),this.quill.formatText(U,"link",!1,Ct.A.sources.USER),delete this.linkRange}I.preventDefault(),this.hide()})),this.quill.on(Ct.A.events.SELECTION_CHANGE,((I,U,J)=>{if(I!=null){if(I.length===0&&J===Ct.A.sources.USER){const[ht,yt]=this.quill.scroll.descendant(j,I.index);if(ht!=null){this.linkRange=new ee.Q(I.index-yt,ht.length());const Ot=j.formats(ht.domNode);this.preview.textContent=Ot,this.preview.setAttribute("href",Ot),this.show();const It=this.quill.getBounds(this.linkRange);return void(It!=null&&this.position(It))}}else delete this.linkRange;this.hide()}}))}show(){super.show(),this.root.removeAttribute("data-mode")}}class ce extends de{constructor(I,U){U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=Xt),super(I,U),this.quill.container.classList.add("ql-snow")}extendToolbar(I){I.container!=null&&(I.container.classList.add("ql-snow"),this.buildButtons(I.container.querySelectorAll("button"),lt),this.buildPickers(I.container.querySelectorAll("select"),lt),this.tooltip=new xe(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},((U,J)=>{I.handlers.link.call(I,!J.format.link)})))}}ce.DEFAULTS=(0,Pt.A)({},de.DEFAULTS,{modules:{toolbar:{handlers:{link(at){if(at){const I=this.quill.getSelection();if(I==null||I.length===0)return;let U=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(U)&&U.indexOf("mailto:")!==0&&(U=`mailto:${U}`);const{tooltip:J}=this.quill.theme;J.edit("link",U)}else this.quill.format("link",!1,q.Ay.sources.USER)}}}}});var be=ce;K.default.register({"attributors/attribute/direction":n.Mc,"attributors/class/align":T.qh,"attributors/class/background":k.l,"attributors/class/color":R.g3,"attributors/class/direction":n.sY,"attributors/class/font":P.q,"attributors/class/size":Q.U,"attributors/style/align":T.Hu,"attributors/style/background":k.s,"attributors/style/color":R.JM,"attributors/style/direction":n.VL,"attributors/style/font":P.z,"attributors/style/size":Q.r},!0),K.default.register({"formats/align":T.qh,"formats/direction":n.sY,"formats/indent":E,"formats/background":k.s,"formats/color":R.JM,"formats/font":P.q,"formats/size":Q.U,"formats/blockquote":o,"formats/code-block":S.Ay,"formats/header":c,"formats/list":b,"formats/bold":f,"formats/code":S.Cy,"formats/italic":class extends f{static blotName="italic";static tagName=["EM","I"]},"formats/link":j,"formats/script":W,"formats/strike":class extends f{static blotName="strike";static tagName=["S","STRIKE"]},"formats/underline":tt,"formats/formula":X,"formats/image":i,"formats/video":r,"modules/syntax":$,"modules/table":ut,"modules/toolbar":xt,"themes/bubble":Yt,"themes/snow":be,"ui/icons":lt,"ui/picker":kt,"ui/icon-picker":qt,"ui/color-picker":Nt,"ui/tooltip":Ut},!0);var ye=K.default})(),Fe.default})()}));
